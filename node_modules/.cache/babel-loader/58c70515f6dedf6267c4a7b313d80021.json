{"ast":null,"code":"import _classCallCheck from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/components-overview/CreateCommiteeForm.js\";\nimport React from \"react\";\nimport { ListGroup, ListGroupItem, Row, Col, Form, FormInput, FormGroup, FormCheckbox, FormTextarea, FormRadio, Card, CardHeader, CardBody, FormSelect, Button } from \"shards-react\";\nimport Parse from 'parse';\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar CreateCommiteeForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(CreateCommiteeForm, _React$Component);\n\n  var _super = _createSuper(CreateCommiteeForm);\n\n  function CreateCommiteeForm(props) {\n    var _this;\n\n    _classCallCheck(this, CreateCommiteeForm);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      data: [],\n      departments: [],\n      members: [],\n      selectedRes: null,\n      required: false,\n      questionText: '',\n      committees: [{\n        \"name\": \"\",\n        \"email\": \"\"\n      }],\n      category: 'Todas',\n      evaluationType: '',\n      value: '',\n      options: [],\n      selectedMembers: []\n    };\n    return _this;\n  }\n\n  _createClass(CreateCommiteeForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchNewData();\n      this.fetchDepartments();\n      this.fetchCategoryData();\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData() {\n      var _this2 = this;\n\n      var className = \"IdeaCategory\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        console.log('RESULTS: ' + results);\n\n        _this2.setState({\n          data: results\n        });\n      }, function (error) {\n        _this2.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchDepartments\",\n    value: function fetchDepartments() {\n      var _this3 = this;\n\n      var className = \"IdeaDepartment\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        console.log('RESULTS: ' + results);\n\n        _this3.setState({\n          departments: results\n        });\n      }, function (error) {\n        _this3.setState({\n          departments: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchCategoryData\",\n    value: function fetchCategoryData() {\n      var _this4 = this;\n\n      var className = \"User\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.limit(1000);\n      query.ascending(\"firstName\").find().then(function (results) {\n        var options = [];\n        {\n          results.map(function (result, idx) {\n            return options.push({\n              \"value\": result,\n              \"label\": _this4.getFullName(result)\n            });\n          });\n        }\n\n        _this4.setState({\n          options: options\n        }); // this.props.setResponsible(results[0], -1);\n\n      }, function (error) {\n        _this4.setState({\n          options: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"getFullName\",\n    value: function getFullName(result) {\n      if (result) {\n        return result.get(\"firstName\") + ' ' + result.get(\"lastName\");\n      }\n    }\n  }, {\n    key: \"handleCategoryChange\",\n    value: function handleCategoryChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        evaluationType: 'category',\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleDepartmentChange\",\n    value: function handleDepartmentChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        evaluationType: 'department',\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleManagementChange\",\n    value: function handleManagementChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        evaluationType: 'manage',\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleRequiredChange\",\n    value: function handleRequiredChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        required: !this.state.required\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"handleQuestionTextChange\",\n    value: function handleQuestionTextChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        questionText: event.target.value\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"handleMemberTextChange\",\n    value: function handleMemberTextChange(idx, event) {\n      var committees = this.state.committees;\n      var value = event.target.value;\n      var newCommittees = committees.slice();\n      newCommittees[idx].name = value;\n      this.setState({\n        committees: newCommittees\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"handleMemberEmailTextChange\",\n    value: function handleMemberEmailTextChange(idx, event) {\n      var committees = this.state.committees;\n      var value = event.target.value;\n      var newCommittees = committees.slice();\n      newCommittees[idx].email = value;\n      this.setState({\n        committees: newCommittees\n      }); // const newCommittees = committees.slice()\n      // newCommittees[idx].email = value\n      // this.setState({committees: newCommittees});\n    }\n  }, {\n    key: \"addMembers\",\n    value: function addMembers(members) {\n      // const { committees } = this.state;\n      // const oldComms = commitees; \n      // oldComms.push({\"name\":\" \", \"email\": \" \" });\n      console.log(members); //   this.setState(prevState => ({\n      //     committees: prevState.committees.concat({\"name\":\" \", \"email\": \" \" })\n      // }));\n\n      this.setState({\n        selectedMembers: members\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        required: false,\n        questionText: '',\n        category: 'Todas'\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          committees = _this$state.committees,\n          value = _this$state.value,\n          evaluationType = _this$state.evaluationType,\n          questionText = _this$state.questionText,\n          selectedMembers = _this$state.selectedMembers;\n      var className = \"EvaluationCommittee\";\n      var PropertyItem = Parse.Object.extend(className);\n      var newItem = new PropertyItem();\n      var parseObjs = [];\n\n      if (evaluationType == '' || value == '' || '') {\n        alert('Por favor asegurese de escoger el respectivo metodo de evaluacion.');\n      } else {\n        newItem.set(\"members\", selectedMembers);\n        newItem.set(\"evaluationType\", evaluationType);\n        newItem.set(\"value\", value);\n        newItem.set(\"name\", questionText);\n        newItem.set(\"canDelete\", true);\n        Parse.Object.saveAll([newItem], {\n          useMasterKey: true\n        }).then(function (item) {\n          // Execute any logic that should take place after the object is saved.\n          if (evaluationType == 'manage') {\n            selectedMembers.forEach(function (obj) {\n              var member = obj.value;\n\n              if (member.get(\"role\") != 'super_user') {\n                var type = _this5.getType(value);\n\n                if (value == 'PMO') {\n                  member.set(\"pmo\", true);\n                }\n\n                member.set(\"role\", type);\n                parseObjs.push(member);\n              }\n            });\n          } else {\n            selectedMembers.forEach(function (obj) {\n              var member = obj.value;\n\n              if (member.get(\"role\") != 'super_user') {\n                var evaluationCriteria = member.get(\"evaluationCriteria\");\n                evaluationCriteria.push(value);\n                member.set(\"role\", 'evaluation');\n                member.set(\"evaluationCriteria\", evaluationCriteria);\n                parseObjs.push(member);\n              }\n            });\n          }\n\n          Parse.Object.saveAll(parseObjs, {\n            useMasterKey: true\n          }).then(function () {\n            _this5.resetForm();\n\n            alert('¡La operacion fue exitosa!');\n          });\n        }, function (error) {\n          console.log(error); // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n    }\n  }, {\n    key: \"getType\",\n    value: function getType(value) {\n      switch (value) {\n        case 'Evaluación':\n          // code block\n          return 'evaluation';\n\n        case 'Verificación':\n          // code block\n          return 'verification';\n\n        case 'Reconocimiento':\n          // code block\n          return 'recognition';\n\n        case 'PMO':\n          // code block\n          return 'evaluation';\n\n        default: // code block\n\n      }\n    }\n  }, {\n    key: \"changeResponsibilityType\",\n    value: function changeResponsibilityType(responsibility) {\n      this.setState({\n        selectedRes: responsibility\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _this$state2 = this.state,\n          required = _this$state2.required,\n          questionText = _this$state2.questionText,\n          category = _this$state2.category,\n          data = _this$state2.data,\n          committees = _this$state2.committees,\n          options = _this$state2.options,\n          selectedMembers = _this$state2.selectedMembers;\n      var t = this.props.t;\n      return /*#__PURE__*/_jsxDEV(Card, {\n        small: true,\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"border-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"m-0\",\n            children: t('EVAL_COMMITTEE_NEW')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n          className: \"p-0\",\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            flush: true,\n            children: /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              className: \"p-3\",\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(Form, {\n                    children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"feInputAddress2\",\n                        children: t('EVAL_COMMITTEE')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 21\n                      }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                        value: questionText,\n                        onChange: this.handleQuestionTextChange.bind(this),\n                        id: \"feInputAddress2\",\n                        placeholder: t('EVAL_COMMITTEE_PLACEHOLDER')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 294,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 292,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"feInputAddress2\",\n                      children: t('EVAL_COMMITTEE_MEMBER')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(Select, {\n                      value: selectedMembers,\n                      onChange: this.addMembers.bind(this),\n                      isMulti: true,\n                      options: options,\n                      placeholder: 'Seleccione Empleados',\n                      clearable: false\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 301,\n                      columnNumber: 19\n                    }, this), /*#__PURE__*/_jsxDEV(Row, {\n                      children: [\"\\xA0\", /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"12\",\n                        style: {\n                          zIndex: 0\n                        },\n                        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"mb-2\",\n                          children: t('EVAL_COMMITTEE_TYPE_TITLE')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 314,\n                          columnNumber: 21\n                        }, this), /*#__PURE__*/_jsxDEV(FormRadio, {\n                          inline: true,\n                          name: \"sport\",\n                          checked: this.state.selectedRes === \"department\",\n                          onChange: function onChange() {\n                            _this6.changeResponsibilityType(\"department\");\n                          },\n                          children: t('EVAL_COMMITTEE_AREA')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 315,\n                          columnNumber: 11\n                        }, this), /*#__PURE__*/_jsxDEV(FormRadio, {\n                          inline: true,\n                          name: \"responsibility\",\n                          checked: this.state.selectedRes === \"category\",\n                          onChange: function onChange() {\n                            _this6.changeResponsibilityType(\"category\");\n                          },\n                          children: t('EVAL_COMMITTEE_CLASSIFICATION')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 325,\n                          columnNumber: 11\n                        }, this), /*#__PURE__*/_jsxDEV(FormRadio, {\n                          inline: true,\n                          name: \"manage\",\n                          checked: this.state.selectedRes === \"manage\",\n                          onChange: function onChange() {\n                            _this6.changeResponsibilityType(\"manage\");\n                          },\n                          children: t('EVAL_COMMITTEE_MANAGE')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 335,\n                          columnNumber: 11\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 313,\n                        columnNumber: 21\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 17\n                    }, this), this.state.selectedRes == 'category' ? /*#__PURE__*/_jsxDEV(Row, {\n                      form: true,\n                      children: /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"12\",\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"feInputState\",\n                          children: t('EVAL_COMMITTEE_CATEGORY')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 352,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                          id: \"feInputState\",\n                          onChange: this.handleCategoryChange.bind(this),\n                          value: this.state.value,\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"Todas\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 354,\n                            columnNumber: 25\n                          }, this), this.state.data.map(function (item, idx) {\n                            return (\n                              /*#__PURE__*/\n                              // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                              //   {item.get(\"itemName\")}\n                              // </FormCheckbox>\n                              _jsxDEV(\"option\", {\n                                children: item.get(\"itemName\")\n                              }, idx, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 359,\n                                columnNumber: 31\n                              }, _this6) //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n\n                            );\n                          })]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 353,\n                          columnNumber: 23\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 351,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 350,\n                      columnNumber: 19\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 364,\n                      columnNumber: 26\n                    }, this), this.state.selectedRes == 'department' ? /*#__PURE__*/_jsxDEV(Row, {\n                      form: true,\n                      children: /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"12\",\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"feInputState\",\n                          children: t('EVAL_COMMITTEE_DEPARTMENT')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 368,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                          id: \"feInputState\",\n                          onChange: this.handleDepartmentChange.bind(this),\n                          value: this.state.value,\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"Todos\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 370,\n                            columnNumber: 25\n                          }, this), this.state.departments.map(function (item, idx) {\n                            return (\n                              /*#__PURE__*/\n                              // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                              //   {item.get(\"itemName\")}\n                              // </FormCheckbox>\n                              _jsxDEV(\"option\", {\n                                children: item.get(\"itemName\")\n                              }, idx, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 375,\n                                columnNumber: 31\n                              }, _this6) //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n\n                            );\n                          })]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 369,\n                          columnNumber: 23\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 367,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 366,\n                      columnNumber: 19\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 380,\n                      columnNumber: 26\n                    }, this), this.state.selectedRes == 'manage' ? /*#__PURE__*/_jsxDEV(Row, {\n                      form: true,\n                      children: /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"12\",\n                        className: \"form-group\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"feInputState\",\n                          children: t('EVAL_COMMITTEE_DEPARTMENT')\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 384,\n                          columnNumber: 23\n                        }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                          id: \"feInputState\",\n                          onChange: this.handleManagementChange.bind(this),\n                          value: this.state.value,\n                          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"Verificaci\\xF3n\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 386,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"Reconocimiento\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 387,\n                            columnNumber: 25\n                          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                            children: \"PMO\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 388,\n                            columnNumber: 25\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 385,\n                          columnNumber: 23\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 383,\n                        columnNumber: 21\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 382,\n                      columnNumber: 19\n                    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 26\n                    }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: function onClick(e) {\n                        return _this6.handleSubmit(e);\n                      },\n                      children: t('EVAL_COMMITTEE_CREATE_COMMITTEE')\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 393,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 291,\n                    columnNumber: 17\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 15\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 289,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return CreateCommiteeForm;\n}(React.Component);\n\nexport default withTranslation()(CreateCommiteeForm);","map":{"version":3,"sources":["/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/components-overview/CreateCommiteeForm.js"],"names":["React","ListGroup","ListGroupItem","Row","Col","Form","FormInput","FormGroup","FormCheckbox","FormTextarea","FormRadio","Card","CardHeader","CardBody","FormSelect","Button","Parse","useTranslation","initReactI18next","withTranslation","Select","CreateCommiteeForm","props","state","data","departments","members","selectedRes","required","questionText","committees","category","evaluationType","value","options","selectedMembers","fetchNewData","fetchDepartments","fetchCategoryData","className","ItemClass","Object","extend","query","Query","find","then","results","console","log","setState","error","limit","ascending","map","result","idx","push","getFullName","get","event","target","newCommittees","slice","name","email","PropertyItem","newItem","parseObjs","alert","set","saveAll","useMasterKey","item","forEach","obj","member","type","getType","evaluationCriteria","resetForm","message","responsibility","t","handleQuestionTextChange","bind","addMembers","zIndex","changeResponsibilityType","handleCategoryChange","handleDepartmentChange","handleManagementChange","e","handleSubmit","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  ListGroup,\n  ListGroupItem,\n  Row,\n  Col,\n  Form,\n  FormInput,\n  FormGroup,\n  FormCheckbox,\n  FormTextarea,\n  FormRadio,\n  Card,\n  CardHeader,\n  CardBody,\n  FormSelect,\n  Button\n} from \"shards-react\";\nimport Parse from 'parse';\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nimport Select from 'react-select';\n\nclass CreateCommiteeForm extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: [],\n      departments: [],\n      members: [],\n      selectedRes: null,\n      required: false,\n      questionText: '',\n      committees: [{\"name\":\"\", \"email\": \"\" }],\n      category: 'Todas', \n      evaluationType: '',\n      value: '',\n      options: [],\n      selectedMembers: []\n    }\n  }\n\n  componentDidMount() {\n    this.fetchNewData();\n    this.fetchDepartments();\n    this.fetchCategoryData();\n  }\n\n  fetchNewData() {\n    const className = \"IdeaCategory\";\n\n    var ItemClass = Parse.Object.extend(className);\n    var query = new Parse.Query(ItemClass);\n\n    query.find()\n    .then((results) => {\n      console.log('RESULTS: ' + results);\n        this.setState({\n            data: results\n        });\n    }, (error) => {\n        this.setState({\n            data: []\n        });\n      // The object was not retrieved successfully.\n      // error is a Parse.Error with an error code and message.\n    });\n  }\n\n  fetchDepartments() {\n    const className = \"IdeaDepartment\";\n\n    var ItemClass = Parse.Object.extend(className);\n    var query = new Parse.Query(ItemClass);\n\n    query.find()\n    .then((results) => {\n      console.log('RESULTS: ' + results);\n        this.setState({\n            departments: results\n        });\n    }, (error) => {\n        this.setState({\n            departments: []\n        });\n      // The object was not retrieved successfully.\n      // error is a Parse.Error with an error code and message.\n    });\n  }\n\n  fetchCategoryData() {\n    const className = \"User\";\n\n    var ItemClass = Parse.Object.extend(className);\n    var query = new Parse.Query(ItemClass);\n    query.limit(1000)\n    query.ascending(\"firstName\").find()\n    .then((results) => {\n        const options = []\n        {\n            results.map((result, idx) => options.push({\"value\":result, \"label\":this.getFullName(result)}))\n        }\n        \n        this.setState({\n            options: options\n        });\n        // this.props.setResponsible(results[0], -1);\n    }, (error) => {\n        this.setState({\n            options: []\n        });\n      // The object was not retrieved successfully.\n      // error is a Parse.Error with an error code and message.\n    });\n  }\n\n  getFullName(result) {\n    if (result) {\n        return result.get(\"firstName\") + ' ' + result.get(\"lastName\");\n    }\n  }\n\n  handleCategoryChange(event) {\n    console.log(event.target.value);\n    this.setState({evaluationType: 'category', value: event.target.value});\n  }\n\n  handleDepartmentChange(event) {\n    console.log(event.target.value);\n    this.setState({evaluationType: 'department', value: event.target.value});\n  }\n\n  handleManagementChange(event) {\n    console.log(event.target.value);\n    this.setState({evaluationType: 'manage', value: event.target.value});\n  }\n\n  handleRequiredChange(event) {\n    console.log(event.target.value);\n    this.setState({required: !this.state.required});\n    // this.setState({value: this.props.value});\n  }\n\n  handleQuestionTextChange(event) {\n    console.log(event.target.value);\n    this.setState({questionText: event.target.value});\n    // this.setState({value: this.props.value});\n  }\n\n  handleMemberTextChange(idx, event) {\n    const {committees} = this.state;\n    const value = event.target.value;\n    const newCommittees = committees.slice()\n    newCommittees[idx].name = value\n    this.setState({committees: newCommittees});\n    // this.setState({value: this.props.value});\n  }\n\n  handleMemberEmailTextChange(idx, event) {\n    const {committees} = this.state;\n    const value = event.target.value;\n    const newCommittees = committees.slice()\n    newCommittees[idx].email= value\n    this.setState({committees: newCommittees});\n    // const newCommittees = committees.slice()\n    // newCommittees[idx].email = value\n    // this.setState({committees: newCommittees});\n  }\n\n  addMembers(members) {\n    // const { committees } = this.state;\n    // const oldComms = commitees; \n    // oldComms.push({\"name\":\" \", \"email\": \" \" });\n    console.log(members)\n  //   this.setState(prevState => ({\n  //     committees: prevState.committees.concat({\"name\":\" \", \"email\": \" \" })\n  // }));\n    this.setState({selectedMembers: members});\n    // this.setState({value: this.props.value});\n  }\n\n\n  resetForm() {\n    this.setState({\n      required: false,\n      questionText: '',\n      category: 'Todas',\n    });\n  }\n\n  handleSubmit(event) {\n    const {committees, value, evaluationType, questionText, selectedMembers} = this.state;\n\n    const className = \"EvaluationCommittee\";\n    const PropertyItem = Parse.Object.extend(className);\n    const newItem= new PropertyItem();\n    var parseObjs = []\n\n    if (evaluationType == '' || value == '' || '') {\n      alert('Por favor asegurese de escoger el respectivo metodo de evaluacion.');\n    } else {\n      newItem.set(\"members\", selectedMembers);\n      newItem.set(\"evaluationType\", evaluationType);\n      newItem.set(\"value\", value);\n      newItem.set(\"name\", questionText);\n      newItem.set(\"canDelete\", true);\n      Parse.Object.saveAll([newItem], {useMasterKey: true})\n      .then((item) => {\n      // Execute any logic that should take place after the object is saved.\n        if (evaluationType == 'manage') {\n            selectedMembers.forEach((obj) => {\n              const member = obj.value\n              if (member.get(\"role\") != 'super_user') {\n                const type = this.getType(value)\n\n                if (value == 'PMO') {\n                  member.set(\"pmo\", true);\n                }\n\n                member.set(\"role\", type);\n                parseObjs.push(member);\n              }\n              \n          });\n        } else {\n          selectedMembers.forEach((obj) => {\n            const member = obj.value\n            if (member.get(\"role\") != 'super_user') {\n\n              var evaluationCriteria = member.get(\"evaluationCriteria\")\n              evaluationCriteria.push(value)\n              member.set(\"role\", 'evaluation');\n              member.set(\"evaluationCriteria\", evaluationCriteria);\n              parseObjs.push(member);\n            }\n          });\n        }\n        Parse.Object.saveAll(parseObjs, {useMasterKey: true}).then(() => {\n          this.resetForm()\n          alert('¡La operacion fue exitosa!');\n        });\n        }, (error) => {\n          console.log(error)\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n    }\n  }\n\n  getType(value) {\n    switch(value) {\n      case 'Evaluación':\n        // code block\n        return 'evaluation'\n      case 'Verificación':\n        // code block\n        return 'verification'\n      case 'Reconocimiento':\n        // code block\n        return 'recognition'\n      case 'PMO':\n        // code block\n        return 'evaluation'\n      default:\n        // code block\n    }\n  }\n\n  changeResponsibilityType(responsibility) {\n    this.setState({\n      selectedRes: responsibility\n    });\n  }\n\n  render() {\n    const { required, questionText, category, data, committees, options, selectedMembers } = this.state;\n    const {t} = this.props\n    \n    return(\n      <Card small className=\"mb-3\">\n        <CardHeader className=\"border-bottom\">\n          <h6 className=\"m-0\">{t('EVAL_COMMITTEE_NEW')}</h6> \n        </CardHeader>\n        <CardBody className=\"p-0\">\n          <ListGroup flush>\n          <ListGroupItem className=\"p-3\">\n            <Row>\n              <Col>\n                <Form>\n                  <FormGroup>\n                    <label htmlFor=\"feInputAddress2\">{t('EVAL_COMMITTEE')}</label>\n                    <FormInput value={questionText} onChange={this.handleQuestionTextChange.bind(this)}\n                      id=\"feInputAddress2\"\n                      placeholder={t('EVAL_COMMITTEE_PLACEHOLDER')}\n                    />\n                  </FormGroup>\n                  \n                  <label htmlFor=\"feInputAddress2\">{t('EVAL_COMMITTEE_MEMBER')}</label>\n                  <Select\n                      value={selectedMembers}\n                      onChange={this.addMembers.bind(this)}\n                      isMulti\n                      options={options}\n                      placeholder={'Seleccione Empleados'}\n                      clearable={false}\n                  />\n\n                  {/* <Button onClick={e => this.addMembers()}>{t('EVAL_COMMITTEE_MEMBER_BTN')}</Button> */}\n                <Row>\n                    &nbsp;\n                    <Col md=\"12\" style={{zIndex: 0}}>\n                    <p className=\"mb-2\">{t('EVAL_COMMITTEE_TYPE_TITLE')}</p>\n          <FormRadio\n            inline\n            name=\"sport\"\n            checked={this.state.selectedRes === \"department\"}\n            onChange={() => {\n              this.changeResponsibilityType(\"department\");\n            }}\n          >\n            {t('EVAL_COMMITTEE_AREA')}\n          </FormRadio>\n          <FormRadio\n            inline\n            name=\"responsibility\"\n            checked={this.state.selectedRes === \"category\"}\n            onChange={() => {\n              this.changeResponsibilityType(\"category\");\n            }}\n          >\n            {t('EVAL_COMMITTEE_CLASSIFICATION')}\n          </FormRadio>\n          <FormRadio\n            inline\n            name=\"manage\"\n            checked={this.state.selectedRes === \"manage\"}\n            onChange={() => {\n              this.changeResponsibilityType(\"manage\");\n            }}\n          >\n            {t('EVAL_COMMITTEE_MANAGE')}\n          </FormRadio>\n          \n                    </Col>\n                    \n                </Row>\n                {this.state.selectedRes=='category'?\n                  <Row form>\n                    <Col md=\"12\" className=\"form-group\">\n                      <label htmlFor=\"feInputState\">{t('EVAL_COMMITTEE_CATEGORY')}</label>\n                      <FormSelect id=\"feInputState\" onChange={this.handleCategoryChange.bind(this)} value={this.state.value}>\n                        <option>Todas</option>\n                        { this.state.data.map((item, idx) => (\n                              // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                              //   {item.get(\"itemName\")}\n                              // </FormCheckbox>\n                              <option key={idx}>{item.get(\"itemName\")}</option>\n                          //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n                          ))}\n                      </FormSelect>\n                    </Col>\n                  </Row>:<div></div>}\n                  {this.state.selectedRes=='department'?\n                  <Row form>\n                    <Col md=\"12\" className=\"form-group\">\n                      <label htmlFor=\"feInputState\">{t('EVAL_COMMITTEE_DEPARTMENT')}</label>\n                      <FormSelect id=\"feInputState\" onChange={this.handleDepartmentChange.bind(this)} value={this.state.value}>\n                        <option>Todos</option>\n                        { this.state.departments.map((item, idx) => (\n                              // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                              //   {item.get(\"itemName\")}\n                              // </FormCheckbox>\n                              <option key={idx}>{item.get(\"itemName\")}</option>\n                          //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n                          ))}\n                      </FormSelect>\n                    </Col>\n                  </Row>:<div></div>}\n                  {this.state.selectedRes=='manage'?\n                  <Row form>\n                    <Col md=\"12\" className=\"form-group\">\n                      <label htmlFor=\"feInputState\">{t('EVAL_COMMITTEE_DEPARTMENT')}</label>\n                      <FormSelect id=\"feInputState\" onChange={this.handleManagementChange.bind(this)} value={this.state.value}>\n                        <option>Verificación</option>\n                        <option>Reconocimiento</option>\n                        <option>PMO</option>\n                      </FormSelect>\n                    </Col>\n                  </Row>:<div></div>}\n                  &nbsp;\n                        <Button onClick={e => this.handleSubmit(e)}>{t('EVAL_COMMITTEE_CREATE_COMMITTEE')}</Button>\n                </Form>\n              </Col>\n            </Row>\n          </ListGroupItem>\n        </ListGroup>\n      </CardBody>\n    </Card>\n    )\n  }\n}\n\nexport default withTranslation()(CreateCommiteeForm);\n"]},"metadata":{},"sourceType":"module"}