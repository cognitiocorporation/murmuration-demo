{"ast":null,"code":"import _classCallCheck from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/angelvazquez/Desktop/murmuration-demo/src/components/administration/PropertyManager.js\";\nimport React, { Component } from \"react\";\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem, Button, InputGroup, InputGroupAddon, FormCheckbox, Container, Col, Row, FormInput } from \"shards-react\";\nimport Parse from 'parse';\nimport { withTranslation } from \"react-i18next\";\nvar storageLanguage = localStorage.getItem('language');\n\nvar PropertyManager = /*#__PURE__*/function (_Component) {\n  _inherits(PropertyManager, _Component);\n\n  function PropertyManager(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyManager);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PropertyManager).call(this, props));\n    _this.state = {\n      /* initial state */\n      data: [],\n      newItem: '',\n      newItemSpanish: '',\n      newCat: '',\n      newCatSpanish: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCatChange = _this.handleCatChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChangeSpanish = _this.handleChangeSpanish.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleCatChangeSpanish = _this.handleCatChangeSpanish.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleToggle = _this.handleToggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PropertyManager, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        newItem: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeSpanish\",\n    value: function handleChangeSpanish(event) {\n      this.setState({\n        newItemSpanish: event.target.value\n      });\n    }\n  }, {\n    key: \"handleCatChange\",\n    value: function handleCatChange(event) {\n      this.setState({\n        newCat: event.target.value\n      });\n    }\n  }, {\n    key: \"handleCatChangeSpanish\",\n    value: function handleCatChangeSpanish(event) {\n      this.setState({\n        newCatSpanish: event.target.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchNewData();\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData() {\n      var _this2 = this;\n\n      var className = this.props.className;\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        console.log('RESULTS: ' + results);\n\n        _this2.setState({\n          data: results\n        });\n      }, function (error) {\n        _this2.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this3 = this;\n\n      var className = this.props.className;\n      var PropertyItem = Parse.Object.extend(className);\n      var newItem = new PropertyItem();\n      newItem.set(\"itemName\", this.state.newItem);\n      newItem.set(\"itemNameTrans\", {\n        \"en\": this.state.newItem,\n        \"es\": this.state.newItemSpanish\n      });\n\n      if (className == \"IdeaCategory\") {\n        newItem.set(\"show\", false);\n      }\n\n      newItem.save().then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this3.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"handleCategorySubmit\",\n    value: function handleCategorySubmit(event) {\n      var _this4 = this;\n\n      var className = this.props.className;\n      var PropertyItem = Parse.Object.extend(className);\n      var newItem = new PropertyItem();\n      newItem.set(\"itemName\", this.state.newCatSpanish);\n      newItem.set(\"extra\", true);\n      newItem.set(\"itemNameTrans\", {\n        \"en\": this.state.newCat,\n        \"es\": this.state.newCatSpanish\n      }); // if (className == \"IdeaCategory\") {\n      //   newItem.set(\"show\", false);\n      // }\n\n      newItem.save().then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this4.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"handleToggle\",\n    value: function handleToggle(item) {\n      var _this5 = this;\n\n      var className = this.props.className;\n      console.log('clicked');\n\n      if (className == \"IdeaCategory\" || className == \"IdeaDepartment\") {\n        console.log(item);\n        var isShowing = item.get(\"show\");\n        item.set(\"show\", !isShowing);\n        item.save().then(function (item) {\n          // Now let's update it with some new data. In this case, only cheatMode and score\n          // will get sent to the cloud. playerName hasn't changed.\n          _this5.fetchNewData();\n        });\n      }\n    }\n  }, {\n    key: \"deleteItem\",\n    value: function deleteItem(item) {\n      var _this6 = this;\n\n      item.destroy({}).then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this6.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 15\n        }\n      }, this.props.title)), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        flush: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"p-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }\n      }, this.state.data.map(function (item, idx) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"d-flex mb-2\",\n          __self: _this7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 22\n          }\n        }, /*#__PURE__*/React.createElement(FormCheckbox, {\n          onChange: function onChange(e) {\n            return _this7.handleToggle(item);\n          },\n          className: \"mb-1\",\n          checked: item.get(\"show\"),\n          key: idx,\n          __self: _this7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }\n        }, _this7.props.className == \"IdeaCategory\" ? item.get(\"itemNameTrans\")[storageLanguage] : item.get(\"itemName\")), _this7.props.className == \"IdeaDepartment\" && /*#__PURE__*/React.createElement(\"a\", {\n          danger: true,\n          className: \"ml-auto\",\n          onClick: function onClick(e) {\n            return _this7.deleteItem(item);\n          },\n          __self: _this7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 27\n          }\n        }, \"X\"), item.get(\"extra\") == true && /*#__PURE__*/React.createElement(\"a\", {\n          danger: true,\n          className: \"ml-auto\",\n          onClick: function onClick(e) {\n            return _this7.deleteItem(item);\n          },\n          __self: _this7,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 27\n          }\n        }, \"X\"));\n      })), this.props.className == \"IdeaDepartment\" && /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"d-flex px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(InputGroup, {\n        className: \"ml-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormInput, {\n        value: this.state.value,\n        onChange: this.handleChange,\n        placeholder: t('ENGLISH'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(FormInput, {\n        value: this.state.value,\n        onChange: this.handleChangeSpanish,\n        placeholder: t('SPANISH'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(InputGroupAddon, {\n        type: \"append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick(e) {\n          return _this7.handleSubmit(e);\n        },\n        theme: \"white\",\n        className: \"px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 25\n        }\n      }, \"add\"))))), this.props.className == \"IdeaCategory\" && this.state.data.length < 5 && /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"d-flex px-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(InputGroup, {\n        className: \"ml-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(FormInput, {\n        value: this.state.value,\n        onChange: this.handleCatChange,\n        placeholder: t('ENGLISH'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(FormInput, {\n        value: this.state.value,\n        onChange: this.handleCatChangeSpanish,\n        placeholder: t('SPANISH'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(InputGroupAddon, {\n        type: \"append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick(e) {\n          return _this7.handleCategorySubmit(e);\n        },\n        theme: \"white\",\n        className: \"px-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 25\n        }\n      }, \"add\"))))))));\n    }\n  }]);\n\n  return PropertyManager;\n}(Component);\n\nPropertyManager.defaultProps = {\n  title: \"Categorias\"\n};\nexport default withTranslation()(PropertyManager);","map":{"version":3,"sources":["/Users/angelvazquez/Desktop/murmuration-demo/src/components/administration/PropertyManager.js"],"names":["React","Component","Card","CardHeader","CardBody","ListGroup","ListGroupItem","Button","InputGroup","InputGroupAddon","FormCheckbox","Container","Col","Row","FormInput","Parse","withTranslation","storageLanguage","localStorage","getItem","PropertyManager","props","state","data","newItem","newItemSpanish","newCat","newCatSpanish","handleChange","bind","handleCatChange","handleChangeSpanish","handleCatChangeSpanish","handleSubmit","handleToggle","event","setState","target","value","fetchNewData","className","ItemClass","Object","extend","query","Query","find","then","results","console","log","error","PropertyItem","set","save","item","alert","message","isShowing","get","destroy","t","title","map","idx","e","deleteItem","length","handleCategorySubmit","defaultProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,SACEC,IADF,EAEEC,UAFF,EAGEC,QAHF,EAIEC,SAJF,EAKEC,aALF,EAMEC,MANF,EAOEC,UAPF,EAQEC,eARF,EASEC,YATF,EAUEC,SAVF,EAWEC,GAXF,EAYEC,GAZF,EAaEC,SAbF,QAcO,cAdP;AAeA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,eAAhC;AAEA,IAAMC,eAAe,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAxB;;IAEMC,e;;;AAEF,2BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,yFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AACT;AACAC,MAAAA,IAAI,EAAC,EAFI;AAGTC,MAAAA,OAAO,EAAC,EAHC;AAITC,MAAAA,cAAc,EAAC,EAJN;AAKTC,MAAAA,MAAM,EAAC,EALE;AAMTC,MAAAA,aAAa,EAAC;AANL,KAAb;AASA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,eAAL,GAAuB,MAAKA,eAAL,CAAqBD,IAArB,uDAAvB;AACA,UAAKE,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBF,IAAzB,uDAA3B;AACA,UAAKG,sBAAL,GAA8B,MAAKA,sBAAL,CAA4BH,IAA5B,uDAA9B;AACA,UAAKI,YAAL,GAAoB,MAAKA,YAAL,CAAkBJ,IAAlB,uDAApB;AACA,UAAKK,YAAL,GAAoB,MAAKA,YAAL,CAAkBL,IAAlB,uDAApB;AAjBe;AAkBhB;;;;iCAEYM,K,EAAO;AAClB,WAAKC,QAAL,CAAc;AAACZ,QAAAA,OAAO,EAAEW,KAAK,CAACE,MAAN,CAAaC;AAAvB,OAAd;AACD;;;wCAEmBH,K,EAAO;AACzB,WAAKC,QAAL,CAAc;AAACX,QAAAA,cAAc,EAAEU,KAAK,CAACE,MAAN,CAAaC;AAA9B,OAAd;AACD;;;oCAEeH,K,EAAO;AACrB,WAAKC,QAAL,CAAc;AAACV,QAAAA,MAAM,EAAES,KAAK,CAACE,MAAN,CAAaC;AAAtB,OAAd;AACD;;;2CAEsBH,K,EAAO;AAC5B,WAAKC,QAAL,CAAc;AAACT,QAAAA,aAAa,EAAEQ,KAAK,CAACE,MAAN,CAAaC;AAA7B,OAAd;AACD;;;wCAEmB;AAClB,WAAKC,YAAL;AACD;;;mCAEc;AAAA;;AACb,UAAMC,SAAS,GAAG,KAAKnB,KAAL,CAAWmB,SAA7B;AAEA,UAAIC,SAAS,GAAG1B,KAAK,CAAC2B,MAAN,CAAaC,MAAb,CAAoBH,SAApB,CAAhB;AACA,UAAII,KAAK,GAAG,IAAI7B,KAAK,CAAC8B,KAAV,CAAgBJ,SAAhB,CAAZ;AAEAG,MAAAA,KAAK,CAACE,IAAN,GACCC,IADD,CACM,UAACC,OAAD,EAAa;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAY,cAAcF,OAA1B;;AACE,QAAA,MAAI,CAACZ,QAAL,CAAc;AACVb,UAAAA,IAAI,EAAEyB;AADI,SAAd;AAGH,OAND,EAMG,UAACG,KAAD,EAAW;AACV,QAAA,MAAI,CAACf,QAAL,CAAc;AACVb,UAAAA,IAAI,EAAE;AADI,SAAd,EADU,CAIZ;AACA;;AACD,OAZD;AAaD;;;iCAEYY,K,EAAO;AAAA;;AAClB,UAAMK,SAAS,GAAG,KAAKnB,KAAL,CAAWmB,SAA7B;AACA,UAAMY,YAAY,GAAGrC,KAAK,CAAC2B,MAAN,CAAaC,MAAb,CAAoBH,SAApB,CAArB;AACA,UAAMhB,OAAO,GAAE,IAAI4B,YAAJ,EAAf;AAEA5B,MAAAA,OAAO,CAAC6B,GAAR,CAAY,UAAZ,EAAwB,KAAK/B,KAAL,CAAWE,OAAnC;AACAA,MAAAA,OAAO,CAAC6B,GAAR,CAAY,eAAZ,EAA6B;AAAC,cAAK,KAAK/B,KAAL,CAAWE,OAAjB;AAAyB,cAAK,KAAKF,KAAL,CAAWG;AAAzC,OAA7B;;AAEA,UAAIe,SAAS,IAAI,cAAjB,EAAiC;AAC/BhB,QAAAA,OAAO,CAAC6B,GAAR,CAAY,MAAZ,EAAoB,KAApB;AACD;;AAED7B,MAAAA,OAAO,CAAC8B,IAAR,GACCP,IADD,CACM,UAACQ,IAAD,EAAU;AAChB;AACE,QAAA,MAAI,CAAChB,YAAL;;AACAiB,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACD,OALD,EAKG,UAACL,KAAD,EAAW;AACZ;AACA;AACAK,QAAAA,KAAK,CAAC,oCAAoCL,KAAK,CAACM,OAA3C,CAAL;AACD,OATD;AAUD;;;yCAEoBtB,K,EAAO;AAAA;;AAC1B,UAAMK,SAAS,GAAG,KAAKnB,KAAL,CAAWmB,SAA7B;AACA,UAAMY,YAAY,GAAGrC,KAAK,CAAC2B,MAAN,CAAaC,MAAb,CAAoBH,SAApB,CAArB;AACA,UAAMhB,OAAO,GAAE,IAAI4B,YAAJ,EAAf;AAEA5B,MAAAA,OAAO,CAAC6B,GAAR,CAAY,UAAZ,EAAwB,KAAK/B,KAAL,CAAWK,aAAnC;AACAH,MAAAA,OAAO,CAAC6B,GAAR,CAAY,OAAZ,EAAqB,IAArB;AACA7B,MAAAA,OAAO,CAAC6B,GAAR,CAAY,eAAZ,EAA6B;AAAC,cAAK,KAAK/B,KAAL,CAAWI,MAAjB;AAAwB,cAAK,KAAKJ,KAAL,CAAWK;AAAxC,OAA7B,EAP0B,CAS1B;AACA;AACA;;AAEAH,MAAAA,OAAO,CAAC8B,IAAR,GACCP,IADD,CACM,UAACQ,IAAD,EAAU;AAChB;AACE,QAAA,MAAI,CAAChB,YAAL;;AACAiB,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACD,OALD,EAKG,UAACL,KAAD,EAAW;AACZ;AACA;AACAK,QAAAA,KAAK,CAAC,oCAAoCL,KAAK,CAACM,OAA3C,CAAL;AACD,OATD;AAUD;;;iCAEYF,I,EAAM;AAAA;;AACjB,UAAMf,SAAS,GAAG,KAAKnB,KAAL,CAAWmB,SAA7B;AACAS,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;;AACA,UAAIV,SAAS,IAAI,cAAb,IAA+BA,SAAS,IAAI,gBAAhD,EAAkE;AAChES,QAAAA,OAAO,CAACC,GAAR,CAAYK,IAAZ;AACA,YAAMG,SAAS,GAAGH,IAAI,CAACI,GAAL,CAAS,MAAT,CAAlB;AACAJ,QAAAA,IAAI,CAACF,GAAL,CAAS,MAAT,EAAiB,CAACK,SAAlB;AACAH,QAAAA,IAAI,CAACD,IAAL,GAAYP,IAAZ,CAAiB,UAACQ,IAAD,EAAU;AACzB;AACA;AACA,UAAA,MAAI,CAAChB,YAAL;AACD,SAJD;AAKD;AACF;;;+BAEUgB,I,EAAM;AAAA;;AACfA,MAAAA,IAAI,CAACK,OAAL,CAAa,EAAb,EACCb,IADD,CACM,UAACQ,IAAD,EAAU;AAChB;AACE,QAAA,MAAI,CAAChB,YAAL;;AACAiB,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACD,OALD,EAKG,UAACL,KAAD,EAAW;AACZ;AACA;AACAK,QAAAA,KAAK,CAAC,oCAAoCL,KAAK,CAACM,OAA3C,CAAL;AACD,OATD;AAUD;;;6BACQ;AAAA;;AAAA,UACAI,CADA,GACK,KAAKxC,KADV,CACAwC,CADA;AAEL,0BACE,oBAAC,IAAD;AAAM,QAAA,KAAK,MAAX;AAAY,QAAA,SAAS,EAAC,MAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAC,eAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAqB,KAAKxC,KAAL,CAAWyC,KAAhC,CADF,CADA,eAIA,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAC,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,KAAK,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAC,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQ,KAAKxC,KAAL,CAAWC,IAAX,CAAgBwC,GAAhB,CAAoB,UAACR,IAAD,EAAOS,GAAP;AAAA,4BAErB;AAAM,UAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBACG,oBAAC,YAAD;AAAc,UAAA,QAAQ,EAAE,kBAAAC,CAAC;AAAA,mBAAI,MAAI,CAAC/B,YAAL,CAAkBqB,IAAlB,CAAJ;AAAA,WAAzB;AAAsD,UAAA,SAAS,EAAC,MAAhE;AAAuE,UAAA,OAAO,EAAEA,IAAI,CAACI,GAAL,CAAS,MAAT,CAAhF;AAAkG,UAAA,GAAG,EAAEK,GAAvG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,MAAI,CAAC3C,KAAL,CAAWmB,SAAX,IAAwB,cAAxB,GAAwCe,IAAI,CAACI,GAAL,CAAS,eAAT,EAA0B1C,eAA1B,CAAxC,GAAoFsC,IAAI,CAACI,GAAL,CAAS,UAAT,CADvF,CADH,EAIK,MAAI,CAACtC,KAAL,CAAWmB,SAAX,IAAwB,gBAAxB,iBACA;AAAG,UAAA,MAAM,MAAT;AAAU,UAAA,SAAS,EAAC,SAApB;AAA8B,UAAA,OAAO,EAAE,iBAAAyB,CAAC;AAAA,mBAAI,MAAI,CAACC,UAAL,CAAgBX,IAAhB,CAAJ;AAAA,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eALL,EAWKA,IAAI,CAACI,GAAL,CAAS,OAAT,KAAqB,IAArB,iBACA;AAAG,UAAA,MAAM,MAAT;AAAU,UAAA,SAAS,EAAC,SAApB;AAA8B,UAAA,OAAO,EAAE,iBAAAM,CAAC;AAAA,mBAAI,MAAI,CAACC,UAAL,CAAgBX,IAAhB,CAAJ;AAAA,WAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAZL,CAFqB;AAAA,OAApB,CADR,CADA,EAwBI,KAAKlC,KAAL,CAAWmB,SAAX,IAAwB,gBAAxB,iBACF,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAC,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWgB,KAA7B;AAAoC,QAAA,QAAQ,EAAE,KAAKV,YAAnD;AAAiE,QAAA,WAAW,EAAEiC,CAAC,CAAC,SAAD,CAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE,KAAKvC,KAAL,CAAWgB,KAA7B;AAAoC,QAAA,QAAQ,EAAE,KAAKP,mBAAnD;AAAwE,QAAA,WAAW,EAAE8B,CAAC,CAAC,SAAD,CAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eAGE,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,iBAAAI,CAAC;AAAA,iBAAI,MAAI,CAAChC,YAAL,CAAkBgC,CAAlB,CAAJ;AAAA,SAAlB;AAA4C,QAAA,KAAK,EAAC,OAAlD;AAA0D,QAAA,SAAS,EAAC,MAApE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,CAHF,CADF,CAzBF,EAqCI,KAAK5C,KAAL,CAAWmB,SAAX,IAAwB,cAAxB,IAA0C,KAAKlB,KAAL,CAAWC,IAAX,CAAgB4C,MAAhB,GAAyB,CAAnE,iBACF,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAC,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,UAAD;AAAY,QAAA,SAAS,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE,KAAK7C,KAAL,CAAWgB,KAA7B;AAAoC,QAAA,QAAQ,EAAE,KAAKR,eAAnD;AAAoE,QAAA,WAAW,EAAE+B,CAAC,CAAC,SAAD,CAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAE,KAAKvC,KAAL,CAAWgB,KAA7B;AAAoC,QAAA,QAAQ,EAAE,KAAKN,sBAAnD;AAA2E,QAAA,WAAW,EAAE6B,CAAC,CAAC,SAAD,CAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,eAGE,oBAAC,eAAD;AAAiB,QAAA,IAAI,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,iBAAAI,CAAC;AAAA,iBAAI,MAAI,CAACG,oBAAL,CAA0BH,CAA1B,CAAJ;AAAA,SAAlB;AAAoD,QAAA,KAAK,EAAC,OAA1D;AAAkE,QAAA,SAAS,EAAC,MAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAG,QAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,CAHF,CADF,CAtCF,CADF,CAJA,CADF;AA6DH;;;;EA1MuBhE,S;;AA8M9BmB,eAAe,CAACiD,YAAhB,GAA+B;AAC7BP,EAAAA,KAAK,EAAE;AADsB,CAA/B;AAIA,eAAe9C,eAAe,GAAGI,eAAH,CAA9B","sourcesContent":["import React, { Component } from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  ListGroup,\n  ListGroupItem,\n  Button,\n  InputGroup,\n  InputGroupAddon,\n  FormCheckbox,\n  Container,\n  Col,\n  Row,\n  FormInput\n} from \"shards-react\";\nimport Parse from 'parse';\nimport { withTranslation } from \"react-i18next\";\n\nconst storageLanguage = localStorage.getItem('language');\n\nclass PropertyManager extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = { \n            /* initial state */ \n            data:[],\n            newItem:'',\n            newItemSpanish:'',\n            newCat:'',\n            newCatSpanish:''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleCatChange = this.handleCatChange.bind(this);\n        this.handleChangeSpanish = this.handleChangeSpanish.bind(this);\n        this.handleCatChangeSpanish = this.handleCatChangeSpanish.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n      }\n\n      handleChange(event) {\n        this.setState({newItem: event.target.value});\n      }\n\n      handleChangeSpanish(event) {\n        this.setState({newItemSpanish: event.target.value});\n      }\n\n      handleCatChange(event) {\n        this.setState({newCat: event.target.value});\n      }\n\n      handleCatChangeSpanish(event) {\n        this.setState({newCatSpanish: event.target.value});\n      }\n\n      componentDidMount() {\n        this.fetchNewData();\n      }\n\n      fetchNewData() {\n        const className = this.props.className;\n\n        var ItemClass = Parse.Object.extend(className);\n        var query = new Parse.Query(ItemClass);\n\n        query.find()\n        .then((results) => {\n          console.log('RESULTS: ' + results);\n            this.setState({\n                data: results\n            });\n        }, (error) => {\n            this.setState({\n                data: []\n            });\n          // The object was not retrieved successfully.\n          // error is a Parse.Error with an error code and message.\n        });\n      }\n\n      handleSubmit(event) {\n        const className = this.props.className;\n        const PropertyItem = Parse.Object.extend(className);\n        const newItem= new PropertyItem();\n        \n        newItem.set(\"itemName\", this.state.newItem);\n        newItem.set(\"itemNameTrans\", {\"en\":this.state.newItem,\"es\":this.state.newItemSpanish})\n\n        if (className == \"IdeaCategory\") {\n          newItem.set(\"show\", false);\n        }\n        \n        newItem.save()\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n\n      handleCategorySubmit(event) {\n        const className = this.props.className;\n        const PropertyItem = Parse.Object.extend(className);\n        const newItem= new PropertyItem();\n        \n        newItem.set(\"itemName\", this.state.newCatSpanish);\n        newItem.set(\"extra\", true);\n        newItem.set(\"itemNameTrans\", {\"en\":this.state.newCat,\"es\":this.state.newCatSpanish})\n\n        // if (className == \"IdeaCategory\") {\n        //   newItem.set(\"show\", false);\n        // }\n        \n        newItem.save()\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n\n      handleToggle(item) {\n        const className = this.props.className;\n        console.log('clicked');\n        if (className == \"IdeaCategory\" || className == \"IdeaDepartment\") {\n          console.log(item);\n          const isShowing = item.get(\"show\");\n          item.set(\"show\", !isShowing);\n          item.save().then((item) => {\n            // Now let's update it with some new data. In this case, only cheatMode and score\n            // will get sent to the cloud. playerName hasn't changed.\n            this.fetchNewData();\n          });\n        } \n      }\n\n      deleteItem(item) {\n        item.destroy({})\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n      render() {\n        const {t} = this.props\n          return(\n            <Card small className=\"mb-3\">\n            <CardHeader className=\"border-bottom\">\n              <h6 className=\"m-0\">{this.props.title}</h6>\n            </CardHeader>\n            <CardBody className=\"p-0\">\n              <ListGroup flush>\n              <ListGroupItem className=\"p-3\"> \n                    { this.state.data.map((item, idx) => (\n                     \n                     <span className=\"d-flex mb-2\">\n                        <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                          {this.props.className == \"IdeaCategory\"?(item.get(\"itemNameTrans\")[storageLanguage]):item.get(\"itemName\")}\n                        </FormCheckbox>\n                        { this.props.className == \"IdeaDepartment\" && \n                          <a danger className=\"ml-auto\" onClick={e => this.deleteItem(item)}>\n                            X\n                          </a>\n\n                          \n                        }\n                        { item.get(\"extra\") == true &&\n                          <a danger className=\"ml-auto\" onClick={e => this.deleteItem(item)}>\n                            X\n                          </a>\n                        }\n                     </span>\n                   \n                    ))}\n                    </ListGroupItem>\n                { this.props.className == \"IdeaDepartment\" &&\n                <ListGroupItem className=\"d-flex px-3\">\n                  <InputGroup className=\"ml-auto\">\n                    <FormInput value={this.state.value} onChange={this.handleChange} placeholder={t('ENGLISH')} />\n                    <FormInput value={this.state.value} onChange={this.handleChangeSpanish} placeholder={t('SPANISH')} />\n                    <InputGroupAddon type=\"append\">\n                      <Button onClick={e => this.handleSubmit(e)} theme=\"white\" className=\"px-2\">\n                        <i className=\"material-icons\">add</i>\n                      </Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </ListGroupItem>\n                }\n                { this.props.className == \"IdeaCategory\" && this.state.data.length < 5 &&\n                <ListGroupItem className=\"d-flex px-3\">\n                  <InputGroup className=\"ml-auto\">\n                    <FormInput value={this.state.value} onChange={this.handleCatChange} placeholder={t('ENGLISH')} />\n                    <FormInput value={this.state.value} onChange={this.handleCatChangeSpanish} placeholder={t('SPANISH')} />\n                    <InputGroupAddon type=\"append\">\n                      <Button onClick={e => this.handleCategorySubmit(e)} theme=\"white\" className=\"px-2\">\n                        <i className=\"material-icons\">add</i>\n                      </Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </ListGroupItem>\n                }\n              </ListGroup>\n            </CardBody>\n          </Card>\n            \n            );\n      }\n}\n\n\nPropertyManager.defaultProps = {\n  title: \"Categorias\"\n};\n\nexport default withTranslation()(PropertyManager);\n"]},"metadata":{},"sourceType":"module"}