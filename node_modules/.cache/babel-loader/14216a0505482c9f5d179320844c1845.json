{"ast":null,"code":"var _createForOfIteratorHelper = require(\"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\n/*\nCSV Generate - main module\n\nPlease look at the [project documentation](https://csv.js.org/generate/) for\nadditional information.\n*/\nvar stream = require('stream');\n\nvar util = require('util');\n\nmodule.exports = function () {\n  var options;\n  var callback;\n\n  if (arguments.length === 2) {\n    options = arguments[0];\n    callback = arguments[1];\n  } else if (arguments.length === 1) {\n    if (typeof arguments[0] === 'function') {\n      options = {};\n      callback = arguments[0];\n    } else {\n      options = arguments[0];\n    }\n  } else if (arguments.length === 0) {\n    options = {};\n  }\n\n  var generator = new Generator(options);\n\n  if (callback) {\n    var data = [];\n    generator.on('readable', function () {\n      var d;\n\n      while (d = generator.read()) {\n        data.push(d);\n      }\n    });\n    generator.on('error', callback);\n    generator.on('end', function () {\n      if (generator.options.objectMode) {\n        callback(null, data);\n      } else {\n        if (generator.options.encoding) {\n          callback(null, data.join(''));\n        } else {\n          callback(null, Buffer.concat(data));\n        }\n      }\n    });\n  }\n\n  return generator;\n};\n\nGenerator = function (_Generator) {\n  function Generator() {\n    return _Generator.apply(this, arguments);\n  }\n\n  Generator.toString = function () {\n    return _Generator.toString();\n  };\n\n  return Generator;\n}(function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  // Convert Stream Readable options if underscored\n  if (options.high_water_mark) {\n    options.highWaterMark = options.high_water_mark;\n  }\n\n  if (options.object_mode) {\n    options.objectMode = options.object_mode;\n  } // Call parent constructor\n\n\n  stream.Readable.call(this, options); // Clone and camelize options\n\n  this.options = {};\n\n  for (var k in options) {\n    this.options[Generator.camelize(k)] = options[k];\n  } // Normalize options\n\n\n  var dft = {\n    columns: 8,\n    delimiter: ',',\n    duration: null,\n    encoding: null,\n    end: null,\n    eof: false,\n    fixedSize: false,\n    length: -1,\n    maxWordLength: 16,\n    rowDelimiter: '\\n',\n    seed: false,\n    sleep: 0\n  };\n\n  for (var _k in dft) {\n    if (this.options[_k] === undefined) {\n      this.options[_k] = dft[_k];\n    }\n  } // Default values\n\n\n  if (this.options.eof === true) {\n    this.options.eof = this.options.rowDelimiter;\n  } // State\n\n\n  this._ = {\n    start_time: this.options.duration ? Date.now() : null,\n    fixed_size_buffer: '',\n    count_written: 0,\n    count_created: 0\n  };\n\n  if (typeof this.options.columns === 'number') {\n    this.options.columns = new Array(this.options.columns);\n  }\n\n  var accepted_header_types = Object.keys(Generator).filter(function (t) {\n    return !['super_', 'camelize'].includes(t);\n  });\n\n  for (var i = 0; i < this.options.columns.length; i++) {\n    var v = this.options.columns[i] || 'ascii';\n\n    if (typeof v === 'string') {\n      if (!accepted_header_types.includes(v)) {\n        throw Error(\"Invalid column type: got \\\"\".concat(v, \"\\\", default values are \").concat(JSON.stringify(accepted_header_types)));\n      }\n\n      this.options.columns[i] = Generator[v];\n    }\n  }\n\n  return this;\n});\n\nutil.inherits(Generator, stream.Readable); // Export the class\n\nmodule.exports.Generator = Generator; // Generate a random number between 0 and 1 with 2 decimals. The function is idempotent if it detect the \"seed\" option.\n\nGenerator.prototype.random = function () {\n  if (this.options.seed) {\n    return this.options.seed = this.options.seed * Math.PI * 100 % 100 / 100;\n  } else {\n    return Math.random();\n  }\n}; // Stop the generation.\n\n\nGenerator.prototype.end = function () {\n  this.push(null);\n}; // Put new data into the read queue.\n\n\nGenerator.prototype._read = function (size) {\n  var _this = this;\n\n  // Already started\n  var data = [];\n  var length = this._.fixed_size_buffer.length;\n\n  if (length !== 0) {\n    data.push(this._.fixed_size_buffer);\n  }\n\n  var _loop = function _loop() {\n    // Time for some rest: flush first and stop later\n    if (_this._.count_created === _this.options.length || _this.options.end && Date.now() > _this.options.end || _this.options.duration && Date.now() > _this._.start_time + _this.options.duration) {\n      // Flush\n      if (data.length) {\n        if (_this.options.objectMode) {\n          var _iterator = _createForOfIteratorHelper(data),\n              _step;\n\n          try {\n            for (_iterator.s(); !(_step = _iterator.n()).done;) {\n              var _line = _step.value;\n\n              _this.__push(_line);\n            }\n          } catch (err) {\n            _iterator.e(err);\n          } finally {\n            _iterator.f();\n          }\n        } else {\n          _this.__push(data.join('') + (_this.options.eof ? _this.options.eof : ''));\n        }\n      } // Stop\n\n\n      return {\n        v: _this.push(null)\n      };\n    } // Create the line\n\n\n    var line = [];\n    var lineLength = void 0;\n\n    _this.options.columns.forEach(function (fn) {\n      line.push(fn(_this));\n    }); // for(const header in this.options.columns){\n    //   // Create the field\n    //   line.push(header(this))\n    // }\n    // Obtain line length\n\n\n    if (_this.options.objectMode) {\n      lineLength = 0;\n\n      var _iterator2 = _createForOfIteratorHelper(line),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var column = _step2.value;\n          lineLength += column.length;\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    } else {\n      // Stringify the line\n      line = (_this._.count_created === 0 ? '' : _this.options.rowDelimiter) + line.join(_this.options.delimiter);\n      lineLength = line.length;\n    }\n\n    _this._.count_created++;\n\n    if (length + lineLength > size) {\n      if (_this.options.objectMode) {\n        data.push(line);\n\n        var _iterator3 = _createForOfIteratorHelper(data),\n            _step3;\n\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _line2 = _step3.value;\n\n            _this.__push(_line2);\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n      } else {\n        if (_this.options.fixedSize) {\n          _this._.fixed_size_buffer = line.substr(size - length);\n          data.push(line.substr(0, size - length));\n        } else {\n          data.push(line);\n        }\n\n        _this.__push(data.join(''));\n      }\n\n      return {\n        v: void 0\n      };\n    }\n\n    length += lineLength;\n    data.push(line);\n  };\n\n  while (true) {\n    var _ret = _loop();\n\n    if (typeof _ret === \"object\") return _ret.v;\n  }\n}; // Put new data into the read queue.\n\n\nGenerator.prototype.__push = function (record) {\n  var _this2 = this;\n\n  this._.count_written++;\n\n  if (this.options.sleep > 0) {\n    setTimeout(function () {\n      _this2.push(record);\n    }, this.options.sleep);\n  } else {\n    this.push(record);\n  }\n}; // Generate an ASCII value.\n\n\nGenerator.ascii = function (gen) {\n  // Column\n  var column = [];\n  var nb_chars = Math.ceil(gen.random() * gen.options.maxWordLength);\n\n  for (var i = 0; i < nb_chars; i++) {\n    var char = Math.floor(gen.random() * 32);\n    column.push(String.fromCharCode(char + (char < 16 ? 65 : 97 - 16)));\n  }\n\n  return column.join('');\n}; // Generate an integer value.\n\n\nGenerator.int = function (gen) {\n  return Math.floor(gen.random() * Math.pow(2, 52));\n}; // Generate an boolean value.\n\n\nGenerator.bool = function (gen) {\n  return Math.floor(gen.random() * 2);\n}; // Camelize option properties\n\n\nGenerator.camelize = function (str) {\n  return str.replace(/_([a-z])/gi, function (_, match, index) {\n    return match.toUpperCase();\n  });\n};","map":{"version":3,"sources":["/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/node_modules/csv-generate/lib/index.js"],"names":["stream","require","util","module","exports","options","callback","arguments","length","generator","Generator","data","on","d","read","push","objectMode","encoding","join","Buffer","concat","high_water_mark","highWaterMark","object_mode","Readable","call","k","camelize","dft","columns","delimiter","duration","end","eof","fixedSize","maxWordLength","rowDelimiter","seed","sleep","undefined","_","start_time","Date","now","fixed_size_buffer","count_written","count_created","Array","accepted_header_types","Object","keys","filter","t","includes","i","v","Error","JSON","stringify","inherits","prototype","random","Math","PI","_read","size","line","__push","lineLength","forEach","fn","column","substr","record","setTimeout","ascii","gen","nb_chars","ceil","char","floor","String","fromCharCode","int","pow","bool","str","replace","match","index","toUpperCase"],"mappings":"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","sourcesContent":["\n/*\nCSV Generate - main module\n\nPlease look at the [project documentation](https://csv.js.org/generate/) for\nadditional information.\n*/\n\nconst stream = require('stream')\nconst util = require('util')\n\nmodule.exports = function(){\n  let options\n  let callback\n  if(arguments.length === 2){\n    options = arguments[0]\n    callback = arguments[1]\n  }else if(arguments.length === 1){\n    if(typeof arguments[0] === 'function'){\n      options = {}\n      callback = arguments[0]\n    }else{\n      options = arguments[0]\n    }\n  }else if(arguments.length === 0){\n    options = {}\n  }\n  const generator = new Generator(options)\n  if(callback){\n    const data = []\n    generator.on('readable', function(){\n      let d; while(d = generator.read()){\n        data.push(d)\n      }\n    })\n    generator.on('error', callback)\n    generator.on('end', function(){\n      if(generator.options.objectMode){\n        callback(null, data)\n      }else{\n        if(generator.options.encoding){\n          callback(null, data.join(''))\n        }else{\n          callback(null, Buffer.concat(data))\n        }\n      }\n    })\n  }\n  return generator\n}\n\nGenerator = function(options = {}){\n  // Convert Stream Readable options if underscored\n  if(options.high_water_mark){\n    options.highWaterMark = options.high_water_mark\n  }\n  if(options.object_mode){\n    options.objectMode = options.object_mode\n  }\n  // Call parent constructor\n  stream.Readable.call(this, options)\n  // Clone and camelize options\n  this.options = {}\n  for(let k in options){\n    this.options[Generator.camelize(k)] = options[k]\n  }\n  // Normalize options\n  const dft = {\n    columns: 8,\n    delimiter: ',',\n    duration: null,\n    encoding: null,\n    end: null,\n    eof: false,\n    fixedSize: false,\n    length: -1,\n    maxWordLength: 16,\n    rowDelimiter: '\\n',\n    seed: false,\n    sleep: 0,\n  }\n  for(const k in dft){\n    if(this.options[k] === undefined){\n      this.options[k] = dft[k]\n    }\n  }\n  // Default values\n  if(this.options.eof === true){\n    this.options.eof = this.options.rowDelimiter\n  }\n  // State\n  this._ = {\n    start_time: this.options.duration ? Date.now() : null,\n    fixed_size_buffer: '',\n    count_written: 0,\n    count_created: 0,\n  }\n  if(typeof this.options.columns === 'number'){\n    this.options.columns = new Array(this.options.columns)\n  }\n  const accepted_header_types = Object.keys(Generator).filter( (t) => ( !['super_', 'camelize'].includes(t) ))\n  for(let i = 0; i < this.options.columns.length; i++){\n    const v = this.options.columns[i] || 'ascii'\n    if(typeof v === 'string'){\n      if(!accepted_header_types.includes(v)){\n        throw Error(`Invalid column type: got \"${v}\", default values are ${JSON.stringify(accepted_header_types)}`)\n      }\n      this.options.columns[i] = Generator[v]\n    }\n  }\n  return this\n}\nutil.inherits(Generator, stream.Readable)\n// Export the class\nmodule.exports.Generator = Generator\n// Generate a random number between 0 and 1 with 2 decimals. The function is idempotent if it detect the \"seed\" option.\nGenerator.prototype.random = function(){\n  if(this.options.seed){\n    return this.options.seed = this.options.seed * Math.PI * 100 % 100 / 100\n  }else{\n    return Math.random()\n  }\n}\n// Stop the generation.\nGenerator.prototype.end = function(){\n  this.push(null)\n}\n// Put new data into the read queue.\nGenerator.prototype._read = function(size){\n  // Already started\n  const data = []\n  let length = this._.fixed_size_buffer.length\n  if(length !== 0){\n    data.push(this._.fixed_size_buffer)\n  }\n  while(true){\n    // Time for some rest: flush first and stop later\n    if( (this._.count_created === this.options.length) || (this.options.end && Date.now() > this.options.end) || (this.options.duration && Date.now() > this._.start_time + this.options.duration) ){\n      // Flush\n      if(data.length){\n        if(this.options.objectMode){\n          for(const line of data){\n            this.__push(line)\n          }\n        }else{\n          this.__push(data.join('') + (this.options.eof ? this.options.eof : ''))\n        }\n      }\n      // Stop\n      return this.push(null)\n    }\n    // Create the line\n    let line = []\n    let lineLength\n    this.options.columns.forEach((fn) => {\n      line.push(fn(this))\n    })\n    // for(const header in this.options.columns){\n    //   // Create the field\n    //   line.push(header(this))\n    // }\n    // Obtain line length\n    if(this.options.objectMode){\n      lineLength = 0\n      for(const column of line)\n        lineLength += column.length\n    }else{\n      // Stringify the line\n      line = (this._.count_created === 0 ? '' : this.options.rowDelimiter)+line.join(this.options.delimiter)\n      lineLength = line.length\n    }\n    this._.count_created++\n    if(length + lineLength > size){\n      if(this.options.objectMode){\n        data.push(line)\n        for(const line of data){\n          this.__push(line)\n        }\n      }else{\n        if(this.options.fixedSize){\n          this._.fixed_size_buffer = line.substr(size - length)\n          data.push(line.substr(0, size - length))\n        }else{\n          data.push(line)\n        }\n        this.__push(data.join(''))\n      }\n      return\n    }\n    length += lineLength\n    data.push(line)\n  }\n}\n// Put new data into the read queue.\nGenerator.prototype.__push = function(record){\n  this._.count_written++\n  if(this.options.sleep > 0){\n    setTimeout( () => {\n      this.push(record)\n    }, this.options.sleep)\n  }else{\n    this.push(record)\n  }\n}\n// Generate an ASCII value.\nGenerator.ascii = function(gen){\n  // Column\n  const column = []\n  const nb_chars = Math.ceil(gen.random() * gen.options.maxWordLength)\n  for(let i=0; i<nb_chars; i++){\n    const char = Math.floor(gen.random() * 32)\n    column.push(String.fromCharCode(char + (char < 16 ? 65 : 97 - 16)))\n  }\n  return column.join('')\n}\n// Generate an integer value.\nGenerator.int = function(gen){\n  return Math.floor(gen.random() * Math.pow(2, 52))\n}\n// Generate an boolean value.\nGenerator.bool = function(gen){\n  return Math.floor(gen.random() * 2)\n}\n// Camelize option properties\nGenerator.camelize = function(str){\n  return str.replace(/_([a-z])/gi, function(_, match, index){\n    return match.toUpperCase()\n  })\n}\n"]},"metadata":{},"sourceType":"script"}