{"ast":null,"code":"import _toConsumableArray from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/common/EvaluateIdeaForm.js\";\nimport React from \"react\";\nimport { Container, Row, Col, Button, ButtonGroup, Card, CardBody, CardFooter, DatePicker, Fade, Form, FormInput, FormSelect, FormRadio, FormTextarea, InputGroup, InputGroupAddon, InputGroupText, FormFeedback } from \"shards-react\";\nimport Select from 'react-select';\nimport Parse from 'parse';\nimport FormSectionTitle from \"../edit-user-profile/FormSectionTitle\";\nimport CustomFileUpload from \"../components-overview/CustomFileUpload\";\nimport CategorySelect from \"./CategorySelect\";\nimport IdeaFilterSelect from \"./IdeaFilterSelect\";\nimport { all } from \"q\";\nimport EvaluationSelect from \"./EvaluationSelect\";\nimport ProyectEvaluationSelect from \"./ProyectEvaluationSelect\";\nimport ExecutionSelect from \"./ExecutionSelect\";\nimport CommitteeSelect from \"./CommitteeSelect\";\nimport { object } from \"prop-types\";\nimport { withTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar remCharStyle = {\n  color: 'green'\n};\n\nvar EvaluateIdeaForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(EvaluateIdeaForm, _React$Component);\n\n  var _super = _createSuper(EvaluateIdeaForm);\n\n  function EvaluateIdeaForm(props) {\n    var _this;\n\n    _classCallCheck(this, EvaluateIdeaForm);\n\n    _this = _super.call(this, props);\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      alert('Form submitted');\n    };\n\n    _this.state = {\n      data: [],\n      ideaQuestions: [],\n      answers: [],\n      category: null,\n      department: null,\n      date: '',\n      categoryQuestions: [],\n      filterQuestions: [],\n      selectedFilterQ: [],\n      filterQAnswers: [],\n      categoryQAnswers: [],\n      ideaDescription: null,\n      file: null,\n      buttonNext: true,\n      descriptionValid: '',\n      remainingCharacters: 250,\n      visible: true,\n      filterVisible: false,\n      filterQuestionsVisible: false,\n      ideaQuestionsVisible: false,\n      hideNextButton: false,\n      userName: 'User Name',\n      sectionTitle: '',\n      formButtonTitle: 'Continuar',\n      ideaNumber: '#00008',\n      status: '',\n      executionRes: 0,\n      executionResObj: object,\n      committeeRes: 0,\n      committeeResObj: object,\n      coachRes: 0,\n      coachResObj: object,\n      // canSubmit: false,\n      showsOtherCommittee: false\n    };\n    _this.change = _this.change.bind(_assertThisInitialized(_this));\n    _this.setCategory = _this.setCategory.bind(_assertThisInitialized(_this));\n    _this.setDate = _this.setDate.bind(_assertThisInitialized(_this));\n    _this.setIdeaDescription = _this.setIdeaDescription.bind(_assertThisInitialized(_this));\n    _this.selectFile = _this.selectFile.bind(_assertThisInitialized(_this));\n    _this.showNext = _this.showNext.bind(_assertThisInitialized(_this));\n    _this.addAnswer = _this.addAnswer.bind(_assertThisInitialized(_this));\n    _this.saveIdea = _this.saveIdea.bind(_assertThisInitialized(_this));\n    _this.showNext = _this.showNext.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(EvaluateIdeaForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var currUser = Parse.User.current();\n      this.getUserName(currUser);\n      this.fetchNewData();\n      this.fetchQuestions();\n      this.fetchFilterQuestions();\n      this.getDate();\n    }\n  }, {\n    key: \"getDate\",\n    value: function getDate() {\n      this.setState({\n        date: new Date()\n      });\n    }\n  }, {\n    key: \"getUserName\",\n    value: function () {\n      var _getUserName = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n        var query, results, firstName, lastName, fullName;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = new Parse.Query(Parse.User);\n                query.equalTo(\"objectId\", user.id);\n                _context.next = 4;\n                return query.find();\n\n              case 4:\n                results = _context.sent;\n                firstName = results[0].get('firstName');\n                lastName = results[0].get('lastName');\n                fullName = firstName + ' ' + lastName;\n                this.setState({\n                  userName: fullName\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getUserName(_x) {\n        return _getUserName.apply(this, arguments);\n      }\n\n      return getUserName;\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var formButtonTitle = this.state.formButtonTitle;\n\n      if (formButtonTitle == \"Continuar\") {\n        this.showNext();\n      } else {\n        var isInvalid = false;\n        this.state.answers.forEach(function (item, idx) {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n          alert(\"Su IDEA ha sido sometida.\");\n        }\n      }\n    }\n  }, {\n    key: \"showNext\",\n    value: function showNext() {\n      var isShowingForm = this.state.visible;\n      var isShowingFilter = this.state.filterVisible;\n      var isShowingFilterQuestions = this.state.filterQuestionsVisible;\n      var isShowingQuestions = this.state.ideaQuestionsVisible;\n\n      if (isShowingForm && !isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        var _this$state = this.state,\n            category = _this$state.category,\n            department = _this$state.department,\n            descriptionValid = _this$state.descriptionValid;\n\n        if (!category || !department || !descriptionValid) {\n          alert(\"Por favor seleccione una categoria, un departamento y asegurese de que la descripcion de la idea sea valida.\");\n        } else {\n          this.setState({\n            visible: !isShowingForm,\n            filterVisible: !isShowingFilter,\n            buttonState: false,\n            hideNextButton: true\n          });\n        }\n      } else if (!isShowingForm && isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        this.setState({\n          hideNextButton: false,\n          filterVisible: !isShowingFilter,\n          filterQuestionsVisible: !isShowingFilterQuestions,\n          buttonState: false\n        });\n      } else if (!isShowingForm && !isShowingFilter && isShowingFilterQuestions && !isShowingQuestions) {\n        var allAnswered = false; // console.log(this.state.filterQAnswers);\n        // console.log(this.state.filterQAnswers);\n\n        var isInvalid = false;\n        this.state.filterQAnswers.forEach(function (item, idx) {\n          // console.log(item)\n          if (!item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas.\");\n        } else {\n          this.setState({\n            filterQuestionsVisible: !isShowingFilterQuestions,\n            ideaQuestionsVisible: !isShowingQuestions,\n            buttonState: false,\n            formButtonTitle: 'Someter'\n          });\n        }\n      } else if (!isShowingForm && !isShowingFilter && !isShowingFilterQuestions && isShowingQuestions) {\n        // console.log(this.state.answers);\n        var isInvalid = false;\n        this.state.answers.forEach(function (item, idx) {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n          alert('¡Congrats! Thanks for submitting your idea.', this.resetIdeaForm());\n        }\n      } // console.log(isShowingForm);\n      // console.log(isShowingFilter);\n      // console.log(isShowingFilterQuestions);\n      // console.log(isShowingFilterQuestions);\n      // console.log('\\n');\n\n    }\n  }, {\n    key: \"resetIdeaForm\",\n    value: function resetIdeaForm() {\n      window.location.reload();\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData() {\n      var _this2 = this;\n\n      var className = \"IdeaDepartment\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        _this2.setState({\n          data: results\n        }); // console.log(results);\n\n      }, function (error) {\n        _this2.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchQuestions\",\n    value: function fetchQuestions() {\n      var _this3 = this;\n\n      var className = \"IdeaQuestion\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        // console.log(results);\n        _this3.setState({\n          ideaQuestions: results\n        });\n      }, function (error) {\n        _this3.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchFilterQuestions\",\n    value: function fetchFilterQuestions() {\n      var _this4 = this;\n\n      var className = \"FilterQuestion\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        // console.log(results);\n        _this4.setState({\n          filterQuestions: results\n        });\n      }, function (error) {\n        _this4.setState({\n          filterQuestions: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"handleFilterChange\",\n    value: function handleFilterChange(newFilter) {\n      var newCategory = newFilter;\n      var _this$state2 = this.state,\n          filterQuestions = _this$state2.filterQuestions,\n          selectedFilterQ = _this$state2.selectedFilterQ; // console.log('FILTERED QUESTIONS');\n      // console.log(filterQuestions);\n\n      var filteredData;\n\n      if (newCategory !== 'Todas') {\n        filteredData = filterQuestions.filter(function (item) {\n          return item.get(\"filter\") === newCategory;\n        });\n      } else {\n        filteredData = filterQuestions;\n      }\n\n      this.setState({\n        selectedFilterQ: filteredData\n      }, this.addFilterAnswer(filteredData)); // console.log(filteredData);\n\n      this.showNext();\n    }\n  }, {\n    key: \"handleCategoryChange\",\n    value: function handleCategoryChange(selectedCategory) {\n      var newCategory = selectedCategory;\n      var ideaQuestions = this.state.ideaQuestions;\n      var filteredData = ideaQuestions.filter(function (item) {\n        return item.get(\"category\") === newCategory;\n      });\n      this.setState({\n        categoryQuestions: filteredData\n      }, this.addAnswer(filteredData));\n    }\n  }, {\n    key: \"saveIdea\",\n    value: function saveIdea() {\n      // Simple syntax to create a new subclass of Parse.Object.\n      var Idea = Parse.Object.extend(\"Idea\"); // Create a new instance of that class.\n\n      var ideaInfo = new Idea();\n      var currentUser = Parse.User.current();\n      var userId = currentUser.get(\"username\"); // IDEA Properties\n\n      ideaInfo.set(\"proponent\", userId);\n      ideaInfo.set(\"department\", this.state.department);\n      ideaInfo.set(\"category\", this.state.category);\n      ideaInfo.set(\"date\", this.state.date);\n      ideaInfo.set(\"description\", this.state.ideaDescription);\n      ideaInfo.set(\"file\", this.state.file);\n      ideaInfo.set(\"status\", \"saved\");\n      ideaInfo.set(\"progress\", [0, 100]); // ideaInfo.save()\n      // .then((ideaInfo) => {\n      //   // Execute any logic that should take place after the object is saved.\n      //   this.resetForm();\n      //   alert('Su IDEA fue guardada exitosamente.');\n      // }, (error) => {\n      //   // Execute any logic that should take place if the save fails.\n      //   // error is a Parse.Error with an error code and message.\n      //   alert('Failed to create new object, with error code: ' + error.message);\n      // });\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        proponent: '',\n        department: '',\n        category: '',\n        ideaDescription: '',\n        date: new Date(),\n        file: '',\n        remainingCharacters: 250,\n        descriptionValid: ''\n      });\n    }\n  }, {\n    key: \"change\",\n    value: function change(event) {\n      // this.setState({category: event.target.value});\n      this.setState({\n        department: event.target.value\n      }); // console.log(event.target.value);\n    }\n  }, {\n    key: \"setCategory\",\n    value: function setCategory(categoryName) {\n      this.setState({\n        category: categoryName\n      });\n      this.handleCategoryChange(categoryName); // console.log(categoryName);\n    }\n  }, {\n    key: \"setFilter\",\n    value: function setFilter(filterName) {\n      // console.log(filterName);\n      // this.setState({sectionTitle: (filterName === \"innovacion\")?\"INNOVACION\":\"RESOLUCION DE PROBLEMAS\"});\n      this.handleFilterChange(filterName);\n    }\n  }, {\n    key: \"clickedPrint\",\n    value: function clickedPrint() {\n      console.log('HOLA');\n    }\n  }, {\n    key: \"setDate\",\n    value: function setDate(ideaDate) {\n      this.setState({\n        date: ideaDate\n      }); // console.log(ideaDate);\n    }\n  }, {\n    key: \"filterQuestionAnswerChange\",\n    value: function filterQuestionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.filterQAnswers[idx].answer = event.target.value; // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"questionAnswerChange\",\n    value: function questionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.answers[idx].answer = event.target.value; // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"setIdeaDescription\",\n    value: function setIdeaDescription(event) {\n      var description = event.target.value;\n      var maxCharacters = 250;\n      var charCount = maxCharacters - description.length;\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false;\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true;\n      } else {\n        isValid = null;\n      } // console.log(isValid);\n\n\n      this.setState({\n        descriptionValid: isValid,\n        ideaDescription: description,\n        remainingCharacters: charCount\n      }); // console.log(description);\n    }\n  }, {\n    key: \"selectFile\",\n    value: function selectFile(file) {// console.log(file);\n    }\n  }, {\n    key: \"addAnswer\",\n    value: function addAnswer(filteredQuestions) {\n      var _this5 = this;\n\n      filteredQuestions.map(function (item, idx) {\n        return (// console.log(item.get(\"question\"))\n          _this5.setState(function (prevState) {\n            return {\n              answers: [].concat(_toConsumableArray(prevState.answers), [{\n                question: item.get(\"question\"),\n                answer: \"\",\n                required: item.get(\"required\")\n              }])\n            };\n          })\n        );\n      }); // console.log(this.);\n    }\n  }, {\n    key: \"addFilterAnswer\",\n    value: function addFilterAnswer(filteredData) {\n      // console.log('Add Filter ANswer' );\n      var newItems = [];\n      filteredData.forEach(function (item, idx) {\n        newItems.push({\n          question: item.get(\"question\"),\n          answer: ''\n        });\n      });\n      this.setState({\n        filterQAnswers: newItems\n      }, function () {// console.log(this.state.filterQAnswers);\n      });\n    }\n  }, {\n    key: \"submitEvaluation\",\n    value: function submitEvaluation() {\n      var _this$state3 = this.state,\n          status = _this$state3.status,\n          ideaDescription = _this$state3.ideaDescription,\n          descriptionValid = _this$state3.descriptionValid,\n          userName = _this$state3.userName,\n          committeeResObj = _this$state3.committeeResObj;\n      var ideaItem = this.props.ideaItem;\n      var comments = ideaItem.get(\"comments\");\n      var newStatus = '';\n      var percentage = [25, 75];\n      var mayNeedEval = status == 'Proyecto' || 'Otro' ? true : false;\n\n      switch (status) {\n        case \"Devuelta\":\n          // code block\n          newStatus = 'Idea Devuelta - Mas Informacion';\n          break;\n\n        case \"Espera\":\n          // code block\n          newStatus = 'Idea en Espera';\n          break;\n\n        case \"No Perseguido\":\n          // code block\n          newStatus = 'No Perseguido';\n          percentage = [0, 100];\n          break;\n\n        case \"Ejecutar\":\n          // code block\n          newStatus = 'Ejecutar - Just Do It';\n          break;\n\n        case \"Ejecutar Proyecto\":\n          // code block\n          newStatus = 'Ejecutar - Just Do It - Proyecto';\n          break;\n\n        case \"Proyecto\":\n          // code block\n          newStatus = 'Idea Proyecto';\n          percentage = [0, 100];\n          break;\n\n        default:\n          newStatus = 'SOMETIDA';\n          percentage = [0, 100];\n        // code block\n      } // Comments\n\n\n      var newComment = {\n        \"comment\": ideaDescription,\n        \"date\": new Date(),\n        \"user\": userName,\n        \"progress\": [25, 75]\n      };\n\n      if (ideaDescription && ideaDescription.length > 0) {\n        comments.push(newComment);\n      }\n\n      console.log(this.state.executionResObj);\n      var responsibleName = this.state.executionResObj.label;\n\n      if (this.state.coachResObj != '') {\n        var coachName = this.state.coachResObj.label;\n        var coachUser = this.state.coachResObj.value;\n        ideaItem.set(\"coachName\", coachName);\n        ideaItem.set(\"coach\", coachUser);\n      }\n\n      console.log('COACH SELECTION');\n      console.log(this.state.coachResObj);\n      var resUser = this.state.executionResObj;\n      ideaItem.set(\"status\", newStatus);\n      ideaItem.set(\"comments\", comments);\n      ideaItem.set(\"needsEvaluation\", mayNeedEval);\n      ideaItem.set(\"progress\", percentage);\n\n      if (status == 'Otro') {\n        var otherCom = committeeResObj.get('value');\n        ideaItem.set(\"department\", otherCom);\n      } else {\n        ideaItem.set(\"responsibleName\", responsibleName);\n      }\n\n      ideaItem.set(\"responsible\", resUser.value);\n      ideaItem.set(\"edited\", false);\n      console.log(newStatus);\n\n      if (newStatus == 'No Perseguido') {\n        if (window.confirm('Did you have a conversation with your employee? If you did, please click OK.')) this.saveIdeaItem(ideaItem);\n      } else {\n        this.saveIdeaItem(ideaItem);\n      }\n    }\n  }, {\n    key: \"saveIdeaItem\",\n    value: function saveIdeaItem(ideaItem) {\n      var _this6 = this;\n\n      Parse.Object.saveAll([ideaItem], {\n        useMasterKey: true\n      }).then(function () {\n        if (_this6.state.status == 'Otro') {\n          alert('Su evaluacion ha sido sometida. ¡Gracias!', _this6.props.dismissModal());\n        } else {\n          _this6.setNotifications().then(function () {\n            alert('Su evaluacion ha sido sometida. ¡Gracias!', _this6.props.dismissModal());\n          });\n        }\n      });\n    }\n  }, {\n    key: \"changeStatus\",\n    value: function changeStatus(selection) {\n      console.log(selection);\n      var showsOther = selection == 'Otro';\n      this.setState({\n        status: selection,\n        showsOtherCommittee: showsOther ? true : false\n      }); // console.log('STATUS CHANGED TO: ' + this.state.status);\n    }\n  }, {\n    key: \"changeResponsible\",\n    value: function changeResponsible(res, idx) {\n      console.log(idx);\n      this.setState({\n        executionResObj: res,\n        executionRes: res\n      });\n      console.log(res);\n    }\n  }, {\n    key: \"changeCommittee\",\n    value: function changeCommittee(res, idx) {\n      console.log(idx);\n      this.setState({\n        committeeResObj: res,\n        committeeRes: idx\n      });\n      console.log(res.get('value'));\n    }\n  }, {\n    key: \"changeCoach\",\n    value: function changeCoach(res, idx) {\n      console.log(idx);\n      console.log(res);\n\n      if (res != '') {\n        this.setState({\n          coachResObj: res,\n          coachRes: res\n        });\n      } else {\n        this.setState({\n          coachResObj: '',\n          coachRes: ''\n        });\n      }\n    }\n  }, {\n    key: \"setNotifications\",\n    value: function () {\n      var _setNotifications = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this$state4, allUsers, department, category, responsibleMsg, proponentMsg, ideaItem, proponentUser, responsibleUser, proponentNotifications, responsibleNotifications, users;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$state4 = this.state, allUsers = _this$state4.allUsers, department = _this$state4.department, category = _this$state4.category;\n                responsibleMsg = '¡Congrats! We have assigned an idea to you.';\n                proponentMsg = '¡Congrats! We have approved your idea.';\n                ideaItem = this.props.ideaItem;\n                console.log('RESPONSIBLE');\n                console.log(ideaItem.get(\"responsible\"));\n                proponentUser = ideaItem.get(\"proponentObj\");\n                responsibleUser = ideaItem.get(\"responsible\");\n                proponentNotifications = proponentUser.get(\"notificationMessages\");\n                proponentNotifications.unshift(proponentMsg);\n                proponentUser.increment(\"notificationCount\");\n                proponentUser.set(\"notificationMessages\", proponentNotifications);\n                responsibleNotifications = responsibleUser.get(\"notificationMessages\");\n                responsibleNotifications.unshift(responsibleMsg);\n                responsibleUser.increment(\"notificationCount\");\n                responsibleUser.set(\"notificationMessages\", responsibleNotifications);\n                users = new Parse.Query(\"Users\");\n                _context2.next = 19;\n                return Parse.Object.saveAll(users, {\n                  useMasterKey: true\n                }).catch(function (error) {\n                  console.log('Error saving.');\n                });\n\n              case 19:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setNotifications() {\n        return _setNotifications.apply(this, arguments);\n      }\n\n      return setNotifications;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var _this$state5 = this.state,\n          visible = _this$state5.visible,\n          showsOtherCommittee = _this$state5.showsOtherCommittee,\n          committeeRes = _this$state5.committeeRes,\n          filterVisible = _this$state5.filterVisible,\n          filterQuestionsVisible = _this$state5.filterQuestionsVisible,\n          ideaQuestionsVisible = _this$state5.ideaQuestionsVisible,\n          selectedFilterQ = _this$state5.selectedFilterQ,\n          categoryQuestions = _this$state5.categoryQuestions,\n          category = _this$state5.category,\n          answers = _this$state5.answers,\n          buttonState = _this$state5.buttonState,\n          hideNextButton = _this$state5.hideNextButton,\n          date = _this$state5.date,\n          remainingCharacters = _this$state5.remainingCharacters,\n          descriptionValid = _this$state5.descriptionValid,\n          department = _this$state5.department,\n          ideaDescription = _this$state5.ideaDescription,\n          userName = _this$state5.userName,\n          sectionTitle = _this$state5.sectionTitle,\n          executionRes = _this$state5.executionRes,\n          coachRes = _this$state5.coachRes,\n          coachResObj = _this$state5.coachResObj,\n          status = _this$state5.status;\n      var formVisibilityState = visible ? 'block' : 'none';\n      var filterVisibilityState = filterVisible ? 'block' : 'none';\n      var filterQuestionVisibilityState = filterQuestionsVisible ? 'block' : 'none';\n      var questionVisibilityState = ideaQuestionsVisible ? 'block' : 'none';\n      var nextButtonVisibilityState = !hideNextButton ? 'inline' : 'none';\n      var ideaItem = this.props.ideaItem;\n      var canSubmit = status && executionRes != '';\n\n      if (status == 'Otro') {\n        canSubmit = true;\n      }\n\n      console.log(status);\n      var t = this.props.t;\n      console.log(executionRes);\n      console.log('como se debe evaluar');\n      console.log(ideaItem.get(\"status\"));\n      return /*#__PURE__*/_jsxDEV(Card, {\n        small: true,\n        className: \"edit-user-details mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(CardBody, {\n          className: \"p-0\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            className: \"py-4\",\n            onSubmit: this.onSubmit,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(FormSectionTitle, {\n              title: ideaItem.get(\"title\"),\n              description: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: formVisibilityState\n              },\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  lg: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    form: true,\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"firstName\",\n                        children: t('SUBMIT_IDEA_Proponent')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 701,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                        id: \"firstName\",\n                        value: ideaItem.get(\"proponentName\"),\n                        onChange: function onChange() {},\n                        required: true,\n                        disabled: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 702,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 700,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"lastName\",\n                        children: t('SUBMIT_IDEA_Date')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 713,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                        children: [/*#__PURE__*/_jsxDEV(InputGroupAddon, {\n                          type: \"append\",\n                          children: /*#__PURE__*/_jsxDEV(InputGroupText, {\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"material-icons\",\n                              children: \"\\uE916\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 717,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 716,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 715,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                          placeholderText: ideaItem.get(\"date\"),\n                          dropdownMode: \"select\",\n                          className: \"text-center\",\n                          readOnly: \"true\",\n                          onChange: this.setDate,\n                          selected: ideaItem.get(\"date\"),\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 720,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 714,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 712,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"userLocation\",\n                        children: t('SUBMIT_IDEA_Department')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 733,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                        id: \"firstName\",\n                        value: ideaItem.get(\"department\"),\n                        onChange: function onChange() {},\n                        required: true,\n                        disabled: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 734,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 732,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"userLocation\",\n                        children: t('SUBMIT_IDEA_Category')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 744,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                        id: \"firstName\",\n                        value: ideaItem.get(\"category\"),\n                        onChange: function onChange() {},\n                        required: true,\n                        disabled: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 745,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 743,\n                      columnNumber: 31\n                    }, this), ideaItem.get(\"hasTeam\") && /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"team\",\n                        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                          children: ideaItem.get(\"teamName\")\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 755,\n                          columnNumber: 54\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 755,\n                        columnNumber: 32\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        isMulti: true,\n                        value: ideaItem.get(\"teamMembers\"),\n                        placeholder: \"Miembros\",\n                        onChange: this.handleChange,\n                        options: []\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 756,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 754,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 698,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 697,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 696,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 768,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(FormSectionTitle, {\n                title: t('EVALUATION'),\n                description: \"\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 770,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  md: \"12\",\n                  className: \"form-group\",\n                  children: ideaItem.get(\"status\") == 'Idea Proyecto' ? /*#__PURE__*/_jsxDEV(ProyectEvaluationSelect, {\n                    setCategory: function setCategory(selection) {\n                      return _this7.changeStatus(selection);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 72\n                  }, this) : /*#__PURE__*/_jsxDEV(EvaluationSelect, {\n                    setCategory: function setCategory(selection) {\n                      return _this7.changeStatus(selection);\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 778,\n                    columnNumber: 157\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 776,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 774,\n                columnNumber: 25\n              }, this), showsOtherCommittee && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(FormSectionTitle, {\n                  title: \"Select Other Committee\",\n                  description: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 785,\n                  columnNumber: 28\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  form: true,\n                  className: \"mx-4\",\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(CommitteeSelect, {\n                      evalType: 'execution',\n                      title: t('ASSIGN_RESPONSIBLE_EXECUTION'),\n                      setResponsible: function setResponsible(res, idx) {\n                        return _this7.changeCommittee(res, idx);\n                      },\n                      selectedVal: committeeRes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 792,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 791,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 789,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 784,\n                columnNumber: 25\n              }, this), !showsOtherCommittee && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(FormSectionTitle, {\n                  title: t('COMMENTS'),\n                  description: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 801,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  form: true,\n                  className: \"mx-4\",\n                  children: /*#__PURE__*/_jsxDEV(Col, {\n                    md: \"12\",\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(FormTextarea, {\n                      style: {\n                        minHeight: \"100px\"\n                      },\n                      id: \"userBio\",\n                      placeholder: t('WRITE_COMMENTS'),\n                      value: ideaDescription,\n                      onChange: this.setIdeaDescription\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 808,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 807,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 805,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(FormSectionTitle, {\n                  title: t('RESPONSABILITY'),\n                  description: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 818,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  form: true,\n                  className: \"mx-4\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(ExecutionSelect, {\n                      evalType: 'execution',\n                      title: t('ASSIGN_RESPONSIBLE_EXECUTION'),\n                      setResponsible: function setResponsible(res, idx) {\n                        return _this7.changeResponsible(res, idx);\n                      },\n                      selectedVal: executionRes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 825,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 824,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    className: \"form-group\",\n                    children: /*#__PURE__*/_jsxDEV(ExecutionSelect, {\n                      evalType: 'coach',\n                      title: t('ASSIGN_COACH'),\n                      setResponsible: function setResponsible(res, idx) {\n                        return _this7.changeCoach(res, idx);\n                      },\n                      selectedVal: coachRes\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 835,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 834,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 822,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 800,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 695,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: filterVisibilityState\n              },\n              children: /*#__PURE__*/_jsxDEV(IdeaFilterSelect, {\n                setFilter: function setFilter(e) {\n                  _this7.setFilter(e);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 847,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: filterQuestionVisibilityState\n              },\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  lg: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    form: true,\n                    children: selectedFilterQ.map(function (item, idx) {\n                      return /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"6\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"question\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: item.get(\"question\")\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 860,\n                            columnNumber: 62\n                          }, _this7)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 860,\n                          columnNumber: 35\n                        }, _this7), /*#__PURE__*/_jsxDEV(FormTextarea, {\n                          style: {\n                            minHeight: \"80px\"\n                          },\n                          id: \"filterQuestion\",\n                          placeholder: \"Escribir contestacion...\",\n                          onChange: function onChange(event) {\n                            return _this7.filterQuestionAnswerChange(event, idx);\n                          },\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 861,\n                          columnNumber: 35\n                        }, _this7), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 868,\n                          columnNumber: 35\n                        }, _this7)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 859,\n                        columnNumber: 33\n                      }, _this7);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 857,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 856,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 855,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 851,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: questionVisibilityState\n              },\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  lg: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    form: true,\n                    children: categoryQuestions.map(function (item, idx) {\n                      return /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"6\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"question\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: item.get(\"question\")\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 883,\n                            columnNumber: 64\n                          }, _this7)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 883,\n                          columnNumber: 37\n                        }, _this7), /*#__PURE__*/_jsxDEV(FormTextarea, {\n                          style: {\n                            minHeight: \"80px\"\n                          },\n                          id: \"ideaQuestion\",\n                          placeholder: \"Write answers...\",\n                          onChange: function onChange(event) {\n                            return _this7.questionAnswerChange(event, idx);\n                          },\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 884,\n                          columnNumber: 37\n                        }, _this7), /*#__PURE__*/_jsxDEV(\"label\", {\n                          class: \"text-muted\",\n                          htmlFor: \"question\",\n                          children: item.get(\"required\") ? \"*Esta pregunta es requerida.\" : \"\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 891,\n                          columnNumber: 37\n                        }, _this7), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 892,\n                          columnNumber: 37\n                        }, _this7)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 882,\n                        columnNumber: 35\n                      }, _this7);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 879,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 878,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 877,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 686,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n          className: \"border-top\",\n          children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n            size: \"sm\",\n            className: \"ml-auto d-table mr-3\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              theme: \"accent\",\n              disabled: !canSubmit,\n              onClick: this.submitEvaluation.bind(this),\n              style: {\n                display: nextButtonVisibilityState\n              },\n              children: \"Someter Evaluaci\\xF3n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 902,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 901,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 19\n      }, this);\n    }\n  }]);\n\n  return EvaluateIdeaForm;\n}(React.Component);\n\nexport default withTranslation()(EvaluateIdeaForm);","map":{"version":3,"sources":["/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/common/EvaluateIdeaForm.js"],"names":["React","Container","Row","Col","Button","ButtonGroup","Card","CardBody","CardFooter","DatePicker","Fade","Form","FormInput","FormSelect","FormRadio","FormTextarea","InputGroup","InputGroupAddon","InputGroupText","FormFeedback","Select","Parse","FormSectionTitle","CustomFileUpload","CategorySelect","IdeaFilterSelect","all","EvaluationSelect","ProyectEvaluationSelect","ExecutionSelect","CommitteeSelect","object","withTranslation","remCharStyle","color","EvaluateIdeaForm","props","onSubmit","e","preventDefault","alert","state","data","ideaQuestions","answers","category","department","date","categoryQuestions","filterQuestions","selectedFilterQ","filterQAnswers","categoryQAnswers","ideaDescription","file","buttonNext","descriptionValid","remainingCharacters","visible","filterVisible","filterQuestionsVisible","ideaQuestionsVisible","hideNextButton","userName","sectionTitle","formButtonTitle","ideaNumber","status","executionRes","executionResObj","committeeRes","committeeResObj","coachRes","coachResObj","showsOtherCommittee","change","bind","setCategory","setDate","setIdeaDescription","selectFile","showNext","addAnswer","saveIdea","currUser","User","current","getUserName","fetchNewData","fetchQuestions","fetchFilterQuestions","getDate","setState","Date","user","query","Query","equalTo","id","find","results","firstName","get","lastName","fullName","isInvalid","forEach","item","idx","required","answer","isShowingForm","isShowingFilter","isShowingFilterQuestions","isShowingQuestions","buttonState","allAnswered","resetIdeaForm","window","location","reload","className","ItemClass","Object","extend","then","error","newFilter","newCategory","filteredData","filter","addFilterAnswer","selectedCategory","Idea","ideaInfo","currentUser","userId","set","proponent","event","target","value","categoryName","handleCategoryChange","filterName","handleFilterChange","console","log","ideaDate","description","maxCharacters","charCount","length","isValid","filteredQuestions","map","prevState","question","newItems","push","ideaItem","comments","newStatus","percentage","mayNeedEval","newComment","responsibleName","label","coachName","coachUser","resUser","otherCom","confirm","saveIdeaItem","saveAll","useMasterKey","dismissModal","setNotifications","selection","showsOther","res","allUsers","responsibleMsg","proponentMsg","proponentUser","responsibleUser","proponentNotifications","unshift","increment","responsibleNotifications","users","catch","formVisibilityState","filterVisibilityState","filterQuestionVisibilityState","questionVisibilityState","nextButtonVisibilityState","canSubmit","t","display","handleChange","changeStatus","changeCommittee","minHeight","changeResponsible","changeCoach","setFilter","filterQuestionAnswerChange","questionAnswerChange","submitEvaluation","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  ButtonGroup,\n  Card,\n  CardBody,\n  CardFooter,\n  DatePicker,\n  Fade,\n  Form,\n  FormInput,\n  FormSelect,\n  FormRadio,\n  FormTextarea,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText, \n  FormFeedback,\n} from \"shards-react\";\nimport Select from 'react-select';\nimport Parse from 'parse';\n\nimport FormSectionTitle from \"../edit-user-profile/FormSectionTitle\";\nimport CustomFileUpload from \"../components-overview/CustomFileUpload\";\nimport CategorySelect from \"./CategorySelect\"\nimport IdeaFilterSelect from \"./IdeaFilterSelect\";\nimport { all } from \"q\";\nimport EvaluationSelect from \"./EvaluationSelect\";\nimport ProyectEvaluationSelect from \"./ProyectEvaluationSelect\";\nimport ExecutionSelect from \"./ExecutionSelect\";\nimport CommitteeSelect from \"./CommitteeSelect\";\nimport { object } from \"prop-types\";\nimport { withTranslation } from 'react-i18next';\n\nconst remCharStyle = {\n  color: 'green'\n};\n\nclass EvaluateIdeaForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n          data:[],\n          ideaQuestions: [],\n          answers:[],\n          category:null,\n          department:null,\n          date: '',\n          categoryQuestions: [],\n          filterQuestions: [],\n          selectedFilterQ: [],\n          filterQAnswers: [],\n          categoryQAnswers: [],\n          ideaDescription: null,\n          file:null, \n          buttonNext:true,\n          descriptionValid:'',\n          remainingCharacters: 250,\n          visible: true,\n          filterVisible: false,\n          filterQuestionsVisible: false, \n          ideaQuestionsVisible: false,\n          hideNextButton: false,\n          userName: 'User Name',\n          sectionTitle:'',\n          formButtonTitle: 'Continuar',\n          ideaNumber: '#00008',\n          status: '',\n          executionRes: 0,\n          executionResObj: object,\n          committeeRes: 0,\n          committeeResObj: object,\n          coachRes:  0,\n          coachResObj: object,\n          // canSubmit: false,\n          showsOtherCommittee: false,\n        }\n\n        this.change = this.change.bind(this);\n        this.setCategory = this.setCategory.bind(this);\n        this.setDate = this.setDate.bind(this);\n        this.setIdeaDescription = this.setIdeaDescription.bind(this);\n        this.selectFile = this.selectFile.bind(this);\n        this.showNext = this.showNext.bind(this);\n        this.addAnswer = this.addAnswer.bind(this);\n        this.saveIdea = this.saveIdea.bind(this);\n        this.showNext = this.showNext.bind(this);\n    }\n\n    componentDidMount() {\n      let currUser = Parse.User.current();\n      this.getUserName(currUser);\n      this.fetchNewData();\n      this.fetchQuestions();\n      this.fetchFilterQuestions();\n      this.getDate();\n    }\n\n    getDate() {\n      this.setState({\n        date: new Date()\n      });\n    }\n\n    async getUserName(user) {\n      var query = new Parse.Query(Parse.User);\n      query.equalTo(\"objectId\", user.id);\n      const results = await query.find();\n      const firstName = results[0].get('firstName');\n      const lastName = results[0].get('lastName');\n      const fullName = firstName + ' ' + lastName;\n      this.setState({\n        userName: fullName\n      });\n    }\n\n    handleSubmit() {\n      const { formButtonTitle } = this.state;\n      \n      if (formButtonTitle == \"Continuar\") {\n        this.showNext();\n      } else {\n        var isInvalid = false\n        this.state.answers.forEach((item,idx) => {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n        alert(\"Su IDEA ha sido sometida.\");\n      }\n    }\n  }\n\n    showNext() {\n      const isShowingForm = this.state.visible;\n      const isShowingFilter = this.state.filterVisible;\n      const isShowingFilterQuestions = this.state.filterQuestionsVisible;\n      const isShowingQuestions = this.state.ideaQuestionsVisible;\n\n      if (isShowingForm && !isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n\n        const { category, department, descriptionValid } = this.state;\n\n        if (!category || !department || !descriptionValid) {\n          alert(\"Por favor seleccione una categoria, un departamento y asegurese de que la descripcion de la idea sea valida.\");\n        } else {\n          this.setState({\n            visible: !isShowingForm,\n            filterVisible: !isShowingFilter,\n            buttonState: false,\n            hideNextButton: true,\n          });\n        }\n      } else if (!isShowingForm && isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        this.setState({\n          hideNextButton: false,\n          filterVisible: !isShowingFilter,\n          filterQuestionsVisible: !isShowingFilterQuestions,\n          buttonState: false,\n        });\n      } else if (!isShowingForm && !isShowingFilter && isShowingFilterQuestions && !isShowingQuestions) {\n        var allAnswered = false;\n        // console.log(this.state.filterQAnswers);\n        // console.log(this.state.filterQAnswers);\n        var isInvalid = false\n        this.state.filterQAnswers.forEach((item,idx) => {\n          // console.log(item)\n          if (!item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas.\");\n        } else {\n          this.setState({\n            filterQuestionsVisible: !isShowingFilterQuestions,\n            ideaQuestionsVisible: !isShowingQuestions,\n            buttonState: false,\n            formButtonTitle: 'Someter',\n          });\n        }\n      } else if (!isShowingForm && !isShowingFilter && !isShowingFilterQuestions && isShowingQuestions) {\n        // console.log(this.state.answers);\n        var isInvalid = false\n        this.state.answers.forEach((item,idx) => {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n          alert('¡Congrats! Thanks for submitting your idea.', \n          this.resetIdeaForm());\n        }\n      }\n      // console.log(isShowingForm);\n      // console.log(isShowingFilter);\n      // console.log(isShowingFilterQuestions);\n      // console.log(isShowingFilterQuestions);\n      // console.log('\\n');\n    }\n\n    resetIdeaForm() {\n      window.location.reload();\n    }\n\n    fetchNewData() {\n      const className = \"IdeaDepartment\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n\n      query.find()\n      .then((results) => {\n          this.setState({\n              data: results\n          });\n          // console.log(results);\n      }, (error) => {\n          this.setState({\n              data: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    fetchQuestions() {\n      const className = \"IdeaQuestion\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n\n      query.find()\n      .then((results) => {\n        // console.log(results);\n          this.setState({\n              ideaQuestions: results\n          });\n      }, (error) => {\n          this.setState({\n              data: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    fetchFilterQuestions() {\n      const className = \"FilterQuestion\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find()\n      .then((results) => {\n        // console.log(results);\n          this.setState({\n              filterQuestions: results\n          });\n      }, (error) => {\n          this.setState({\n              filterQuestions: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    handleFilterChange(newFilter) {\n      const newCategory = newFilter;\n      const { filterQuestions, selectedFilterQ } = this.state;\n      // console.log('FILTERED QUESTIONS');\n      // console.log(filterQuestions);\n      \n      var filteredData;\n      if (newCategory !== 'Todas') {\n        filteredData = filterQuestions.filter(item => item.get(\"filter\") === newCategory);\n      }  else {\n        filteredData = filterQuestions;\n      }\n      \n      this.setState({\n        selectedFilterQ: filteredData\n      }, this.addFilterAnswer(filteredData));\n      // console.log(filteredData);\n      this.showNext();\n    }\n\n    handleCategoryChange(selectedCategory) {\n      const newCategory = selectedCategory;\n      const { ideaQuestions } = this.state;\n\n      var filteredData = ideaQuestions.filter(item => item.get(\"category\") === newCategory );\n            \n      this.setState({\n        categoryQuestions: filteredData\n      }, this.addAnswer(filteredData));\n    }\n\n    onSubmit = e => {\n      e.preventDefault();\n      alert('Form submitted');\n    };\n\n    saveIdea() {\n      // Simple syntax to create a new subclass of Parse.Object.\n      var Idea = Parse.Object.extend(\"Idea\");\n      // Create a new instance of that class.\n      var ideaInfo = new Idea();\n\n      const currentUser = Parse.User.current();\n      const userId = currentUser.get(\"username\");\n    \n      // IDEA Properties\n      ideaInfo.set(\"proponent\", userId);\n      ideaInfo.set(\"department\",this.state.department);\n      ideaInfo.set(\"category\", this.state.category);\n      ideaInfo.set(\"date\", this.state.date);\n      ideaInfo.set(\"description\", this.state.ideaDescription);\n      ideaInfo.set(\"file\", this.state.file);\n      ideaInfo.set(\"status\", \"saved\");\n      ideaInfo.set(\"progress\", [0,100]);\n      \n      // ideaInfo.save()\n      // .then((ideaInfo) => {\n      //   // Execute any logic that should take place after the object is saved.\n      //   this.resetForm();\n      //   alert('Su IDEA fue guardada exitosamente.');\n      // }, (error) => {\n      //   // Execute any logic that should take place if the save fails.\n      //   // error is a Parse.Error with an error code and message.\n      //   alert('Failed to create new object, with error code: ' + error.message);\n      // });\n    }\n\n    resetForm() {\n      this.setState({proponent: '', department: '', category: '', ideaDescription:'', date: new Date(),file: '', remainingCharacters: 250, descriptionValid:''});\n    }\n\n    change(event) {\n      // this.setState({category: event.target.value});\n      this.setState({department: event.target.value});\n      // console.log(event.target.value);\n    }\n\n    setCategory(categoryName) {\n      this.setState({\n        category: categoryName\n      })\n\n      this.handleCategoryChange(categoryName)\n      // console.log(categoryName);\n    }\n\n    setFilter(filterName) {\n      // console.log(filterName);\n      // this.setState({sectionTitle: (filterName === \"innovacion\")?\"INNOVACION\":\"RESOLUCION DE PROBLEMAS\"});\n      this.handleFilterChange(filterName);\n    }\n\n    clickedPrint() {\n      console.log('HOLA');\n    }\n\n    setDate(ideaDate) {\n      this.setState({\n        date: ideaDate\n      })\n      // console.log(ideaDate);\n    }\n\n    filterQuestionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.filterQAnswers[idx].answer = event.target.value;\n      // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    questionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.answers[idx].answer = event.target.value;\n      // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    setIdeaDescription(event) {\n      const description = event.target.value;\n      const maxCharacters = 250;\n      const charCount = maxCharacters - description.length\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true\n      } else {\n        isValid = null\n      }\n\n      // console.log(isValid);\n      this.setState({\n        descriptionValid: isValid,\n        ideaDescription: description,\n        remainingCharacters: charCount\n      })\n      // console.log(description);\n    }\n\n    selectFile(file) {\n      // console.log(file);\n    }\n\n    addAnswer(filteredQuestions) {\n      filteredQuestions.map((item, idx) => (\n        // console.log(item.get(\"question\"))\n        this.setState((prevState) => ({\n          answers: [...prevState.answers, {question:item.get(\"question\"), answer:\"\", required: item.get(\"required\")}],\n        }))\n      ))\n      // console.log(this.);\n    }\n\n    addFilterAnswer(filteredData) {\n      // console.log('Add Filter ANswer' );\n    \n      var newItems = [];\n      filteredData.forEach((item, idx) => {\n        newItems.push({question:item.get(\"question\"), answer:''});\n      })\n\n      this.setState({ filterQAnswers: newItems}, () => {\n          // console.log(this.state.filterQAnswers);\n        });\n    }\n\n    submitEvaluation() {\n        const {status, ideaDescription, descriptionValid, userName, committeeResObj} = this.state;\n        var ideaItem = this.props.ideaItem;\n        var comments = ideaItem.get(\"comments\");\n        var newStatus = '';\n        var percentage = [25,75];\n        var mayNeedEval = status == 'Proyecto' || 'Otro'?true:false;\n\n        switch(status) {\n          case \"Devuelta\":\n            // code block\n            newStatus = 'Idea Devuelta - Mas Informacion';\n            break;\n          case \"Espera\":\n            // code block\n            newStatus = 'Idea en Espera';\n            break;\n          case \"No Perseguido\":\n            // code block\n            newStatus = 'No Perseguido';\n            percentage = [0,100];\n            break;\n          case \"Ejecutar\":\n            // code block\n            newStatus = 'Ejecutar - Just Do It';\n            break;\n\n          case \"Ejecutar Proyecto\":\n            // code block\n            newStatus = 'Ejecutar - Just Do It - Proyecto';\n            break;\n          case \"Proyecto\":\n            // code block\n            newStatus = 'Idea Proyecto';\n            percentage = [0,100];\n            break;\n          default:\n            newStatus = 'SOMETIDA';\n            percentage = [0,100];\n            // code block\n        }\n\n\n\n        // Comments\n        var newComment = {\"comment\": ideaDescription, \"date\": new Date(), \"user\":userName, \"progress\":[25,75]};\n\n        if (ideaDescription && ideaDescription.length > 0) {\n          comments.push(newComment)\n        }\n        console.log(this.state.executionResObj)\n        const responsibleName = this.state.executionResObj.label;\n\n        if (this.state.coachResObj != '' ) {\n          const coachName = this.state.coachResObj.label;\n          const coachUser = this.state.coachResObj.value;\n          ideaItem.set(\"coachName\",coachName);\n          ideaItem.set(\"coach\", coachUser);\n        }\n       \n        console.log('COACH SELECTION')\n        console.log(this.state.coachResObj)\n\n        const resUser = this.state.executionResObj;\n\n        ideaItem.set(\"status\", newStatus);\n        ideaItem.set(\"comments\", comments);\n        ideaItem.set(\"needsEvaluation\", mayNeedEval);\n        ideaItem.set(\"progress\", percentage);\n\n        if (status == 'Otro') {\n          var otherCom = committeeResObj.get('value');\n          ideaItem.set(\"department\", otherCom);\n        } else {\n          ideaItem.set(\"responsibleName\",responsibleName);\n        }\n\n        ideaItem.set(\"responsible\", resUser.value);\n        ideaItem.set(\"edited\", false);\n        console.log(newStatus)\n        if ( newStatus == 'No Perseguido') {\n          if (window.confirm('Did you have a conversation with your employee? If you did, please click OK.')) this.saveIdeaItem(ideaItem) \n        } else {\n          this.saveIdeaItem(ideaItem) \n        }\n    }\n\n    saveIdeaItem(ideaItem) {\n      Parse.Object.saveAll([ideaItem], {useMasterKey: true}).then(() => {\n        if (this.state.status == 'Otro') {\n          alert('Su evaluacion ha sido sometida. ¡Gracias!', this.props.dismissModal());\n        } else {\n          this.setNotifications().then(() => {\n            alert('Su evaluacion ha sido sometida. ¡Gracias!', this.props.dismissModal());\n          });\n        }\n      });\n    }\n\n    changeStatus(selection) {\n      console.log(selection)\n      const showsOther = selection == 'Otro'\n      this.setState({status: selection, showsOtherCommittee: showsOther? true:false});\n      // console.log('STATUS CHANGED TO: ' + this.state.status);\n    }\n\n    changeResponsible(res, idx) {\n      console.log(idx);\n      this.setState({\n        executionResObj: res,\n        executionRes: res\n      });\n      console.log(res);\n    }\n\n    changeCommittee(res, idx) {\n      console.log(idx);\n      this.setState({\n        committeeResObj: res,\n        committeeRes: idx\n      });\n      console.log(res.get('value'));\n    }\n\n    changeCoach(res, idx) {\n      console.log(idx);\n      console.log(res);\n\n      if (res!= '') {\n        this.setState({\n          coachResObj: res,\n          coachRes: res\n        });\n      } else {\n        this.setState({\n          coachResObj: '',\n          coachRes: ''\n        });\n      }\n    }\n\n    async setNotifications() {\n      const {allUsers, department, category} = this.state;\n\n      const responsibleMsg = '¡Congrats! We have assigned an idea to you.';\n      const proponentMsg = '¡Congrats! We have approved your idea.'\n\n      var ideaItem = this.props.ideaItem;\n      console.log('RESPONSIBLE');\n      console.log(ideaItem.get(\"responsible\"));\n\n      var proponentUser = ideaItem.get(\"proponentObj\");\n      var responsibleUser = ideaItem.get(\"responsible\");\n\n      var proponentNotifications = proponentUser.get(\"notificationMessages\");\n      proponentNotifications.unshift(proponentMsg);\n\n      proponentUser.increment(\"notificationCount\");\n      proponentUser.set(\"notificationMessages\", proponentNotifications);\n\n      var responsibleNotifications = responsibleUser.get(\"notificationMessages\");\n      responsibleNotifications.unshift(responsibleMsg);\n\n      responsibleUser.increment(\"notificationCount\");\n      responsibleUser.set(\"notificationMessages\", responsibleNotifications);\n\n      var users = new Parse.Query(\"Users\");\n\n      await Parse.Object.saveAll(users, {useMasterKey: true}).catch(error => {\n        console.log('Error saving.');\n      });\n      // await responsibleUser.saveAll().catch(error => {\n      //   console.log('Error saving.');\n      // });\n\n      // console.log(notifications);\n      // var notified = false;\n      // for (var u in allUsers) {\n      //   const evalCriteria = allUsers[u].get(\"evaluationCriteria\");\n      //   console.log(evalCriteria);\n      //   for (var i in evalCriteria) {\n      //     if ((evalCriteria[i].type == \"department\" && evalCriteria[i].name == department) || (evalCriteria[i].type == \"category\" && evalCriteria[i].name == category)) {\n      //       console.log('DEPARTMENT');\n      //       // Department Queries\n      //       // var deptQuery = new Parse.Query(ItemClass);\n      //       // myQueries.push(deptQuery.equalTo(\"department\", evalCriteria[i].name))\n      //       if (notified == false) {\n      //         allUsers[u].increment(\"notificationCount\");\n      //         allUsers[u].set(\"notificationMessages\", [\"You have a new IDEA waiting for evaluation in your inbox.\"]);\n      //         await allUsers[u].save().catch(error => {\n      //           // This will error, since the Parse.User is not authenticated\n      //         });\n      //       }\n\n      //       notified = true;\n      //     } \n        // }\n      // }\n    }\n\n    render() {\n        const {visible, showsOtherCommittee, committeeRes, filterVisible, filterQuestionsVisible, ideaQuestionsVisible, selectedFilterQ, categoryQuestions, category, answers, buttonState, hideNextButton, date, remainingCharacters, descriptionValid, department, ideaDescription, userName, sectionTitle, executionRes, coachRes, coachResObj, status } = this.state\n        const formVisibilityState = visible? 'block' : 'none';\n        const filterVisibilityState = filterVisible? 'block' : 'none';\n        const filterQuestionVisibilityState = filterQuestionsVisible? 'block' : 'none';\n        const questionVisibilityState = ideaQuestionsVisible? 'block' : 'none';\n        const nextButtonVisibilityState = !hideNextButton? 'inline' : 'none';\n        const ideaItem = this.props.ideaItem;\n        var canSubmit = status && executionRes != ''\n\n        if (status == 'Otro') {\n          canSubmit = true\n        }\n\n        console.log(status)\n        const {t} = this.props;\n        console.log(executionRes);\n        console.log('como se debe evaluar')\n        console.log(ideaItem.get(\"status\"))\n        return(\n\n                  <Card small className=\"edit-user-details mb-4\">\n                    {/* <ProfileBackgroundPhoto /> */}\n    \n                    <CardBody className=\"p-0\">\n    \n                      {/* Form Section Title :: General */}\n                      <Form className=\"py-4\"\n                      onSubmit={this.onSubmit}\n                      noValidate\n                      >\n                        <FormSectionTitle\n                          title={ideaItem.get(\"title\")}\n                          description=\"\"\n                        />\n                        {/* VISIBILITY */}\n                        <div style={{display: formVisibilityState}}>\n                        <Row form className=\"mx-4\">\n                          <Col lg=\"12\">\n                            <Row form>\n                              {/* Proponent */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t('SUBMIT_IDEA_Proponent')}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={ideaItem.get(\"proponentName\")}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                              </Col>\n    \n                              {/* Date */}\n                              <Col md=\"3\" className=\"form-group\">\n                              <label htmlFor=\"lastName\">{t('SUBMIT_IDEA_Date')}</label>\n                              <InputGroup>\n                                  <InputGroupAddon type=\"append\">\n                                    <InputGroupText>\n                                      <i className=\"material-icons\">&#xE916;</i>\n                                    </InputGroupText>\n                                  </InputGroupAddon>\n                                  <DatePicker\n                                    placeholderText={ideaItem.get(\"date\")}\n                                    dropdownMode=\"select\"\n                                    className=\"text-center\"\n                                    readOnly = \"true\"\n                                    onChange={this.setDate} \n                                    selected={ideaItem.get(\"date\")}\n                                    required\n                                  />\n                                </InputGroup>\n                              </Col>\n                              {/* Department */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"userLocation\">{t('SUBMIT_IDEA_Department')}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={ideaItem.get(\"department\")}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                              </Col>\n                              {/* Department */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"userLocation\">{t('SUBMIT_IDEA_Category')}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={ideaItem.get(\"category\")}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                              </Col>\n                              { ideaItem.get(\"hasTeam\") &&\n                              <Col md=\"3\" className=\"form-group\">\n                               <label htmlFor=\"team\"><strong>{ideaItem.get(\"teamName\")}</strong></label>\n                                <Select\n                                    isMulti\n                                    value={ideaItem.get(\"teamMembers\")}\n                                    placeholder='Miembros'\n                                    onChange={this.handleChange}\n                                    options={[]}\n                                  />\n                              </Col>}\n                            </Row>\n                          </Col>\n                        </Row>\n    \n                        <br/>\n\n                        <FormSectionTitle\n                          title={t('EVALUATION')}\n                          description=\"\"\n                        />\n                        <Row form className=\"mx-4\">\n                        {/* Categoria */}\n                        <Col md=\"12\" className=\"form-group\">\n                          {\n                            ideaItem.get(\"status\") == 'Idea Proyecto'? <ProyectEvaluationSelect setCategory={(selection) => this.changeStatus(selection)}/>:<EvaluationSelect setCategory={(selection) => this.changeStatus(selection)}/>\n                          }\n                          </Col>\n                        </Row>\n\n                        {showsOtherCommittee &&\n                        <div>\n                           <FormSectionTitle\n                            title=\"Select Other Committee\"\n                            description=\"\"\n                          />\n                          <Row form className=\"mx-4\">\n                            {/* Idea Description */}\n                            <Col md=\"12\" className=\"form-group\">\n                              <CommitteeSelect evalType={'execution'} title={t('ASSIGN_RESPONSIBLE_EXECUTION')} setResponsible={(res, idx) => this.changeCommittee(res, idx)} selectedVal={committeeRes}/>\n                            </Col>\n                          </Row>\n                        </div>\n                        }\n          \n\n                        {!showsOtherCommittee && \n                        <div>\n                          <FormSectionTitle\n                          title={t('COMMENTS')}\n                          description=\"\"\n                        />\n                        <Row form className=\"mx-4\">\n                          {/* Idea Description */}\n                          <Col md=\"12\" className=\"form-group\">\n                            <FormTextarea\n                              style={{ minHeight: \"100px\" }}\n                              id=\"userBio\"\n                              placeholder={t('WRITE_COMMENTS')}\n                              value={ideaDescription}\n                              onChange={this.setIdeaDescription}\n                            />\n                          </Col>\n                        </Row>\n\n                        <FormSectionTitle\n                          title={t('RESPONSABILITY')}\n                          description=\"\"\n                        />\n                        <Row form className=\"mx-4\">\n                          {/* Idea Description */}\n                          <Col className=\"form-group\">\n                              <ExecutionSelect evalType={'execution'} title={t('ASSIGN_RESPONSIBLE_EXECUTION')} setResponsible={(res, idx) => this.changeResponsible(res, idx)} selectedVal={executionRes}/>\n                            {/* <FormTextarea\n                              style={{ minHeight: \"100px\" }}\n                              id=\"userBio\"\n                              placeholder=\"Escribir pertinentes sobre la IDEA...\"\n                              value={ideaDescription}\n                              onChange={this.setIdeaDescription}\n                            /> */}\n                          </Col>\n                          <Col className=\"form-group\">\n                              <ExecutionSelect evalType={'coach'} title={t('ASSIGN_COACH')} setResponsible={(res, idx) => this.changeCoach(res, idx)} selectedVal={coachRes}/>\n                              {/* { ideaItem.get(\"status\") !== 'Idea Proyecto' && <ExecutionSelect evalType={'coach'} title={t('ASSIGN_COACH')} setResponsible={(res, idx) => this.changeCoach(res, idx)} selectedVal={coachRes}/>} */}\n                            {/* <ExecutionSelect evalType=\"coach\" title={'Assign IDEA Coach'} setResponsible={(res, idx) => this.changeResponsible(res, idx)} selectedVal={executionRes}/> */}\n                          </Col>\n                        </Row>\n                          \n                        </div>\n                        }\n                        </div>\n                          \n                        {/* Select IDEA Filter Visibility State */}\n                        <div style={{display: filterVisibilityState}}>\n                          <IdeaFilterSelect setFilter={(e) => {this.setFilter(e)}}/>\n                        </div>\n\n                        {/* Select IDEA Filter Visibility State */}\n                        <div style={{display: filterQuestionVisibilityState}}>\n                        {/* <Row className=\"mx-4\" style={{paddingBottom:20}}>\n                          <h2>{sectionTitle}</h2>\n                        </Row> */}\n                        <Row form className=\"mx-4\">\n                          <Col lg=\"12\">\n                            <Row form>\n                              {selectedFilterQ.map((item,idx) =>\n                                <Col key={idx} md=\"6\">\n                                  <label  htmlFor=\"question\"><strong>{item.get(\"question\")}</strong></label>\n                                  <FormTextarea \n                                  style={{ minHeight: \"80px\" }}\n                                  id=\"filterQuestion\"\n                                  placeholder=\"Escribir contestacion...\"\n                                  onChange={(event) => this.filterQuestionAnswerChange(event, idx)}\n                                  required>\n                                  </FormTextarea>\n                                  <br/>\n                                </Col>\n                              )}\n                              </Row>\n                            </Col>\n                            </Row>\n                        </div>\n\n                        {/* Question Visibility State */}\n                        <div style={{display: questionVisibilityState}}>\n                          <Row form className=\"mx-4\">\n                            <Col lg=\"12\">\n                              <Row form>\n                                {categoryQuestions.map((item,idx) =>\n                                  <Col key={idx} md=\"6\">\n                                    <label  htmlFor=\"question\"><strong>{item.get(\"question\")}</strong></label>\n                                    <FormTextarea \n                                    style={{ minHeight: \"80px\" }}\n                                    id=\"ideaQuestion\"\n                                    placeholder=\"Write answers...\"\n                                    onChange={(event) => this.questionAnswerChange(event, idx)}\n                                    required>\n                                    </FormTextarea>\n                                    <label  class=\"text-muted\" htmlFor=\"question\">{item.get(\"required\")?\"*Esta pregunta es requerida.\":\"\"}</label>\n                                    <br/>\n                                  </Col>\n                                )}\n                              </Row>\n                            </Col>\n                          </Row>\n                        </div>\n                        </Form>\n                    </CardBody>\n                    <CardFooter className=\"border-top\">\n                      <ButtonGroup size=\"sm\" className=\"ml-auto d-table mr-3\">\n                        {/* <Button theme=\"light\" onClick={this.saveIdea}>Guardar</Button> */}\n                        <Button theme=\"accent\" disabled={!canSubmit} onClick={this.submitEvaluation.bind(this)} style={{display: nextButtonVisibilityState}} >Someter Evaluación</Button>\n                      </ButtonGroup>\n                    </CardFooter>\n                  </Card>\n          );\n    }\n}\n\n\n\n\nexport default withTranslation()(EvaluateIdeaForm);\n"]},"metadata":{},"sourceType":"module"}