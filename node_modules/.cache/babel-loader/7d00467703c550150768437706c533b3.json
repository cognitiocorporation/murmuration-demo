{"ast":null,"code":"import _classCallCheck from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/administration/PropertyManager.js\";\nimport React, { Component } from \"react\";\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem, Button, InputGroup, InputGroupAddon, FormCheckbox, Container, Col, Row, FormInput } from \"shards-react\";\nimport Parse from 'parse';\nimport { withTranslation } from \"react-i18next\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar storageLanguage = localStorage.getItem('language');\n\nvar PropertyManager = /*#__PURE__*/function (_Component) {\n  _inherits(PropertyManager, _Component);\n\n  var _super = _createSuper(PropertyManager);\n\n  function PropertyManager(props) {\n    var _this;\n\n    _classCallCheck(this, PropertyManager);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      /* initial state */\n      data: [],\n      newItem: '',\n      newItemSpanish: '',\n      newCat: '',\n      newCatSpanish: ''\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.handleCatChange = _this.handleCatChange.bind(_assertThisInitialized(_this));\n    _this.handleChangeSpanish = _this.handleChangeSpanish.bind(_assertThisInitialized(_this));\n    _this.handleCatChangeSpanish = _this.handleCatChangeSpanish.bind(_assertThisInitialized(_this));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_this));\n    _this.handleToggle = _this.handleToggle.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(PropertyManager, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        newItem: event.target.value\n      });\n    }\n  }, {\n    key: \"handleChangeSpanish\",\n    value: function handleChangeSpanish(event) {\n      this.setState({\n        newItemSpanish: event.target.value\n      });\n    }\n  }, {\n    key: \"handleCatChange\",\n    value: function handleCatChange(event) {\n      this.setState({\n        newCat: event.target.value\n      });\n    }\n  }, {\n    key: \"handleCatChangeSpanish\",\n    value: function handleCatChangeSpanish(event) {\n      this.setState({\n        newCatSpanish: event.target.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchNewData();\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData() {\n      var _this2 = this;\n\n      var className = this.props.className;\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        console.log('RESULTS: ' + results);\n\n        _this2.setState({\n          data: results\n        });\n      }, function (error) {\n        _this2.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this3 = this;\n\n      var className = this.props.className;\n      var PropertyItem = Parse.Object.extend(className);\n      var newItem = new PropertyItem();\n      newItem.set(\"itemName\", this.state.newItem);\n      newItem.set(\"itemNameTrans\", {\n        \"en\": this.state.newItem,\n        \"es\": this.state.newItemSpanish\n      });\n\n      if (className == \"IdeaCategory\") {\n        newItem.set(\"show\", false);\n      }\n\n      newItem.save().then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this3.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"handleCategorySubmit\",\n    value: function handleCategorySubmit(event) {\n      var _this4 = this;\n\n      var className = this.props.className;\n      var PropertyItem = Parse.Object.extend(className);\n      var newItem = new PropertyItem();\n      newItem.set(\"itemName\", this.state.newCatSpanish);\n      newItem.set(\"extra\", true);\n      newItem.set(\"itemNameTrans\", {\n        \"en\": this.state.newCat,\n        \"es\": this.state.newCatSpanish\n      }); // if (className == \"IdeaCategory\") {\n      //   newItem.set(\"show\", false);\n      // }\n\n      newItem.save().then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this4.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"handleToggle\",\n    value: function handleToggle(item) {\n      var _this5 = this;\n\n      var className = this.props.className;\n      console.log('clicked');\n\n      if (className == \"IdeaCategory\" || className == \"IdeaDepartment\") {\n        console.log(item);\n        var isShowing = item.get(\"show\");\n        item.set(\"show\", !isShowing);\n        item.save().then(function (item) {\n          // Now let's update it with some new data. In this case, only cheatMode and score\n          // will get sent to the cloud. playerName hasn't changed.\n          _this5.fetchNewData();\n        });\n      }\n    }\n  }, {\n    key: \"deleteItem\",\n    value: function deleteItem(item) {\n      var _this6 = this;\n\n      item.destroy({}).then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this6.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var t = this.props.t;\n      return /*#__PURE__*/_jsxDEV(Card, {\n        small: true,\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"border-bottom\",\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"m-0\",\n            children: this.props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n          className: \"p-0\",\n          children: /*#__PURE__*/_jsxDEV(ListGroup, {\n            flush: true,\n            children: [/*#__PURE__*/_jsxDEV(ListGroupItem, {\n              className: \"p-3\",\n              children: this.state.data.map(function (item, idx) {\n                return /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"d-flex mb-2\",\n                  children: [/*#__PURE__*/_jsxDEV(FormCheckbox, {\n                    onChange: function onChange(e) {\n                      return _this7.handleToggle(item);\n                    },\n                    className: \"mb-1\",\n                    checked: item.get(\"show\"),\n                    children: _this7.props.className == \"IdeaCategory\" ? item.get(\"itemNameTrans\")[storageLanguage] : item.get(\"itemName\")\n                  }, idx, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 175,\n                    columnNumber: 25\n                  }, _this7), _this7.props.className == \"IdeaDepartment\" && /*#__PURE__*/_jsxDEV(\"a\", {\n                    danger: true,\n                    className: \"ml-auto\",\n                    onClick: function onClick(e) {\n                      return _this7.deleteItem(item);\n                    },\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 27\n                  }, _this7), item.get(\"extra\") == true && /*#__PURE__*/_jsxDEV(\"a\", {\n                    danger: true,\n                    className: \"ml-auto\",\n                    onClick: function onClick(e) {\n                      return _this7.deleteItem(item);\n                    },\n                    children: \"X\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 27\n                  }, _this7)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 22\n                }, _this7);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), this.props.className == \"IdeaDepartment\" && /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              className: \"d-flex px-3\",\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"ml-auto\",\n                children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                  value: this.state.value,\n                  onChange: this.handleChange,\n                  placeholder: t('ENGLISH')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                  value: this.state.value,\n                  onChange: this.handleChangeSpanish,\n                  placeholder: t('SPANISH')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(InputGroupAddon, {\n                  type: \"append\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: function onClick(e) {\n                      return _this7.handleSubmit(e);\n                    },\n                    theme: \"white\",\n                    className: \"px-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"material-icons\",\n                      children: \"add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 201,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), this.props.className == \"IdeaCategory\" && this.state.data.length < 5 && /*#__PURE__*/_jsxDEV(ListGroupItem, {\n              className: \"d-flex px-3\",\n              children: /*#__PURE__*/_jsxDEV(InputGroup, {\n                className: \"ml-auto\",\n                children: [/*#__PURE__*/_jsxDEV(FormInput, {\n                  value: this.state.value,\n                  onChange: this.handleCatChange,\n                  placeholder: t('ENGLISH')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                  value: this.state.value,\n                  onChange: this.handleCatChangeSpanish,\n                  placeholder: t('SPANISH')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(InputGroupAddon, {\n                  type: \"append\",\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    onClick: function onClick(e) {\n                      return _this7.handleCategorySubmit(e);\n                    },\n                    theme: \"white\",\n                    className: \"px-2\",\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"material-icons\",\n                      children: \"add\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 214,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 213,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 13\n      }, this);\n    }\n  }]);\n\n  return PropertyManager;\n}(Component);\n\nPropertyManager.defaultProps = {\n  title: \"Categorias\"\n};\nexport default withTranslation()(PropertyManager);","map":{"version":3,"sources":["/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/administration/PropertyManager.js"],"names":["React","Component","Card","CardHeader","CardBody","ListGroup","ListGroupItem","Button","InputGroup","InputGroupAddon","FormCheckbox","Container","Col","Row","FormInput","Parse","withTranslation","storageLanguage","localStorage","getItem","PropertyManager","props","state","data","newItem","newItemSpanish","newCat","newCatSpanish","handleChange","bind","handleCatChange","handleChangeSpanish","handleCatChangeSpanish","handleSubmit","handleToggle","event","setState","target","value","fetchNewData","className","ItemClass","Object","extend","query","Query","find","then","results","console","log","error","PropertyItem","set","save","item","alert","message","isShowing","get","destroy","t","title","map","idx","e","deleteItem","length","handleCategorySubmit","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  ListGroup,\n  ListGroupItem,\n  Button,\n  InputGroup,\n  InputGroupAddon,\n  FormCheckbox,\n  Container,\n  Col,\n  Row,\n  FormInput\n} from \"shards-react\";\nimport Parse from 'parse';\nimport { withTranslation } from \"react-i18next\";\n\nconst storageLanguage = localStorage.getItem('language');\n\nclass PropertyManager extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = { \n            /* initial state */ \n            data:[],\n            newItem:'',\n            newItemSpanish:'',\n            newCat:'',\n            newCatSpanish:''\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleCatChange = this.handleCatChange.bind(this);\n        this.handleChangeSpanish = this.handleChangeSpanish.bind(this);\n        this.handleCatChangeSpanish = this.handleCatChangeSpanish.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n      }\n\n      handleChange(event) {\n        this.setState({newItem: event.target.value});\n      }\n\n      handleChangeSpanish(event) {\n        this.setState({newItemSpanish: event.target.value});\n      }\n\n      handleCatChange(event) {\n        this.setState({newCat: event.target.value});\n      }\n\n      handleCatChangeSpanish(event) {\n        this.setState({newCatSpanish: event.target.value});\n      }\n\n      componentDidMount() {\n        this.fetchNewData();\n      }\n\n      fetchNewData() {\n        const className = this.props.className;\n\n        var ItemClass = Parse.Object.extend(className);\n        var query = new Parse.Query(ItemClass);\n\n        query.find()\n        .then((results) => {\n          console.log('RESULTS: ' + results);\n            this.setState({\n                data: results\n            });\n        }, (error) => {\n            this.setState({\n                data: []\n            });\n          // The object was not retrieved successfully.\n          // error is a Parse.Error with an error code and message.\n        });\n      }\n\n      handleSubmit(event) {\n        const className = this.props.className;\n        const PropertyItem = Parse.Object.extend(className);\n        const newItem= new PropertyItem();\n        \n        newItem.set(\"itemName\", this.state.newItem);\n        newItem.set(\"itemNameTrans\", {\"en\":this.state.newItem,\"es\":this.state.newItemSpanish})\n\n        if (className == \"IdeaCategory\") {\n          newItem.set(\"show\", false);\n        }\n        \n        newItem.save()\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n\n      handleCategorySubmit(event) {\n        const className = this.props.className;\n        const PropertyItem = Parse.Object.extend(className);\n        const newItem= new PropertyItem();\n        \n        newItem.set(\"itemName\", this.state.newCatSpanish);\n        newItem.set(\"extra\", true);\n        newItem.set(\"itemNameTrans\", {\"en\":this.state.newCat,\"es\":this.state.newCatSpanish})\n\n        // if (className == \"IdeaCategory\") {\n        //   newItem.set(\"show\", false);\n        // }\n        \n        newItem.save()\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n\n      handleToggle(item) {\n        const className = this.props.className;\n        console.log('clicked');\n        if (className == \"IdeaCategory\" || className == \"IdeaDepartment\") {\n          console.log(item);\n          const isShowing = item.get(\"show\");\n          item.set(\"show\", !isShowing);\n          item.save().then((item) => {\n            // Now let's update it with some new data. In this case, only cheatMode and score\n            // will get sent to the cloud. playerName hasn't changed.\n            this.fetchNewData();\n          });\n        } \n      }\n\n      deleteItem(item) {\n        item.destroy({})\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n      render() {\n        const {t} = this.props\n          return(\n            <Card small className=\"mb-3\">\n            <CardHeader className=\"border-bottom\">\n              <h6 className=\"m-0\">{this.props.title}</h6>\n            </CardHeader>\n            <CardBody className=\"p-0\">\n              <ListGroup flush>\n              <ListGroupItem className=\"p-3\"> \n                    { this.state.data.map((item, idx) => (\n                     \n                     <span className=\"d-flex mb-2\">\n                        <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                          {this.props.className == \"IdeaCategory\"?(item.get(\"itemNameTrans\")[storageLanguage]):item.get(\"itemName\")}\n                        </FormCheckbox>\n                        { this.props.className == \"IdeaDepartment\" && \n                          <a danger className=\"ml-auto\" onClick={e => this.deleteItem(item)}>\n                            X\n                          </a>\n\n                          \n                        }\n                        { item.get(\"extra\") == true &&\n                          <a danger className=\"ml-auto\" onClick={e => this.deleteItem(item)}>\n                            X\n                          </a>\n                        }\n                     </span>\n                   \n                    ))}\n                    </ListGroupItem>\n                { this.props.className == \"IdeaDepartment\" &&\n                <ListGroupItem className=\"d-flex px-3\">\n                  <InputGroup className=\"ml-auto\">\n                    <FormInput value={this.state.value} onChange={this.handleChange} placeholder={t('ENGLISH')} />\n                    <FormInput value={this.state.value} onChange={this.handleChangeSpanish} placeholder={t('SPANISH')} />\n                    <InputGroupAddon type=\"append\">\n                      <Button onClick={e => this.handleSubmit(e)} theme=\"white\" className=\"px-2\">\n                        <i className=\"material-icons\">add</i>\n                      </Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </ListGroupItem>\n                }\n                { this.props.className == \"IdeaCategory\" && this.state.data.length < 5 &&\n                <ListGroupItem className=\"d-flex px-3\">\n                  <InputGroup className=\"ml-auto\">\n                    <FormInput value={this.state.value} onChange={this.handleCatChange} placeholder={t('ENGLISH')} />\n                    <FormInput value={this.state.value} onChange={this.handleCatChangeSpanish} placeholder={t('SPANISH')} />\n                    <InputGroupAddon type=\"append\">\n                      <Button onClick={e => this.handleCategorySubmit(e)} theme=\"white\" className=\"px-2\">\n                        <i className=\"material-icons\">add</i>\n                      </Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </ListGroupItem>\n                }\n              </ListGroup>\n            </CardBody>\n          </Card>\n            \n            );\n      }\n}\n\n\nPropertyManager.defaultProps = {\n  title: \"Categorias\"\n};\n\nexport default withTranslation()(PropertyManager);\n"]},"metadata":{},"sourceType":"module"}