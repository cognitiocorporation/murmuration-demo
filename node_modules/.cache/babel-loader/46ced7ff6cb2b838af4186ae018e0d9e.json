{"ast":null,"code":"import _objectSpread from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/angelvazquez/Desktop/murmuration-demo/src/components/layout/MainSidebar/SidebarNavItems.js\";\nimport React from \"react\";\nimport { Nav } from \"shards-react\";\nimport SidebarNavItem from \"./SidebarNavItem\";\nimport { Store } from \"../../../flux\";\nimport Parse from 'parse';\nimport { withTranslation } from 'react-i18next';\n\nvar SidebarNavItems = /*#__PURE__*/function (_React$Component) {\n  _inherits(SidebarNavItems, _React$Component);\n\n  function SidebarNavItems(props) {\n    var _this;\n\n    _classCallCheck(this, SidebarNavItems);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SidebarNavItems).call(this, props));\n    var t = _this.props.t;\n    _this.state = {\n      navItems: Store.getSidebarItems(),\n      type: ''\n    };\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SidebarNavItems, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      Store.addChangeListener(this.onChange); // this.getCommittees()\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      Store.removeChangeListener(this.onChange);\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange() {\n      this.setState(_objectSpread({}, this.state, {\n        navItems: Store.getSidebarItems()\n      }));\n    }\n  }, {\n    key: \"getCommittees\",\n    value: function getCommittees() {\n      var _this2 = this;\n\n      var EvaluationComm = Parse.Object.extend(\"EvaluationCommittee\");\n      var query = new Parse.Query(EvaluationComm);\n      var comittees = [];\n      var currentUser = Parse.User.current();\n      query.find().then(function (results) {\n        // Now each result will have all fields except `playerName`\n        console.log('comites');\n        console.log(results);\n\n        if (results.length > 0) {\n          results.map(function (committee) {\n            var objId = currentUser.get(\"committees\");\n            console.log(objId);\n\n            if (committee.objectId = objId) {\n              console.log(committee);\n            }\n          });\n\n          _this2.setState({\n            type: 'super_user'\n          });\n        } else {\n          _this2.setState({\n            type: 'user'\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var items = this.state.navItems;\n      var _this$props = this.props,\n          t = _this$props.t,\n          i18n = _this$props.i18n;\n      var currentUser = Parse.User.current();\n      var userType;\n\n      if (currentUser) {\n        // do stuff with the user\n        userType = currentUser.get(\"role\");\n        console.log(userType);\n      } else {// show the signup or login page\n      }\n\n      console.log(items);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"nav-wrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 7\n        }\n      }, items.map(function (nav, idx) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: idx,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }\n        }, /*#__PURE__*/React.createElement(\"h6\", {\n          className: \"main-sidebar__nav-title\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }\n        }, nav.title), typeof nav.items !== \"undefined\" && nav.items.length && /*#__PURE__*/React.createElement(Nav, {\n          className: \"nav--no-borders flex-column\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }\n        }, nav.items.map(function (item, idx) {\n          // Type of user\n          if (item.roles.includes(userType)) {\n            // Menu items depend on user type\n            return /*#__PURE__*/React.createElement(SidebarNavItem, {\n              key: idx,\n              item: item,\n              __self: _this3,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 28\n              }\n            });\n          }\n        })));\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-table m-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }\n      }, \"powered by\"), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"a\", {\n        href: \"http://www.lasalle-group.com/\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        id: \"main-logo\",\n        className: \"d-inline-block align-top mr-1 ml-3\",\n        style: {\n          maxWidth: \"120px\"\n        } // src= {require(\"../../../images/logo_murmuration.png\")}\n        ,\n        src: 'https://goswiftmedia.com/wp-content/uploads/2021/10/logo_murmuration.png',\n        alt: \"Murmuration\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return SidebarNavItems;\n}(React.Component);\n\nexport default withTranslation()(SidebarNavItems);","map":{"version":3,"sources":["/Users/angelvazquez/Desktop/murmuration-demo/src/components/layout/MainSidebar/SidebarNavItems.js"],"names":["React","Nav","SidebarNavItem","Store","Parse","withTranslation","SidebarNavItems","props","t","state","navItems","getSidebarItems","type","onChange","bind","addChangeListener","removeChangeListener","setState","EvaluationComm","Object","extend","query","Query","comittees","currentUser","User","current","find","then","results","console","log","length","map","committee","objId","get","objectId","items","i18n","userType","nav","idx","title","item","roles","includes","maxWidth","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Nav } from \"shards-react\";\n\nimport SidebarNavItem from \"./SidebarNavItem\";\nimport { Store } from \"../../../flux\";\nimport Parse from 'parse';\nimport { withTranslation } from 'react-i18next';\n\nclass SidebarNavItems extends React.Component {\n\n  constructor(props) {\n    super(props)\n    const {t} = this.props;\n    this.state = {\n      navItems: Store.getSidebarItems(),\n      type: ''\n    };\n    \n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentWillMount() {\n    Store.addChangeListener(this.onChange);\n    // this.getCommittees()\n  }\n\n  componentWillUnmount() {\n    Store.removeChangeListener(this.onChange);\n  }\n\n  onChange() {\n    this.setState({\n      ...this.state,\n      navItems: Store.getSidebarItems()\n    });\n  }\n\n  getCommittees() {\n    const EvaluationComm= Parse.Object.extend(\"EvaluationCommittee\");\n    const query = new Parse.Query(EvaluationComm);\n    var comittees = []\n    const currentUser = Parse.User.current();\n    query.find().then((results) => {\n      // Now each result will have all fields except `playerName`\n      console.log('comites')\n      console.log(results)\n      if (results.length > 0) {\n        results.map((committee) => {\n          const objId = currentUser.get(\"committees\");\n          console.log(objId)\n          if (committee.objectId = objId) {\n            console.log(committee)\n          }\n        })\n        this.setState({type: 'super_user'})\n      } else {\n        this.setState({type: 'user'})\n      }\n    });\n  }\n\n  render() {\n    const { navItems: items } = this.state;\n    const { t, i18n } = this.props;\n\n    const currentUser = Parse.User.current();\n    var userType;\n    if (currentUser) {\n      // do stuff with the user\n      userType = currentUser.get(\"role\");\n      console.log(userType)\n    } else {\n        // show the signup or login page\n    }\n\n    console.log(items)\n\n    return (\n      <div className=\"nav-wrapper\">\n        {items.map((nav, idx) => (\n          <div key={idx}>\n            <h6 className=\"main-sidebar__nav-title\">{nav.title}</h6>\n            {typeof nav.items !== \"undefined\" && nav.items.length && (\n              <Nav className=\"nav--no-borders flex-column\">\n                {nav.items.map((item, idx) => {\n                  // Type of user\n                  if(item.roles.includes(userType)){\n                    // Menu items depend on user type\n                    return <SidebarNavItem key={idx} item={item} />\n                  }\n                })}\n              </Nav>\n            )}\n          </div>\n        ))}\n        <div className=\"d-table m-auto\">\n          <br/>\n          <small>powered by</small>\n          <br/>\n          <a href=\"http://www.lasalle-group.com/\">\n          \n            <img\n                    id=\"main-logo\"\n                    className=\"d-inline-block align-top mr-1 ml-3\"\n                    style={{ maxWidth: \"120px\" }}\n                    // src= {require(\"../../../images/logo_murmuration.png\")}\n                    src={'https://goswiftmedia.com/wp-content/uploads/2021/10/logo_murmuration.png'}\n                    alt=\"Murmuration\"\n                  />\n          </a>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default withTranslation()(SidebarNavItems);\n"]},"metadata":{},"sourceType":"module"}