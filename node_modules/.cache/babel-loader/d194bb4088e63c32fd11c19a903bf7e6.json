{"ast":null,"code":"import _toConsumableArray from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/common/SubmitIdeaForm.js\";\nimport React from \"react\";\nimport { Container, Row, Col, Button, ButtonGroup, Card, CardBody, CardFooter, DatePicker, Fade, Form, FormInput, FormSelect, FormRadio, FormTextarea, InputGroup, InputGroupAddon, InputGroupText, FormFeedback, FormCheckbox } from \"shards-react\";\nimport Select from 'react-select';\nimport Parse from 'parse';\nimport FormSectionTitle from \"../edit-user-profile/FormSectionTitle\";\nimport CustomFileUpload from \"../components-overview/CustomFileUpload\";\nimport CategorySelect from \"./CategorySelect\";\nimport IdeaFilterSelect from \"./IdeaFilterSelect\";\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nimport { all } from \"q\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar remCharStyle = {\n  color: 'green'\n};\nvar options = [{\n  value: 'chocolate',\n  label: 'Chocolate'\n}, {\n  value: 'strawberry',\n  label: 'Strawberry'\n}, {\n  value: 'vanilla',\n  label: 'Vanilla'\n}];\nvar storageLanguage = localStorage.getItem('language');\n\nvar SubmitIdeaForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(SubmitIdeaForm, _React$Component);\n\n  var _super = _createSuper(SubmitIdeaForm);\n\n  function SubmitIdeaForm(props) {\n    var _this;\n\n    _classCallCheck(this, SubmitIdeaForm);\n\n    _this = _super.call(this, props);\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      alert('Form submitted');\n    };\n\n    _this.handleChange = function (selectedOption) {\n      console.log(selectedOption);\n\n      _this.setState({\n        selectedOption: selectedOption\n      }, function () {\n        return console.log(\"Option selected:\", _this.state.selectedOption);\n      });\n    };\n\n    _this.selectEmployees = function (selectedEmployees) {\n      console.log(selectedEmployees);\n\n      _this.setState({\n        selectedEmployees: selectedEmployees\n      }, function () {\n        return console.log(\"Option selected:\", _this.state.selectedEmployees);\n      });\n    };\n\n    _this.state = {\n      data: [],\n      ideaQuestions: [],\n      answers: [],\n      category: '',\n      department: '',\n      date: '',\n      categoryQuestions: [],\n      filterQuestions: [],\n      selectedFilterQ: [],\n      filterQAnswers: [],\n      categoryQAnswers: [],\n      ideaDescription: null,\n      ideaTitle: null,\n      file: null,\n      buttonNext: true,\n      descriptionValid: '',\n      titleValid: '',\n      remainingCharacters: 250,\n      remainingTitleCharacters: 30,\n      visible: true,\n      filterVisible: false,\n      filterQuestionsVisible: false,\n      ideaQuestionsVisible: false,\n      hideNextButton: false,\n      userName: 'User Name',\n      userDept: '',\n      sectionTitle: '',\n      formButtonTitle: 'Continue',\n      allUsers: [],\n      selectedOption: null,\n      allTeamUsers: [],\n      teamName: '',\n      hasTeam: false,\n      ideaType: '',\n      expectedReturn: 0,\n      options: [],\n      selectedEmployees: []\n    };\n    _this.change = _this.change.bind(_assertThisInitialized(_this));\n    _this.setCategory = _this.setCategory.bind(_assertThisInitialized(_this));\n    _this.setDate = _this.setDate.bind(_assertThisInitialized(_this));\n    _this.setIdeaDescription = _this.setIdeaDescription.bind(_assertThisInitialized(_this));\n    _this.setIdeaTitle = _this.setIdeaTitle.bind(_assertThisInitialized(_this));\n    _this.setExpectedReturn = _this.setExpectedReturn.bind(_assertThisInitialized(_this));\n    _this.selectFile = _this.selectFile.bind(_assertThisInitialized(_this));\n    _this.deleteFile = _this.deleteFile.bind(_assertThisInitialized(_this));\n    _this.showNext = _this.showNext.bind(_assertThisInitialized(_this));\n    _this.addAnswer = _this.addAnswer.bind(_assertThisInitialized(_this));\n    _this.saveIdea = _this.saveIdea.bind(_assertThisInitialized(_this));\n    _this.showNext = _this.showNext.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(SubmitIdeaForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var currUser = Parse.User.current();\n      this.getUserName(currUser);\n      this.getUsers();\n      this.fetchAllUsers();\n      this.fetchUserData();\n      this.fetchNewData();\n      this.fetchQuestions();\n      this.fetchFilterQuestions();\n      this.getDate();\n    }\n  }, {\n    key: \"getUsers\",\n    value: function () {\n      var _getUsers = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var query, results;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = new Parse.Query(Parse.User);\n                query.notEqualTo(\"evaluationCriteria\", []);\n                _context.next = 4;\n                return query.find();\n\n              case 4:\n                results = _context.sent;\n                console.log(results);\n                this.setState({\n                  allUsers: results\n                }); // this.setNotifications();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getUsers() {\n        return _getUsers.apply(this, arguments);\n      }\n\n      return getUsers;\n    }()\n  }, {\n    key: \"fetchUserData\",\n    value: function fetchUserData() {\n      var _this2 = this;\n\n      var className = \"User\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.limit(1000);\n      query.ascending(\"firstName\").find().then(function (results) {\n        var options = [];\n        {\n          results.map(function (result, idx) {\n            return options.push({\n              \"value\": result,\n              \"label\": _this2.getFullName(result)\n            });\n          });\n        }\n\n        _this2.setState({\n          options: options\n        }); // this.props.setResponsible(results[0], -1);\n\n      }, function (error) {\n        _this2.setState({\n          options: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchAllUsers\",\n    value: function fetchAllUsers() {\n      var _this3 = this;\n\n      var className = \"User\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.limit(1000);\n      query.ascending(\"firstName\").find().then(function (results) {\n        // { value: 'chocolate', label: 'Chocolate' }\n        console.log(results.length);\n        var allUsers = [];\n        results.map(function (user) {\n          return allUsers.push({\n            value: user.get(\"email\"),\n            label: user.get(\"firstName\") + ' ' + user.get(\"lastName\"),\n            userObj: user\n          });\n        });\n\n        _this3.setState({\n          allTeamUsers: allUsers\n        });\n      }, function (error) {\n        _this3.setState({\n          allTeamUsers: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"setNotifications\",\n    value: function () {\n      var _setNotifications = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _this$state, allUsers, department, category, notified, u, evalCriteria, i;\n\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _this$state = this.state, allUsers = _this$state.allUsers, department = _this$state.department, category = _this$state.category;\n                notified = false;\n                _context2.t0 = _regeneratorRuntime.keys(allUsers);\n\n              case 3:\n                if ((_context2.t1 = _context2.t0()).done) {\n                  _context2.next = 20;\n                  break;\n                }\n\n                u = _context2.t1.value;\n                evalCriteria = allUsers[u].get(\"evaluationCriteria\");\n                _context2.t2 = _regeneratorRuntime.keys(evalCriteria);\n\n              case 7:\n                if ((_context2.t3 = _context2.t2()).done) {\n                  _context2.next = 18;\n                  break;\n                }\n\n                i = _context2.t3.value;\n\n                if (!(evalCriteria[i].type == \"department\" && evalCriteria[i].name == department || evalCriteria[i].type == \"category\" && evalCriteria[i].name == category)) {\n                  _context2.next = 16;\n                  break;\n                }\n\n                if (!(notified == false)) {\n                  _context2.next = 15;\n                  break;\n                }\n\n                allUsers[u].increment(\"notificationCount\");\n                allUsers[u].set(\"notificationMessages\", [\"Tiene una nueva idea para manejar.\"]);\n                _context2.next = 15;\n                return allUsers[u].save().catch(function (error) {// This will error, since the Parse.User is not authenticated\n                });\n\n              case 15:\n                notified = true;\n\n              case 16:\n                _context2.next = 7;\n                break;\n\n              case 18:\n                _context2.next = 3;\n                break;\n\n              case 20:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function setNotifications() {\n        return _setNotifications.apply(this, arguments);\n      }\n\n      return setNotifications;\n    }()\n  }, {\n    key: \"getDate\",\n    value: function getDate() {\n      this.setState({\n        date: new Date()\n      });\n    }\n  }, {\n    key: \"getUserName\",\n    value: function () {\n      var _getUserName = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(user) {\n        var query, results, firstName, lastName, dept, fullName;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                query = new Parse.Query(Parse.User);\n                query.equalTo(\"objectId\", user.id);\n                _context3.next = 4;\n                return query.find();\n\n              case 4:\n                results = _context3.sent;\n                firstName = results[0].get('firstName');\n                lastName = results[0].get('lastName');\n                dept = results[0].get('department');\n                fullName = firstName + ' ' + lastName;\n                this.setState({\n                  userName: fullName,\n                  userDept: dept\n                });\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getUserName(_x) {\n        return _getUserName.apply(this, arguments);\n      }\n\n      return getUserName;\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var formButtonTitle = this.state.formButtonTitle;\n\n      if (formButtonTitle == \"Continue\") {\n        this.showNext();\n      } else {\n        var isInvalid = false;\n        this.state.answers.forEach(function (item, idx) {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n          alert(\"Su IDEA ha sido sometida.\");\n        }\n      }\n    }\n  }, {\n    key: \"showNext\",\n    value: function showNext() {\n      var isShowingForm = this.state.visible;\n      var isShowingFilter = this.state.filterVisible;\n      var isShowingFilterQuestions = this.state.filterQuestionsVisible;\n      var isShowingQuestions = this.state.ideaQuestionsVisible;\n\n      if (isShowingForm && !isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        var _this$state2 = this.state,\n            category = _this$state2.category,\n            department = _this$state2.department,\n            descriptionValid = _this$state2.descriptionValid,\n            titleValid = _this$state2.titleValid;\n\n        if (!category || !department || !descriptionValid || !titleValid) {\n          alert(\"Por favor seleccione un departamento, una categoria y asegurese de que el titulo y la descripcion de la idea sean validos.\");\n        } else {\n          this.setState({\n            visible: !isShowingForm,\n            filterVisible: !isShowingFilter,\n            buttonState: false,\n            hideNextButton: true\n          });\n        }\n      } else if (!isShowingForm && isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        this.setState({\n          hideNextButton: false,\n          filterVisible: !isShowingFilter,\n          filterQuestionsVisible: !isShowingFilterQuestions,\n          buttonState: false\n        });\n      } else if (!isShowingForm && !isShowingFilter && isShowingFilterQuestions && !isShowingQuestions) {\n        var allAnswered = false; // console.log(this.state.filterQAnswers);\n        // console.log(this.state.filterQAnswers);\n\n        var isInvalid = false;\n        this.state.filterQAnswers.forEach(function (item, idx) {\n          // console.log(item)\n          if (!item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas.\");\n        } else {\n          this.setState({\n            filterQuestionsVisible: !isShowingFilterQuestions,\n            ideaQuestionsVisible: !isShowingQuestions,\n            buttonState: false,\n            formButtonTitle: 'Submit'\n          });\n        }\n      } else if (!isShowingForm && !isShowingFilter && !isShowingFilterQuestions && isShowingQuestions) {\n        // console.log(this.state.answers);\n        var isInvalid = false;\n        this.state.answers.forEach(function (item, idx) {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n          // alert(\"FINISHED\");\n          this.saveIdea();\n        }\n      } // console.log(isShowingForm);\n      // console.log(isShowingFilter);\n      // console.log(isShowingFilterQuestions);\n      // console.log(isShowingFilterQuestions);\n      // console.log('\\n');\n\n    }\n  }, {\n    key: \"resetIdeaForm\",\n    value: function resetIdeaForm() {\n      window.location.reload();\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData() {\n      var _this4 = this;\n\n      var className = \"IdeaDepartment\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        _this4.setState({\n          data: results\n        }); // console.log(results);\n\n      }, function (error) {\n        _this4.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchQuestions\",\n    value: function fetchQuestions() {\n      var _this5 = this;\n\n      var className = \"IdeaQuestion\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        // console.log(results);\n        _this5.setState({\n          ideaQuestions: results\n        });\n      }, function (error) {\n        _this5.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchFilterQuestions\",\n    value: function fetchFilterQuestions() {\n      var _this6 = this;\n\n      var className = \"FilterQuestion\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        console.log(results);\n\n        _this6.setState({\n          filterQuestions: results\n        });\n      }, function (error) {\n        _this6.setState({\n          filterQuestions: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"handleFilterChange\",\n    value: function handleFilterChange(newFilter) {\n      var newCategory = newFilter;\n      var _this$state3 = this.state,\n          filterQuestions = _this$state3.filterQuestions,\n          selectedFilterQ = _this$state3.selectedFilterQ; // console.log('FILTERED QUESTIONS');\n      // console.log(filterQuestions);\n\n      var filteredData;\n\n      if (newCategory !== 'Todas') {\n        console.log(newFilter);\n        filteredData = filterQuestions.filter(function (item) {\n          return item.get(\"filter\") === newCategory;\n        });\n      } else {\n        filteredData = filterQuestions;\n      }\n\n      this.setState({\n        selectedFilterQ: filteredData\n      }, this.addFilterAnswer(filteredData));\n      console.log(filteredData);\n      this.showNext();\n    }\n  }, {\n    key: \"handleCategoryChange\",\n    value: function handleCategoryChange(selectedCategory) {\n      var newCategory = selectedCategory;\n      var ideaQuestions = this.state.ideaQuestions;\n      var filteredData = ideaQuestions.filter(function (item) {\n        return item.get(\"category\") === newCategory;\n      });\n      this.setState({\n        categoryQuestions: filteredData\n      }, this.addAnswer(filteredData));\n    }\n  }, {\n    key: \"getIdeaCount\",\n    value: function () {\n      var _getIdeaCount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var Idea, query, count;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                Idea = Parse.Object.extend(\"Idea\");\n                query = new Parse.Query(Idea);\n                _context4.next = 4;\n                return query.count();\n\n              case 4:\n                count = _context4.sent;\n                console.log(count);\n                return _context4.abrupt(\"return\", ++count);\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function getIdeaCount() {\n        return _getIdeaCount.apply(this, arguments);\n      }\n\n      return getIdeaCount;\n    }()\n  }, {\n    key: \"saveIdea\",\n    value: function () {\n      var _saveIdea = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _this7 = this;\n\n        var _this$state4, department, category, date, ideaDescription, file, answers, filterQAnswers, ideaTitle, userName, Idea, ideaInfo, currentUser, userId, count, currUser, teamMembers, teamName, myFile, parseFile;\n\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$state4 = this.state, department = _this$state4.department, category = _this$state4.category, date = _this$state4.date, ideaDescription = _this$state4.ideaDescription, file = _this$state4.file, answers = _this$state4.answers, filterQAnswers = _this$state4.filterQAnswers, ideaTitle = _this$state4.ideaTitle, userName = _this$state4.userName; // Simple syntax to create a new subclass of Parse.Object.\n\n                Idea = Parse.Object.extend(\"Idea\"); // Create a new instance of that class.\n\n                ideaInfo = new Idea();\n                currentUser = Parse.User.current();\n                userId = currentUser.get(\"username\");\n                _context5.next = 7;\n                return this.getIdeaCount();\n\n              case 7:\n                count = _context5.sent;\n                console.log(answers);\n                currUser = Parse.User.current(); // IDEA Properties\n\n                ideaInfo.set(\"proponentObj\", currUser);\n                ideaInfo.set(\"proponent\", userId);\n                ideaInfo.set(\"edited\", false);\n                ideaInfo.set(\"completed\", false);\n                ideaInfo.set(\"department\", department);\n                ideaInfo.set(\"category\", category);\n                ideaInfo.set(\"date\", date);\n                ideaInfo.set(\"num\", count);\n                ideaInfo.set(\"title\", ideaTitle);\n                ideaInfo.set(\"description\", ideaDescription);\n                ideaInfo.set(\"file\", file);\n                ideaInfo.set(\"status\", \"SOMETIDA\");\n                ideaInfo.set(\"progress\", [0, 100]);\n                ideaInfo.set(\"filterAnswer\", filterQAnswers);\n                ideaInfo.set(\"questionAnswer\", answers);\n                ideaInfo.set(\"proponentName\", userName);\n                ideaInfo.set(\"comments\", []);\n                ideaInfo.set(\"needsEvaluation\", true);\n                ideaInfo.set(\"hasTeam\", this.state.hasTeam);\n                ideaInfo.set(\"ideaType\", this.state.ideaType);\n                ideaInfo.set(\"expectedReturn\", parseFloat(this.state.expectedReturn));\n\n                if (this.state.hasTeam) {\n                  teamMembers = this.state.selectedEmployees;\n                  teamName = this.state.teamName;\n                  ideaInfo.set(\"teamMembers\", teamMembers);\n                  ideaInfo.set(\"teamName\", this.state.teamName);\n                }\n\n                if (file) {\n                  console.log('HELLO TIENES O NO FILE');\n                  console.log(file);\n                  parseFile = new Parse.File(file.name, file);\n                  parseFile.save().then(function (myFile) {\n                    // The file has been saved to Parse.\n                    console.log(myFile);\n                    ideaInfo.set(\"file\", myFile);\n\n                    _this7.saveFinalIdea(ideaInfo);\n                  }, function (error) {// The file either could not be read, or could not be saved to Parse.\n                  });\n                } else {\n                  this.saveFinalIdea(ideaInfo);\n                }\n\n              case 33:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function saveIdea() {\n        return _saveIdea.apply(this, arguments);\n      }\n\n      return saveIdea;\n    }()\n  }, {\n    key: \"saveFinalIdea\",\n    value: function saveFinalIdea(ideaInfo) {\n      var _this8 = this;\n\n      ideaInfo.save().then(function () {\n        _this8.setNotifications().then(function (e) {\n          return alert('Â¡Congrats! Thanks for submitting your idea.', _this8.resetForm(e));\n        }); // Execute any logic that should take place after the object is saved.\n        // \n\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm(e) {\n      // e.preventDefault();\n      // console.log(e);\n      // console.log('reset');\n      // this.setNotifications();\n      this.setState({\n        proponent: '',\n        department: '',\n        category: '',\n        ideaDescription: '',\n        date: new Date(),\n        file: '',\n        remainingCharacters: 250,\n        descriptionValid: ''\n      });\n      window.location.reload();\n    }\n  }, {\n    key: \"addNotifications\",\n    value: function addNotifications() {}\n  }, {\n    key: \"change\",\n    value: function change(event) {\n      // this.setState({category: event.target.value});\n      this.setState({\n        department: event.target.value\n      }); // console.log(event.target.value);\n    }\n  }, {\n    key: \"setCategory\",\n    value: function setCategory(categoryName) {\n      this.setState({\n        category: categoryName\n      });\n      this.handleCategoryChange(categoryName);\n      console.log(categoryName);\n    }\n  }, {\n    key: \"setFilter\",\n    value: function setFilter(filterName) {\n      // console.log(filterName);\n      // this.setState({sectionTitle: (filterName === \"innovacion\")?\"INNOVACION\":\"RESOLUCION DE PROBLEMAS\"});\n      if (filterName == \"innovacion\") {\n        this.setState({\n          ideaType: filterName\n        });\n      } else {\n        this.setState({\n          ideaType: \"problema\"\n        });\n      }\n\n      this.handleFilterChange(filterName);\n    }\n  }, {\n    key: \"clickedPrint\",\n    value: function clickedPrint() {\n      console.log('HOLA');\n    }\n  }, {\n    key: \"setDate\",\n    value: function setDate(ideaDate) {\n      this.setState({\n        date: ideaDate\n      }); // console.log(ideaDate);\n    }\n  }, {\n    key: \"filterQuestionAnswerChange\",\n    value: function filterQuestionAnswerChange(answer, idx) {\n      var filterQAnswers = this.state.filterQAnswers; // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n\n      this.state.filterQAnswers[idx].answer = answer;\n      this.setState({\n        filterQAnswers: filterQAnswers\n      }); // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"filterQuestionAnswerChangeField\",\n    value: function filterQuestionAnswerChangeField(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.filterQAnswers[idx].answer = event.target.value; // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"questionAnswerChange\",\n    value: function questionAnswerChange(answer, idx) {\n      var answers = this.state.answers; // console.log(event.target.value);\n\n      console.log(answers); // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n\n      this.state.answers[idx].answer = answer;\n      this.setState({\n        answers: answers\n      }); // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"questionAnswerChangeField\",\n    value: function questionAnswerChangeField(event, idx) {\n      var answers = this.state.answers; // console.log(event.target.value);\n\n      console.log(answers); // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n\n      this.state.answers[idx].answer = event.target.value; // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"setIdeaDescription\",\n    value: function setIdeaDescription(event) {\n      var description = event.target.value;\n      var maxCharacters = 250;\n      var charCount = maxCharacters - description.length;\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false;\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true;\n      } else {\n        isValid = null;\n      } // console.log(isValid);\n\n\n      this.setState({\n        descriptionValid: isValid,\n        ideaDescription: description,\n        remainingCharacters: charCount\n      }); // console.log(description);\n    }\n  }, {\n    key: \"setIdeaTitle\",\n    value: function setIdeaTitle(event) {\n      var description = event.target.value;\n      var maxCharacters = 30;\n      var charCount = maxCharacters - description.length;\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false;\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true;\n      } else {\n        isValid = null;\n      } // console.log(isValid);\n\n\n      this.setState({\n        titleValid: isValid,\n        ideaTitle: description,\n        remainingTitleCharacters: charCount\n      });\n    }\n  }, {\n    key: \"setExpectedReturn\",\n    value: function setExpectedReturn(event) {\n      var amount = event.target.value; // console.log(isValid);\n\n      this.setState({\n        expectedReturn: amount\n      });\n    }\n  }, {\n    key: \"getFullName\",\n    value: function getFullName(result) {\n      if (result) {\n        return result.get(\"firstName\") + ' ' + result.get(\"lastName\");\n      }\n    }\n  }, {\n    key: \"selectFile\",\n    value: function selectFile(myFile) {\n      console.log(myFile);\n      this.setState({\n        file: myFile\n      });\n    }\n  }, {\n    key: \"deleteFile\",\n    value: function deleteFile() {\n      this.setState({\n        file: ''\n      });\n    }\n  }, {\n    key: \"addAnswer\",\n    value: function addAnswer(filteredQuestions) {\n      var _this9 = this;\n\n      filteredQuestions.map(function (item, idx) {\n        return (// console.log(item.get(\"question\"))\n          _this9.setState(function (prevState) {\n            return {\n              answers: [].concat(_toConsumableArray(prevState.answers), [{\n                question: item.get(\"question\"),\n                answer: \"\",\n                required: item.get(\"required\")\n              }])\n            };\n          })\n        );\n      }); // console.log(this.);\n    }\n  }, {\n    key: \"addFilterAnswer\",\n    value: function addFilterAnswer(filteredData) {\n      // console.log('Add Filter ANswer' );\n      var newItems = [];\n      filteredData.forEach(function (item, idx) {\n        newItems.push({\n          question: item.get(\"question\"),\n          answer: ''\n        });\n      });\n      this.setState({\n        filterQAnswers: newItems\n      }, function () {// console.log(this.state.filterQAnswers);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      var _this$state5 = this.state,\n          visible = _this$state5.visible,\n          filterVisible = _this$state5.filterVisible,\n          filterQuestionsVisible = _this$state5.filterQuestionsVisible,\n          ideaQuestionsVisible = _this$state5.ideaQuestionsVisible,\n          selectedFilterQ = _this$state5.selectedFilterQ,\n          categoryQuestions = _this$state5.categoryQuestions,\n          hideNextButton = _this$state5.hideNextButton,\n          date = _this$state5.date,\n          remainingCharacters = _this$state5.remainingCharacters,\n          descriptionValid = _this$state5.descriptionValid,\n          ideaDescription = _this$state5.ideaDescription,\n          userName = _this$state5.userName,\n          ideaTitle = _this$state5.ideaTitle,\n          titleValid = _this$state5.titleValid,\n          remainingTitleCharacters = _this$state5.remainingTitleCharacters,\n          expectedReturn = _this$state5.expectedReturn,\n          options = _this$state5.options;\n      var formVisibilityState = visible ? 'block' : 'none';\n      var filterVisibilityState = filterVisible ? 'block' : 'none';\n      var filterQuestionVisibilityState = filterQuestionsVisible ? 'block' : 'none';\n      var questionVisibilityState = ideaQuestionsVisible ? 'block' : 'none';\n      var nextButtonVisibilityState = !hideNextButton ? 'inline' : 'none';\n      var expectedRetunrnValid = /^\\d+$/.test(expectedReturn);\n      var t = this.props.t;\n      return /*#__PURE__*/_jsxDEV(Card, {\n        small: true,\n        className: \"edit-user-details mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(CardBody, {\n          className: \"p-0\",\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            className: \"py-4\",\n            onSubmit: this.onSubmit,\n            noValidate: true,\n            children: [/*#__PURE__*/_jsxDEV(FormSectionTitle, {\n              title: t('IDEA'),\n              description: t(\"SUBMIT_IDEA_Sub\") //\"Somete los detalles y la informacion de la IDEA.\"\n\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 735,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: formVisibilityState\n              },\n              children: [/*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  lg: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    form: true,\n                    children: [/*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"firstName\",\n                        children: t(\"SUBMIT_IDEA_Proponent\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 746,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                        id: \"firstName\",\n                        value: userName,\n                        onChange: function onChange() {},\n                        required: true,\n                        disabled: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 747,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(FormCheckbox, {\n                        checked: this.state.hasTeam,\n                        onChange: function onChange(e) {\n                          return _this10.setState({\n                            hasTeam: !_this10.state.hasTeam\n                          });\n                        },\n                        children: t('TEAM')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 754,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 745,\n                      columnNumber: 31\n                    }, this), this.state.hasTeam && /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"teamName\",\n                        children: t(\"SUBMIT_IDEA_Team\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 763,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                        id: \"teamName\",\n                        value: this.state.teamName,\n                        placeholder: t(\"SUBMIT_IDEA_TeamPlaceholder\"),\n                        onChange: function onChange(input) {\n                          _this10.setState({\n                            teamName: input.target.value\n                          });\n                        },\n                        required: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 765,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(Select, {\n                        value: this.state.selectedEmployees,\n                        onChange: this.selectEmployees,\n                        options: options,\n                        isMulti: true,\n                        placeholder: t('SELECT_MEMBERS')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 779,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 762,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"firstName\",\n                        children: t(\"SUBMIT_IDEA_Department\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 789,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                        id: \"firstName\",\n                        value: this.state.userDept,\n                        onChange: function onChange() {},\n                        required: true,\n                        disabled: true\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 790,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 788,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"userLocation\",\n                        children: t(\"SUBMIT_IDEA_Department_Benefitted\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 800,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(FormSelect, {\n                        size: \"sm\",\n                        onChange: this.change,\n                        value: this.state.department,\n                        required: true,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: -1,\n                          children: t(\"SUBMIT_IDEA_DepartmentSelect\")\n                        }, -1, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 806,\n                          columnNumber: 35\n                        }, this), this.state.data.map(function (item, idx) {\n                          return /*#__PURE__*/_jsxDEV(\"option\", {\n                            value: item.get(\"itemName\"),\n                            hidden: !item.get(\"show\"),\n                            children: item.get(\"itemName\")\n                          }, idx, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 809,\n                            columnNumber: 35\n                          }, _this10);\n                        })]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 801,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 799,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(Col, {\n                      md: \"3\",\n                      className: \"form-group\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"lastName\",\n                        children: t(\"SUBMIT_IDEA_Date\")\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 817,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(InputGroup, {\n                        children: [/*#__PURE__*/_jsxDEV(InputGroupAddon, {\n                          type: \"append\",\n                          children: /*#__PURE__*/_jsxDEV(InputGroupText, {\n                            children: /*#__PURE__*/_jsxDEV(\"i\", {\n                              className: \"material-icons\",\n                              children: \"\\uE916\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 821,\n                              columnNumber: 39\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 820,\n                            columnNumber: 37\n                          }, this)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 819,\n                          columnNumber: 35\n                        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                          placeholderText: date,\n                          dropdownMode: \"select\",\n                          className: \"text-center\",\n                          readOnly: \"true\",\n                          onChange: this.setDate,\n                          selected: this.state.date,\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 824,\n                          columnNumber: 35\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 818,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 816,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 743,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 741,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 839,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  md: \"6\",\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"userBio\",\n                    children: t(\"SUBMIT_IDEA_Category\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 844,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(CategorySelect, {\n                    setCategory: this.setCategory,\n                    department: this.props.department\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 845,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 843,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  md: \"6\",\n                  className: \"form-group\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"ideaTitle\",\n                    children: t(\"SUBMIT_IDEA_IdeaTitle\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 851,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                    id: \"userBio\",\n                    placeholder: t('SUBMIT_IDEA_TitlePlaceholder'),\n                    value: ideaTitle,\n                    onChange: this.setIdeaTitle,\n                    valid: titleValid ? true : null,\n                    invalid: !titleValid ? true : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 852,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(FormFeedback, {\n                    valid: titleValid ? true : null,\n                    invalid: !titleValid ? true : null,\n                    children: [remainingTitleCharacters, \" \", t(\"SUBMIT_IDEA_RemainingCharacters\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 859,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 864,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"userBio\",\n                    children: t(\"SUBMIT_IDEA_IdeaDescription\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 865,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(FormTextarea, {\n                    style: {\n                      minHeight: \"120px\"\n                    },\n                    id: \"userBio\",\n                    placeholder: t(\"SUBMIT_IDEA_DescriptionPlaceholder\"),\n                    value: ideaDescription,\n                    onChange: this.setIdeaDescription,\n                    valid: descriptionValid ? true : null,\n                    invalid: !descriptionValid ? true : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 866,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(FormFeedback, {\n                    valid: descriptionValid ? true : null,\n                    invalid: !descriptionValid ? true : null,\n                    children: [remainingCharacters, \" \", t(\"SUBMIT_IDEA_RemainingCharacters\")]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 875,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 880,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    htmlFor: \"ideaTitle\",\n                    children: t(\"SUBMIT_IDEA_ReturnTitle\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 881,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(FormInput, {\n                    id: \"expectedReturn\",\n                    placeholder: t('SUBMIT_IDEA_ReturnPlaceholder'),\n                    value: expectedReturn,\n                    onChange: this.setExpectedReturn,\n                    invalid: !expectedRetunrnValid\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 882,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(FormFeedback, {\n                    valid: expectedRetunrnValid,\n                    invalid: !expectedRetunrnValid,\n                    children: t(\"SUBMIT_IDEA_Money\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 889,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 894,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n                    className: \"text-muted d-block mb-2\",\n                    children: t(\"SUBMIT_IDEA_UploadArchive\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 895,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [/*#__PURE__*/_jsxDEV(CustomFileUpload, {\n                      onFileSelect: this.selectFile,\n                      myFile: this.state.file\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 898,\n                      columnNumber: 35\n                    }, this), \" \", this.state.file && /*#__PURE__*/_jsxDEV(Button, {\n                      theme: \"warning\",\n                      onClick: this.deleteFile,\n                      children: t(\"DELETE_FILE\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 898,\n                      columnNumber: 131\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 898,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 841,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: filterVisibilityState\n              },\n              children: /*#__PURE__*/_jsxDEV(IdeaFilterSelect, {\n                setFilter: function setFilter(e) {\n                  _this10.setFilter(e);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 905,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 904,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: filterQuestionVisibilityState\n              },\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  lg: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    form: true,\n                    children: selectedFilterQ.map(function (item, idx) {\n                      return /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"6\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"question\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: item.get(\"questionTrans\")[storageLanguage]\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 918,\n                            columnNumber: 62\n                          }, _this10)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 918,\n                          columnNumber: 35\n                        }, _this10), item.get(\"field\") ? /*#__PURE__*/_jsxDEV(FormTextarea, {\n                          style: {\n                            minHeight: \"80px\"\n                          },\n                          id: \"filterQuestion\",\n                          placeholder: \"Answer..\",\n                          onChange: function onChange(event) {\n                            return _this10.filterQuestionAnswerChangeField(event, idx);\n                          },\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 920,\n                          columnNumber: 35\n                        }, _this10) : /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(FormRadio, {\n                            inline: true,\n                            name: \"type\" + idx,\n                            checked: _this10.state.filterQAnswers[idx].answer == 'yes',\n                            onChange: function onChange() {\n                              _this10.filterQuestionAnswerChange(\"yes\", idx);\n                            },\n                            children: \"Yes\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 929,\n                            columnNumber: 37\n                          }, _this10), /*#__PURE__*/_jsxDEV(FormRadio, {\n                            inline: true,\n                            name: \"type\" + idx,\n                            checked: _this10.state.filterQAnswers[idx].answer == 'no',\n                            onChange: function onChange() {\n                              _this10.filterQuestionAnswerChange(\"no\", idx);\n                            },\n                            children: \"No\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 939,\n                            columnNumber: 35\n                          }, _this10)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 928,\n                          columnNumber: 35\n                        }, _this10), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 951,\n                          columnNumber: 35\n                        }, _this10)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 917,\n                        columnNumber: 33\n                      }, _this10);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 915,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 914,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 913,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 909,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: questionVisibilityState\n              },\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                form: true,\n                className: \"mx-4\",\n                children: /*#__PURE__*/_jsxDEV(Col, {\n                  lg: \"12\",\n                  children: /*#__PURE__*/_jsxDEV(Row, {\n                    form: true,\n                    children: categoryQuestions.map(function (item, idx) {\n                      return /*#__PURE__*/_jsxDEV(Col, {\n                        md: \"6\",\n                        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                          htmlFor: \"question\",\n                          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                            children: item.get(\"questionTrans\")[storageLanguage]\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 966,\n                            columnNumber: 64\n                          }, _this10)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 966,\n                          columnNumber: 37\n                        }, _this10), item.get(\"field\") ? /*#__PURE__*/_jsxDEV(FormTextarea, {\n                          style: {\n                            minHeight: \"80px\"\n                          },\n                          id: \"ideaQuestion\",\n                          placeholder: t('ANSWER'),\n                          onChange: function onChange(event) {\n                            return _this10.questionAnswerChangeField(event, idx);\n                          },\n                          required: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 968,\n                          columnNumber: 37\n                        }, _this10) : /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(FormRadio, {\n                            inline: true,\n                            name: \"type\" + idx,\n                            checked: _this10.state.answers[idx].answer == \"yes\",\n                            onChange: function onChange() {\n                              _this10.questionAnswerChange(\"yes\", idx);\n                            },\n                            children: \"Yes\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 977,\n                            columnNumber: 40\n                          }, _this10), /*#__PURE__*/_jsxDEV(FormRadio, {\n                            inline: true,\n                            name: \"type\" + idx,\n                            checked: _this10.state.answers[idx].answer == \"no\",\n                            onChange: function onChange() {\n                              _this10.questionAnswerChange(\"no\", idx);\n                            },\n                            children: \"No\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 987,\n                            columnNumber: 39\n                          }, _this10), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 997,\n                            columnNumber: 39\n                          }, _this10), /*#__PURE__*/_jsxDEV(\"label\", {\n                            class: \"text-muted\",\n                            htmlFor: \"question\",\n                            children: item.get(\"required\") ? t('SUBMIT_IDEA_REQUIRED_QUESTION') : \"\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 998,\n                            columnNumber: 41\n                          }, _this10), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 999,\n                            columnNumber: 41\n                          }, _this10)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 976,\n                          columnNumber: 37\n                        }, _this10)]\n                      }, idx, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 965,\n                        columnNumber: 35\n                      }, _this10);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 963,\n                    columnNumber: 31\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 962,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 27\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n          className: \"border-top\",\n          children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n            size: \"sm\",\n            className: \"ml-auto d-table mr-3\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              theme: \"accent\",\n              onClick: this.showNext,\n              style: {\n                display: nextButtonVisibilityState\n              },\n              children: this.state.formButtonTitle\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1013,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1011,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 19\n      }, this);\n    }\n  }]);\n\n  return SubmitIdeaForm;\n}(React.Component);\n\nexport default withTranslation()(SubmitIdeaForm);","map":{"version":3,"sources":["/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/common/SubmitIdeaForm.js"],"names":["React","Container","Row","Col","Button","ButtonGroup","Card","CardBody","CardFooter","DatePicker","Fade","Form","FormInput","FormSelect","FormRadio","FormTextarea","InputGroup","InputGroupAddon","InputGroupText","FormFeedback","FormCheckbox","Select","Parse","FormSectionTitle","CustomFileUpload","CategorySelect","IdeaFilterSelect","useTranslation","initReactI18next","withTranslation","all","remCharStyle","color","options","value","label","storageLanguage","localStorage","getItem","SubmitIdeaForm","props","onSubmit","e","preventDefault","alert","handleChange","selectedOption","console","log","setState","state","selectEmployees","selectedEmployees","data","ideaQuestions","answers","category","department","date","categoryQuestions","filterQuestions","selectedFilterQ","filterQAnswers","categoryQAnswers","ideaDescription","ideaTitle","file","buttonNext","descriptionValid","titleValid","remainingCharacters","remainingTitleCharacters","visible","filterVisible","filterQuestionsVisible","ideaQuestionsVisible","hideNextButton","userName","userDept","sectionTitle","formButtonTitle","allUsers","allTeamUsers","teamName","hasTeam","ideaType","expectedReturn","change","bind","setCategory","setDate","setIdeaDescription","setIdeaTitle","setExpectedReturn","selectFile","deleteFile","showNext","addAnswer","saveIdea","currUser","User","current","getUserName","getUsers","fetchAllUsers","fetchUserData","fetchNewData","fetchQuestions","fetchFilterQuestions","getDate","query","Query","notEqualTo","find","results","className","ItemClass","Object","extend","limit","ascending","then","map","result","idx","push","getFullName","error","length","user","get","userObj","notified","u","evalCriteria","i","type","name","increment","set","save","catch","Date","equalTo","id","firstName","lastName","dept","fullName","isInvalid","forEach","item","required","answer","isShowingForm","isShowingFilter","isShowingFilterQuestions","isShowingQuestions","buttonState","allAnswered","window","location","reload","newFilter","newCategory","filteredData","filter","addFilterAnswer","selectedCategory","Idea","count","ideaInfo","currentUser","userId","getIdeaCount","parseFloat","teamMembers","parseFile","File","myFile","saveFinalIdea","setNotifications","resetForm","message","proponent","event","target","categoryName","handleCategoryChange","filterName","handleFilterChange","ideaDate","description","maxCharacters","charCount","isValid","amount","filteredQuestions","prevState","question","newItems","formVisibilityState","filterVisibilityState","filterQuestionVisibilityState","questionVisibilityState","nextButtonVisibilityState","expectedRetunrnValid","test","t","display","input","minHeight","setFilter","filterQuestionAnswerChangeField","filterQuestionAnswerChange","questionAnswerChangeField","questionAnswerChange","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  ButtonGroup,\n  Card,\n  CardBody,\n  CardFooter,\n  DatePicker,\n  Fade,\n  Form,\n  FormInput,\n  FormSelect,\n  FormRadio,\n  FormTextarea,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText, \n  FormFeedback,\n  FormCheckbox,\n} from \"shards-react\";\nimport Select from 'react-select';\nimport Parse from 'parse';\n\nimport FormSectionTitle from \"../edit-user-profile/FormSectionTitle\";\nimport CustomFileUpload from \"../components-overview/CustomFileUpload\";\nimport CategorySelect from \"./CategorySelect\"\nimport IdeaFilterSelect from \"./IdeaFilterSelect\";\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\n\nimport { all } from \"q\";\n\nconst remCharStyle = {\n  color: 'green'\n};\n\nconst options = [\n  { value: 'chocolate', label: 'Chocolate' },\n  { value: 'strawberry', label: 'Strawberry' },\n  { value: 'vanilla', label: 'Vanilla' },\n];\n\nvar storageLanguage = localStorage.getItem('language');\n\nclass SubmitIdeaForm extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n          data:[],\n          ideaQuestions: [],\n          answers:[],\n          category:'',\n          department:'',\n          date: '',\n          categoryQuestions: [],\n          filterQuestions: [],\n          selectedFilterQ: [],\n          filterQAnswers: [],\n          categoryQAnswers: [],\n          ideaDescription: null,\n          ideaTitle: null,\n          file:null, \n          buttonNext:true,\n          descriptionValid:'',\n          titleValid:'',\n          remainingCharacters: 250,\n          remainingTitleCharacters: 30,\n          visible: true,\n          filterVisible: false,\n          filterQuestionsVisible: false, \n          ideaQuestionsVisible: false,\n          hideNextButton: false,\n          userName: 'User Name',\n          userDept: '',\n          sectionTitle:'',\n          formButtonTitle: 'Continue',\n          allUsers:[],\n          selectedOption: null,\n          allTeamUsers: [],\n          teamName:'',\n          hasTeam: false,\n          ideaType: '',\n          expectedReturn: 0,\n          options: [],\n          selectedEmployees: []\n        }\n\n        this.change = this.change.bind(this);\n        this.setCategory = this.setCategory.bind(this);\n        this.setDate = this.setDate.bind(this);\n        this.setIdeaDescription = this.setIdeaDescription.bind(this);\n        this.setIdeaTitle = this.setIdeaTitle.bind(this);\n        this.setExpectedReturn = this.setExpectedReturn.bind(this);\n        this.selectFile = this.selectFile.bind(this);\n        this.deleteFile = this.deleteFile.bind(this);\n        this.showNext = this.showNext.bind(this);\n        this.addAnswer = this.addAnswer.bind(this);\n        this.saveIdea = this.saveIdea.bind(this);\n        this.showNext = this.showNext.bind(this);\n    }\n\n    componentDidMount() {\n      let currUser = Parse.User.current();\n      this.getUserName(currUser);\n      this.getUsers();\n      this.fetchAllUsers();\n      this.fetchUserData();\n      this.fetchNewData();\n      this.fetchQuestions();\n      this.fetchFilterQuestions();\n      this.getDate();\n    }\n\n    async getUsers() {\n      var query = new Parse.Query(Parse.User);\n      query.notEqualTo(\"evaluationCriteria\", []);\n      const results = await query.find();\n      console.log(results);\n      this.setState({\n        allUsers: results\n      });\n      // this.setNotifications();\n    }\n\n    fetchUserData() {\n      const className = \"User\";\n  \n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.limit(1000)\n      query.ascending(\"firstName\").find()\n      .then((results) => {\n          const options = []\n          {\n              results.map((result, idx) => options.push({\"value\":result, \"label\":this.getFullName(result)}))\n          }\n          \n          this.setState({\n              options: options\n          });\n          // this.props.setResponsible(results[0], -1);\n      }, (error) => {\n          this.setState({\n              options: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    fetchAllUsers() {\n      const className = \"User\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.limit(1000)\n      query.ascending(\"firstName\").find()\n      .then((results) => {\n          // { value: 'chocolate', label: 'Chocolate' }\n          console.log(results.length)\n          var allUsers = [];\n          results.map(user => allUsers.push({value: user.get(\"email\"), label: user.get(\"firstName\") + ' ' + user.get(\"lastName\"), userObj: user}));\n          this.setState({\n              allTeamUsers: allUsers\n          });\n      }, (error) => {\n          this.setState({\n            allTeamUsers: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    async setNotifications() {\n      const {allUsers, department, category} = this.state;\n      var notified = false;\n      for (var u in allUsers) {\n        const evalCriteria = allUsers[u].get(\"evaluationCriteria\");\n        for (var i in evalCriteria) {\n          if ((evalCriteria[i].type == \"department\" && evalCriteria[i].name == department) || (evalCriteria[i].type == \"category\" && evalCriteria[i].name == category)) {\n            if (notified == false) {\n              allUsers[u].increment(\"notificationCount\");\n              allUsers[u].set(\"notificationMessages\", [\"Tiene una nueva idea para manejar.\"]);\n              await allUsers[u].save().catch(error => {\n                // This will error, since the Parse.User is not authenticated\n              });\n            }\n\n            notified = true;\n          } \n        }\n      }\n    }\n\n    getDate() {\n      this.setState({\n        date: new Date()\n      });\n    }\n\n    async getUserName(user) {\n      var query = new Parse.Query(Parse.User);\n      query.equalTo(\"objectId\", user.id);\n      const results = await query.find();\n      const firstName = results[0].get('firstName');\n      const lastName = results[0].get('lastName');\n      const dept = results[0].get('department');\n      const fullName = firstName + ' ' + lastName;\n      this.setState({\n        userName: fullName,\n        userDept: dept,\n      });\n    }\n\n    handleSubmit() {\n      const { formButtonTitle } = this.state;\n      \n      if (formButtonTitle == \"Continue\") {\n        this.showNext();\n      } else {\n        var isInvalid = false\n        this.state.answers.forEach((item,idx) => {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n        alert(\"Su IDEA ha sido sometida.\");\n      }\n    }\n  }\n\n    showNext() {\n      const isShowingForm = this.state.visible;\n      const isShowingFilter = this.state.filterVisible;\n      const isShowingFilterQuestions = this.state.filterQuestionsVisible;\n      const isShowingQuestions = this.state.ideaQuestionsVisible;\n\n      if (isShowingForm && !isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n\n        const { category, department, descriptionValid, titleValid } = this.state;\n\n        if (!category || !department || !descriptionValid || !titleValid) {\n          alert(\"Por favor seleccione un departamento, una categoria y asegurese de que el titulo y la descripcion de la idea sean validos.\");\n        } else {\n          this.setState({\n            visible: !isShowingForm,\n            filterVisible: !isShowingFilter,\n            buttonState: false,\n            hideNextButton: true,\n          });\n        }\n      } else if (!isShowingForm && isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        this.setState({\n          hideNextButton: false,\n          filterVisible: !isShowingFilter,\n          filterQuestionsVisible: !isShowingFilterQuestions,\n          buttonState: false,\n        });\n      } else if (!isShowingForm && !isShowingFilter && isShowingFilterQuestions && !isShowingQuestions) {\n        var allAnswered = false;\n        // console.log(this.state.filterQAnswers);\n        // console.log(this.state.filterQAnswers);\n        var isInvalid = false\n        this.state.filterQAnswers.forEach((item,idx) => {\n          // console.log(item)\n          if (!item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas.\");\n        } else {\n          this.setState({\n            filterQuestionsVisible: !isShowingFilterQuestions,\n            ideaQuestionsVisible: !isShowingQuestions,\n            buttonState: false,\n            formButtonTitle: 'Submit',\n          });\n        }\n      } else if (!isShowingForm && !isShowingFilter && !isShowingFilterQuestions && isShowingQuestions) {\n        // console.log(this.state.answers);\n        var isInvalid = false\n        this.state.answers.forEach((item,idx) => {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n          // alert(\"FINISHED\");\n          this.saveIdea();\n        }\n      }\n      // console.log(isShowingForm);\n      // console.log(isShowingFilter);\n      // console.log(isShowingFilterQuestions);\n      // console.log(isShowingFilterQuestions);\n      // console.log('\\n');\n    }\n\n    resetIdeaForm() {\n      window.location.reload();\n    }\n\n    fetchNewData() {\n      const className = \"IdeaDepartment\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n\n      query.find()\n      .then((results) => {\n          this.setState({\n              data: results\n          });\n          // console.log(results);\n      }, (error) => {\n          this.setState({\n              data: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    fetchQuestions() {\n      const className = \"IdeaQuestion\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n\n      query.find()\n      .then((results) => {\n        // console.log(results);\n          this.setState({\n              ideaQuestions: results\n          });\n      }, (error) => {\n          this.setState({\n              data: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    fetchFilterQuestions() {\n      const className = \"FilterQuestion\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find()\n      .then((results) => {\n        console.log(results);\n          this.setState({\n              filterQuestions: results\n          });\n      }, (error) => {\n          this.setState({\n              filterQuestions: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    handleFilterChange(newFilter) {\n      const newCategory = newFilter;\n      const { filterQuestions, selectedFilterQ } = this.state;\n      // console.log('FILTERED QUESTIONS');\n      // console.log(filterQuestions);\n      \n      var filteredData;\n      if (newCategory !== 'Todas') {\n        console.log(newFilter)\n        filteredData = filterQuestions.filter(item => item.get(\"filter\") === newCategory);\n      }  else {\n        filteredData = filterQuestions;\n      }\n\n      this.setState({\n        selectedFilterQ: filteredData\n      }, this.addFilterAnswer(filteredData));\n      console.log(filteredData);\n      this.showNext();\n    }\n\n    handleCategoryChange(selectedCategory) {\n      const newCategory = selectedCategory;\n      const { ideaQuestions } = this.state;\n\n      var filteredData = ideaQuestions.filter(item => item.get(\"category\") === newCategory );\n            \n      this.setState({\n        categoryQuestions: filteredData\n      }, this.addAnswer(filteredData));\n    }\n\n    onSubmit = e => {\n      e.preventDefault();\n      alert('Form submitted');\n    };\n\n    async getIdeaCount(){\n      var Idea = Parse.Object.extend(\"Idea\");\n      var query = new Parse.Query(Idea);\n      var count = await query.count();\n      console.log(count);\n      return ++count\n    }\n\n    async saveIdea() {\n      const {department, category, date, ideaDescription, file, answers, filterQAnswers, ideaTitle, userName} = this.state;\n      // Simple syntax to create a new subclass of Parse.Object.\n      var Idea = Parse.Object.extend(\"Idea\");\n      // Create a new instance of that class.\n      var ideaInfo = new Idea();\n\n      const currentUser = Parse.User.current();\n      const userId = currentUser.get(\"username\");\n\n      const count = await this.getIdeaCount();\n      \n      console.log(answers);\n      let currUser = Parse.User.current();\n      // IDEA Properties\n      ideaInfo.set(\"proponentObj\", currUser);\n      ideaInfo.set(\"proponent\", userId);\n      ideaInfo.set(\"edited\", false);\n      ideaInfo.set(\"completed\", false);\n      ideaInfo.set(\"department\", department);\n      ideaInfo.set(\"category\", category);\n      ideaInfo.set(\"date\", date);\n      ideaInfo.set(\"num\", count);\n      ideaInfo.set(\"title\", ideaTitle)\n      ideaInfo.set(\"description\", ideaDescription);\n      ideaInfo.set(\"file\", file);\n      ideaInfo.set(\"status\", \"SOMETIDA\");\n      ideaInfo.set(\"progress\", [0,100]);\n      ideaInfo.set(\"filterAnswer\", filterQAnswers);\n      ideaInfo.set(\"questionAnswer\", answers);\n      ideaInfo.set(\"proponentName\", userName);\n      ideaInfo.set(\"comments\", []);\n      ideaInfo.set(\"needsEvaluation\", true);\n      ideaInfo.set(\"hasTeam\", this.state.hasTeam);\n      ideaInfo.set(\"ideaType\", this.state.ideaType);\n      ideaInfo.set(\"expectedReturn\", parseFloat(this.state.expectedReturn));\n      if (this.state.hasTeam) {\n        const teamMembers = this.state.selectedEmployees;\n        const teamName = this.state.teamName;\n\n        ideaInfo.set(\"teamMembers\", teamMembers);\n        ideaInfo.set(\"teamName\", this.state.teamName);\n      }\n\n      var myFile;\n      if (file) {\n        console.log('HELLO TIENES O NO FILE');\n        console.log(file);\n        const parseFile = new Parse.File(file.name, file);\n        parseFile.save().then((myFile) => {\n          // The file has been saved to Parse.\n          console.log(myFile);\n          ideaInfo.set(\"file\", myFile);\n          this.saveFinalIdea(ideaInfo);\n        }, (error) => {\n          // The file either could not be read, or could not be saved to Parse.\n        });\n      } else {\n        this.saveFinalIdea(ideaInfo);\n      }\n    }\n\n    saveFinalIdea(ideaInfo) {\n      ideaInfo.save()\n      .then(() => {\n        this.setNotifications().then((e) =>\n          alert('Â¡Congrats! Thanks for submitting your idea.',this.resetForm(e)));\n        // Execute any logic that should take place after the object is saved.\n        // \n      }, (error) => {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n\n    resetForm(e) {\n      // e.preventDefault();\n      // console.log(e);\n      // console.log('reset');\n      // this.setNotifications();\n      this.setState({proponent: '', department: '', category: '', ideaDescription:'', date: new Date(),file: '', remainingCharacters: 250, descriptionValid:'', });\n      window.location.reload(); \n    }\n\n    addNotifications() {\n\n    }\n\n    change(event) {\n      // this.setState({category: event.target.value});\n      this.setState({department: event.target.value});\n      // console.log(event.target.value);\n    }\n\n    setCategory(categoryName) {\n      this.setState({\n        category: categoryName\n      })\n\n      this.handleCategoryChange(categoryName)\n      console.log(categoryName);\n    }\n\n    setFilter(filterName) {\n      // console.log(filterName);\n      // this.setState({sectionTitle: (filterName === \"innovacion\")?\"INNOVACION\":\"RESOLUCION DE PROBLEMAS\"});\n      if (filterName == \"innovacion\") {\n        this.setState({ideaType: filterName});\n      } else {\n        this.setState({ideaType: \"problema\"});\n      }\n\n      this.handleFilterChange(filterName);\n    }\n\n    clickedPrint() {\n      console.log('HOLA');\n    }\n\n    setDate(ideaDate) {\n      this.setState({\n        date: ideaDate\n      })\n      // console.log(ideaDate);\n    }\n\n    filterQuestionAnswerChange(answer, idx) {\n      const {filterQAnswers} = this.state;\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.filterQAnswers[idx].answer = answer;\n      this.setState({filterQAnswers: filterQAnswers})\n      // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    filterQuestionAnswerChangeField(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.filterQAnswers[idx].answer = event.target.value;\n      // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    questionAnswerChange(answer, idx) {\n      const {answers} = this.state;\n      // console.log(event.target.value);\n      console.log(answers);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.answers[idx].answer = answer;\n      this.setState({answers: answers})\n      // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    questionAnswerChangeField(event, idx) {\n      const {answers} = this.state;\n      // console.log(event.target.value);\n      console.log(answers);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.answers[idx].answer = event.target.value;\n      // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    setIdeaDescription(event) {\n      const description = event.target.value;\n      const maxCharacters = 250;\n      const charCount = maxCharacters - description.length\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true\n      } else {\n        isValid = null\n      }\n\n      // console.log(isValid);\n      this.setState({\n        descriptionValid: isValid,\n        ideaDescription: description,\n        remainingCharacters: charCount\n      })\n      // console.log(description);\n    }\n\n    setIdeaTitle(event) {\n      const description = event.target.value;\n      const maxCharacters = 30;\n      const charCount = maxCharacters - description.length\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true\n      } else {\n        isValid = null\n      }\n\n      // console.log(isValid);\n      this.setState({\n        titleValid: isValid,\n        ideaTitle: description,\n        remainingTitleCharacters: charCount\n      })\n    }\n\n    setExpectedReturn(event) {\n      const amount = event.target.value;\n  \n      // console.log(isValid);\n      this.setState({\n        expectedReturn: amount,\n      })\n    }\n\n    getFullName(result) {\n      if (result) {\n          return result.get(\"firstName\") + ' ' + result.get(\"lastName\");\n      }\n    }\n\n    selectFile(myFile) {\n      console.log(myFile);\n      this.setState({file: myFile});\n    }\n\n    deleteFile() {\n      this.setState({file: ''});\n    }\n\n    addAnswer(filteredQuestions) {\n      filteredQuestions.map((item, idx) => (\n        // console.log(item.get(\"question\"))\n        this.setState((prevState) => ({\n          answers: [...prevState.answers, {question:item.get(\"question\"), answer:\"\", required: item.get(\"required\")}],\n        }))\n      ))\n      // console.log(this.);\n    }\n\n    addFilterAnswer(filteredData) {\n      // console.log('Add Filter ANswer' );\n    \n      var newItems = [];\n      filteredData.forEach((item, idx) => {\n        newItems.push({question:item.get(\"question\"), answer:''});\n      })\n\n      this.setState({ filterQAnswers: newItems}, () => {\n          // console.log(this.state.filterQAnswers);\n        });\n    }\n\n    handleChange = selectedOption => {\n      console.log(selectedOption)\n      this.setState(\n        { selectedOption },\n        () => console.log(`Option selected:`, this.state.selectedOption)\n      );\n    };\n\n    selectEmployees = selectedEmployees => {\n      console.log(selectedEmployees);\n      this.setState(\n        { selectedEmployees },\n        () => console.log(`Option selected:`, this.state.selectedEmployees)\n      );\n    };\n\n    render() {\n        const {visible, filterVisible, filterQuestionsVisible, ideaQuestionsVisible, selectedFilterQ, categoryQuestions, hideNextButton, date, remainingCharacters, descriptionValid,ideaDescription, userName, ideaTitle, titleValid, remainingTitleCharacters, expectedReturn, options } = this.state\n        const formVisibilityState = visible? 'block' : 'none';\n        const filterVisibilityState = filterVisible? 'block' : 'none';\n        const filterQuestionVisibilityState = filterQuestionsVisible? 'block' : 'none';\n        const questionVisibilityState = ideaQuestionsVisible? 'block' : 'none';\n        const nextButtonVisibilityState = !hideNextButton? 'inline' : 'none';\n        const expectedRetunrnValid =  /^\\d+$/.test(expectedReturn);\n        \n        const { t } = this.props;\n        \n        return(\n                  <Card small className=\"edit-user-details mb-4\">\n                    {/* <ProfileBackgroundPhoto /> */}\n    \n                    <CardBody className=\"p-0\">\n    \n                      {/* Form Section Title :: General */}\n                      <Form className=\"py-4\"\n                      onSubmit={this.onSubmit}\n                      noValidate\n                      >\n                        <FormSectionTitle\n                          title={t('IDEA')}\n                          description={t(\"SUBMIT_IDEA_Sub\")}//\"Somete los detalles y la informacion de la IDEA.\"\n                        />\n                        {/* VISIBILITY */}\n                        <div style={{display: formVisibilityState}}>\n                        <Row form className=\"mx-4\">\n                          <Col lg=\"12\">\n                            <Row form>\n                              {/* Proponent */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t(\"SUBMIT_IDEA_Proponent\")}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={userName}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                                <FormCheckbox\n                                  checked={this.state.hasTeam}\n                                  onChange={e => this.setState({hasTeam: !this.state.hasTeam})}\n                                >\n                                  {t('TEAM')}\n                                </FormCheckbox>\n                              </Col>\n                              {this.state.hasTeam &&\n                              <Col md=\"3\" className=\"form-group\">\n                              <label htmlFor=\"teamName\">{t(\"SUBMIT_IDEA_Team\")}</label>\n                              {/* Team */}\n                              <FormInput\n                                  id=\"teamName\"\n                                  value={this.state.teamName}\n                                  placeholder={t(\"SUBMIT_IDEA_TeamPlaceholder\")}\n                                  onChange={(input) => {this.setState({teamName: input.target.value})}}\n                                  required\n                                />\n                              {/* <Select\n                                    isMulti\n                                    value={this.state.selectedOption}\n                                    placeholder={t('SELECT_MEMBERS')}\n                                    onChange={this.handleChange}\n                                    options={this.state.allTeamUsers}\n                                  /> */}\n                                  <Select\n                                    value={this.state.selectedEmployees}\n                                    onChange={this.selectEmployees}\n                                    options={options}\n                                    isMulti\n                                    placeholder={t('SELECT_MEMBERS')}\n                                  />\n                              </Col>}\n                              {/* Employees Department */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t(\"SUBMIT_IDEA_Department\")}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={this.state.userDept}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                              </Col>\n                              {/* Department */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"userLocation\">{t(\"SUBMIT_IDEA_Department_Benefitted\")}</label>\n                                <FormSelect\n                                  size=\"sm\"\n                                  onChange={this.change} value={this.state.department}\n                                  required\n                                >\n                                  <option key={-1} value={-1}>{t(\"SUBMIT_IDEA_DepartmentSelect\")}</option>\n                                  {this.state.data.map((item, idx) => (\n                                  \n                                  <option key={idx} value={item.get(\"itemName\")} hidden={!item.get(\"show\")}>{item.get(\"itemName\")}</option>\n                               \n                                  ))}\n                              </FormSelect>\n                              </Col>\n    \n                              {/* Date */}\n                              <Col md=\"3\" className=\"form-group\">\n                              <label htmlFor=\"lastName\">{t(\"SUBMIT_IDEA_Date\")}</label>\n                              <InputGroup>\n                                  <InputGroupAddon type=\"append\">\n                                    <InputGroupText>\n                                      <i className=\"material-icons\">&#xE916;</i>\n                                    </InputGroupText>\n                                  </InputGroupAddon>\n                                  <DatePicker\n                                    placeholderText={date}\n                                    dropdownMode=\"select\"\n                                    className=\"text-center\"\n                                    readOnly = \"true\"\n                                    onChange={this.setDate} \n                                    selected={this.state.date}\n                                    required\n                                  />\n                                </InputGroup>\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n    \n                        <br/>\n    \n                        <Row form className=\"mx-4\">\n                        {/* Categoria */}\n                        <Col md=\"6\" className=\"form-group\">\n                            <label htmlFor=\"userBio\">{t(\"SUBMIT_IDEA_Category\")}</label>\n                            <CategorySelect setCategory={this.setCategory} department={this.props.department}/>\n                          </Col>\n                          \n                          \n                          {/* Idea Description */}\n                          <Col md=\"6\" className=\"form-group\">\n                            <label htmlFor=\"ideaTitle\">{t(\"SUBMIT_IDEA_IdeaTitle\")}</label>\n                            <FormInput\n                            id=\"userBio\"\n                            placeholder={t('SUBMIT_IDEA_TitlePlaceholder')}\n                            value={ideaTitle}\n                            onChange={this.setIdeaTitle}\n                            valid={titleValid ? true : null}\n                            invalid={!titleValid ? true : null}/>\n                            <FormFeedback \n                              valid={titleValid ? true : null}\n                              invalid={!titleValid ? true : null}>\n                              {remainingTitleCharacters} {t(\"SUBMIT_IDEA_RemainingCharacters\")}\n                            </FormFeedback>\n                            <br/>\n                            <label htmlFor=\"userBio\">{t(\"SUBMIT_IDEA_IdeaDescription\")}</label>\n                            <FormTextarea\n                              style={{ minHeight: \"120px\" }}\n                              id=\"userBio\"\n                              placeholder={t(\"SUBMIT_IDEA_DescriptionPlaceholder\")}\n                              value={ideaDescription}\n                              onChange={this.setIdeaDescription}\n                              valid={descriptionValid ? true : null}\n                              invalid={!descriptionValid ? true : null}\n                            />\n                            <FormFeedback \n                              valid={descriptionValid ? true : null}\n                              invalid={!descriptionValid ? true : null}>\n                              {remainingCharacters} {t(\"SUBMIT_IDEA_RemainingCharacters\")}\n                            </FormFeedback>\n                            <br/>\n                            <label htmlFor=\"ideaTitle\">{t(\"SUBMIT_IDEA_ReturnTitle\")}</label>\n                              <FormInput\n                                id=\"expectedReturn\"\n                                placeholder={t('SUBMIT_IDEA_ReturnPlaceholder')}\n                                value={expectedReturn}\n                                onChange={this.setExpectedReturn}\n                                invalid={!expectedRetunrnValid}\n                            />\n                            <FormFeedback \n                              valid={expectedRetunrnValid}\n                              invalid={!expectedRetunrnValid}>\n                             {t(\"SUBMIT_IDEA_Money\")}\n                            </FormFeedback>\n                            <br/>\n                            <strong className=\"text-muted d-block mb-2\">\n                            {t(\"SUBMIT_IDEA_UploadArchive\")}\n                            </strong>\n                            <span><CustomFileUpload onFileSelect={this.selectFile} myFile={this.state.file}/> {this.state.file && <Button theme=\"warning\" onClick={this.deleteFile}>{t(\"DELETE_FILE\")}</Button>}</span>\n                          </Col>\n                        </Row>\n                        </div>\n                          \n                        {/* Select IDEA Filter Visibility State */}\n                        <div style={{display: filterVisibilityState}}>\n                          <IdeaFilterSelect setFilter={(e) => {this.setFilter(e)}}/>\n                        </div>\n\n                        {/* Select IDEA Filter Visibility State */}\n                        <div style={{display: filterQuestionVisibilityState}}>\n                        {/* <Row className=\"mx-4\" style={{paddingBottom:20}}>\n                          <h2>{sectionTitle}</h2>\n                        </Row> */}\n                        <Row form className=\"mx-4\">\n                          <Col lg=\"12\">\n                            <Row form>\n                              {selectedFilterQ.map((item,idx) =>\n                                <Col key={idx} md=\"6\">\n                                  <label  htmlFor=\"question\"><strong>{item.get(\"questionTrans\")[storageLanguage]}</strong></label>\n                                  {item.get(\"field\")?\n                                  <FormTextarea \n                                  style={{ minHeight: \"80px\" }}\n                                  id=\"filterQuestion\"\n                                  placeholder=\"Answer..\"\n                                  onChange={(event) => this.filterQuestionAnswerChangeField(event, idx)}\n                                  required>\n                                  </FormTextarea>\n                                  :\n                                  <div>\n                                    <FormRadio\n                                    inline\n                                    name={\"type\"+idx}\n                                    checked={this.state.filterQAnswers[idx].answer == 'yes'}\n                                    onChange={() => {\n                                      this.filterQuestionAnswerChange(\"yes\", idx)\n                                    }}\n                                  >\n                                    Yes\n                                  </FormRadio>\n                                  <FormRadio\n                                    inline\n                                    name={\"type\"+idx}\n                                    checked={this.state.filterQAnswers[idx].answer == 'no'}\n                                    onChange={() => {\n                                      this.filterQuestionAnswerChange(\"no\", idx)\n                                    }}\n                                  >\n                                    No\n                                  </FormRadio>\n                                  </div>\n                                  }\n                                  <br/>\n                                </Col>\n                              )}\n                              </Row>\n                            </Col>\n                            </Row>\n                        </div>\n\n                        {/* Question Visibility State */}\n                        <div style={{display: questionVisibilityState}}>\n                          <Row form className=\"mx-4\">\n                            <Col lg=\"12\">\n                              <Row form>\n                                {categoryQuestions.map((item,idx) =>\n                                  <Col key={idx} md=\"6\">\n                                    <label  htmlFor=\"question\"><strong>{item.get(\"questionTrans\")[storageLanguage]}</strong></label>\n                                    {item.get(\"field\")?\n                                    <FormTextarea \n                                    style={{ minHeight: \"80px\" }}\n                                    id=\"ideaQuestion\"\n                                    placeholder={t('ANSWER')}\n                                    onChange={(event) => this.questionAnswerChangeField(event, idx)}\n                                    required>\n                                    </FormTextarea>\n                                    :\n                                    <div>\n                                       <FormRadio\n                                        inline\n                                        name={\"type\"+idx}\n                                        checked={ this.state.answers[idx].answer == \"yes\"}\n                                        onChange={() => {\n                                          this.questionAnswerChange(\"yes\", idx)\n                                        }}\n                                      >\n                                        Yes\n                                      </FormRadio>\n                                      <FormRadio\n                                        inline\n                                        name={\"type\"+idx}\n                                        checked={ this.state.answers[idx].answer == \"no\"}\n                                        onChange={() => {\n                                          this.questionAnswerChange(\"no\", idx)\n                                        }}\n                                      >\n                                        No\n                                      </FormRadio>\n                                      <br/>\n                                        <label  class=\"text-muted\" htmlFor=\"question\">{item.get(\"required\")?t('SUBMIT_IDEA_REQUIRED_QUESTION'):\"\"}</label>\n                                        <br/>\n                                        </div>\n                                    }\n                                  </Col>\n                                )}\n                              </Row>\n                            </Col>\n                          </Row>\n                        </div>\n                        </Form>\n                    </CardBody>\n                    <CardFooter className=\"border-top\">\n                      <ButtonGroup size=\"sm\" className=\"ml-auto d-table mr-3\">\n                        {/* <Button theme=\"light\" onClick={this.saveIdea}>Guardar</Button> */}\n                        <Button theme=\"accent\" onClick={this.showNext} style={{display: nextButtonVisibilityState}} >{this.state.formButtonTitle}</Button>\n                      </ButtonGroup>\n                    </CardFooter>\n                  </Card>\n          );\n    }\n}\n\n\nexport default withTranslation()(SubmitIdeaForm);\n"]},"metadata":{},"sourceType":"module"}