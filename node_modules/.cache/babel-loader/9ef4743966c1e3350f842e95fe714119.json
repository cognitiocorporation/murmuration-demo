{"ast":null,"code":"import _toConsumableArray from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _regeneratorRuntime from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/angelvazquez/Desktop/murmuration-demo/src/components/common/ManageIdeaForm.js\";\nimport React from \"react\";\nimport { Container, Row, Col, Button, ButtonGroup, Card, CardBody, CardFooter, DatePicker, Fade, Form, FormInput, FormSelect, FormRadio, FormTextarea, InputGroup, InputGroupAddon, InputGroupText, FormFeedback, Badge, Alert } from \"shards-react\";\nimport Parse from 'parse';\nimport FormSectionTitle from \"../edit-user-profile/FormSectionTitle\";\nimport CustomFileUpload from \"../components-overview/CustomFileUpload\";\nimport CategorySelect from \"./CategorySelect\";\nimport IdeaFilterSelect from \"./IdeaFilterSelect\";\nimport { all } from \"q\";\nimport EvaluationSelect from \"./EvaluationSelect\";\nimport ExecutionSelect from \"./ExecutionSelect\";\nimport moment from 'moment';\nimport CompletedIdeaForm from \"./CompletedIdeaForm\";\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nvar remCharStyle = {\n  color: 'green'\n};\n\nvar ManageIdeaForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(ManageIdeaForm, _React$Component);\n\n  function ManageIdeaForm(props) {\n    var _this;\n\n    _classCallCheck(this, ManageIdeaForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManageIdeaForm).call(this, props));\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      alert('Form submitted');\n    };\n\n    var t = _this.props.t;\n    _this.state = {\n      data: [],\n      ideaQuestions: [],\n      answers: [],\n      category: null,\n      department: null,\n      date: '',\n      categoryQuestions: [],\n      filterQuestions: [],\n      selectedFilterQ: [],\n      filterQAnswers: [],\n      categoryQAnswers: [],\n      ideaDescription: String,\n      file: null,\n      buttonNext: true,\n      descriptionValid: '',\n      remainingCharacters: 250,\n      visible: true,\n      filterVisible: false,\n      filterQuestionsVisible: false,\n      ideaQuestionsVisible: false,\n      hideNextButton: false,\n      userName: 'User Name',\n      sectionTitle: '',\n      formButtonTitle: 'Continuar',\n      ideaNumber: '#00008',\n      firstActive: false,\n      secondActive: false,\n      thirdActive: false,\n      fourthActive: false,\n      progress: [25, 75],\n      commentTitle: t('COMMENTS_IDEA'),\n      submitBtnTitle: \"Actualizar IDEA\",\n      showCompleted: false\n    };\n    _this.change = _this.change.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setCategory = _this.setCategory.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setDate = _this.setDate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setIdeaDescription = _this.setIdeaDescription.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.selectFile = _this.selectFile.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.showNext = _this.showNext.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addAnswer = _this.addAnswer.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.saveIdea = _this.saveIdea.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.showNext = _this.showNext.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.progressBtnPress = _this.progressBtnPress.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.submitEvaluation = _this.submitEvaluation.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.addToQueue = _this.addToQueue.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.showCompletedIdeaForm = _this.showCompletedIdeaForm.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ManageIdeaForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var currUser = Parse.User.current();\n      this.showCorrectScreen();\n      this.getUserName(currUser);\n      this.getDate();\n      this.setPercentage();\n    }\n  }, {\n    key: \"showCorrectScreen\",\n    value: function showCorrectScreen() {\n      var idea = this.props.idea;\n      var percentage = idea.get(\"progress\")[0];\n\n      if (percentage == 100) {\n        this.setState({\n          showCompleted: true\n        });\n      } else {\n        this.setState({\n          showCompleted: false\n        });\n      }\n    }\n  }, {\n    key: \"setPercentage\",\n    value: function setPercentage() {\n      var idea = this.props.idea;\n      var percentage = idea.get(\"progress\")[0];\n      console.log(percentage);\n\n      switch (percentage) {\n        case 25:\n          // code block\n          console.log('CASE IS 25');\n          this.setState({\n            firstActive: true,\n            secondActive: false,\n            thirdActive: false,\n            fourthActive: false\n          });\n          break;\n\n        case 50:\n          // code block\n          console.log('CASE IS 50');\n          this.setState({\n            firstActive: false,\n            secondActive: true,\n            thirdActive: false,\n            fourthActive: false\n          });\n          break;\n\n        case 75:\n          // code block\n          console.log('CASE IS 75');\n          this.setState({\n            firstActive: false,\n            secondActive: false,\n            thirdActive: true,\n            fourthActive: false\n          });\n          break;\n\n        case 100:\n          // code block\n          console.log('CASE IS 100');\n          this.setState({\n            firstActive: false,\n            secondActive: false,\n            thirdActive: false,\n            fourthActive: true\n          });\n          break;\n\n        default:\n          // code block\n          this.setState({\n            firstActive: false,\n            secondActive: false,\n            thirdActive: false,\n            fourthActive: false\n          });\n          break;\n      }\n\n      console.log(this.state.firstActive);\n    }\n  }, {\n    key: \"getDate\",\n    value: function getDate() {\n      this.setState({\n        date: new Date()\n      });\n    }\n  }, {\n    key: \"getUserName\",\n    value: function () {\n      var _getUserName = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(user) {\n        var query, results, firstName, lastName, fullName;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = new Parse.Query(Parse.User);\n                query.equalTo(\"objectId\", user.id);\n                _context.next = 4;\n                return query.find();\n\n              case 4:\n                results = _context.sent;\n                firstName = results[0].get('firstName');\n                lastName = results[0].get('lastName');\n                fullName = firstName + ' ' + lastName;\n                this.setState({\n                  userName: fullName\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getUserName(_x) {\n        return _getUserName.apply(this, arguments);\n      }\n\n      return getUserName;\n    }()\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit() {\n      var formButtonTitle = this.state.formButtonTitle;\n\n      if (formButtonTitle == \"Continuar\") {\n        this.showNext();\n      } else {\n        var isInvalid = false;\n        this.state.answers.forEach(function (item, idx) {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n          alert(\"Su IDEA ha sido sometida.\");\n        }\n      }\n    }\n  }, {\n    key: \"showNext\",\n    value: function showNext() {\n      var isShowingForm = this.state.visible;\n      var isShowingFilter = this.state.filterVisible;\n      var isShowingFilterQuestions = this.state.filterQuestionsVisible;\n      var isShowingQuestions = this.state.ideaQuestionsVisible;\n\n      if (isShowingForm && !isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        var _this$state = this.state,\n            category = _this$state.category,\n            department = _this$state.department,\n            descriptionValid = _this$state.descriptionValid;\n\n        if (!category || !department || !descriptionValid) {\n          alert(\"Por favor seleccione una categoria, un departamento y asegurese de que la descripcion de la idea sea valida.\");\n        } else {\n          this.setState({\n            visible: !isShowingForm,\n            filterVisible: !isShowingFilter,\n            buttonState: false,\n            hideNextButton: true\n          });\n        }\n      } else if (!isShowingForm && isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        this.setState({\n          hideNextButton: false,\n          filterVisible: !isShowingFilter,\n          filterQuestionsVisible: !isShowingFilterQuestions,\n          buttonState: false\n        });\n      } else if (!isShowingForm && !isShowingFilter && isShowingFilterQuestions && !isShowingQuestions) {\n        var allAnswered = false; // console.log(this.state.filterQAnswers);\n        // console.log(this.state.filterQAnswers);\n\n        var isInvalid = false;\n        this.state.filterQAnswers.forEach(function (item, idx) {\n          // console.log(item)\n          if (!item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas.\");\n        } else {\n          this.setState({\n            filterQuestionsVisible: !isShowingFilterQuestions,\n            ideaQuestionsVisible: !isShowingQuestions,\n            buttonState: false,\n            formButtonTitle: 'Someter'\n          });\n        }\n      } else if (!isShowingForm && !isShowingFilter && !isShowingFilterQuestions && isShowingQuestions) {\n        // console.log(this.state.answers);\n        var isInvalid = false;\n        this.state.answers.forEach(function (item, idx) {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true;\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Please answer all required questions\");\n        } else {\n          alert('¡Congrats! Thanks for submitting your idea.', this.resetIdeaForm());\n        }\n      } // console.log(isShowingForm);\n      // console.log(isShowingFilter);\n      // console.log(isShowingFilterQuestions);\n      // console.log(isShowingFilterQuestions);\n      // console.log('\\n');\n\n    }\n  }, {\n    key: \"resetIdeaForm\",\n    value: function resetIdeaForm() {\n      window.location.reload();\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData() {\n      var _this2 = this;\n\n      var className = \"IdeaDepartment\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        _this2.setState({\n          data: results\n        }); // console.log(results);\n\n      }, function (error) {\n        _this2.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchQuestions\",\n    value: function fetchQuestions() {\n      var _this3 = this;\n\n      var className = \"IdeaQuestion\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        // console.log(results);\n        _this3.setState({\n          ideaQuestions: results\n        });\n      }, function (error) {\n        _this3.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchFilterQuestions\",\n    value: function fetchFilterQuestions() {\n      var _this4 = this;\n\n      var className = \"FilterQuestion\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        // console.log(results);\n        _this4.setState({\n          filterQuestions: results\n        });\n      }, function (error) {\n        _this4.setState({\n          filterQuestions: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"handleFilterChange\",\n    value: function handleFilterChange(newFilter) {\n      var newCategory = newFilter;\n      var _this$state2 = this.state,\n          filterQuestions = _this$state2.filterQuestions,\n          selectedFilterQ = _this$state2.selectedFilterQ; // console.log('FILTERED QUESTIONS');\n      // console.log(filterQuestions);\n\n      var filteredData;\n\n      if (newCategory !== 'Todas') {\n        filteredData = filterQuestions.filter(function (item) {\n          return item.get(\"filter\") === newCategory;\n        });\n      } else {\n        filteredData = filterQuestions;\n      }\n\n      this.setState({\n        selectedFilterQ: filteredData\n      }, this.addFilterAnswer(filteredData)); // console.log(filteredData);\n\n      this.showNext();\n    }\n  }, {\n    key: \"handleCategoryChange\",\n    value: function handleCategoryChange(selectedCategory) {\n      var newCategory = selectedCategory;\n      var ideaQuestions = this.state.ideaQuestions;\n      var filteredData = ideaQuestions.filter(function (item) {\n        return item.get(\"category\") === newCategory;\n      });\n      this.setState({\n        categoryQuestions: filteredData\n      }, this.addAnswer(filteredData));\n    }\n  }, {\n    key: \"saveIdea\",\n    value: function saveIdea() {\n      var _this5 = this;\n\n      // Simple syntax to create a new subclass of Parse.Object.\n      var Idea = Parse.Object.extend(\"Idea\"); // Create a new instance of that class.\n\n      var ideaInfo = new Idea();\n      var currentUser = Parse.User.current();\n      var userId = currentUser.get(\"username\"); // IDEA Properties\n\n      ideaInfo.set(\"proponent\", userId);\n      ideaInfo.set(\"department\", this.state.department);\n      ideaInfo.set(\"category\", this.state.category);\n      ideaInfo.set(\"date\", this.state.date);\n      ideaInfo.set(\"description\", this.state.ideaDescription);\n      ideaInfo.set(\"file\", this.state.file);\n      ideaInfo.set(\"status\", \"saved\");\n      ideaInfo.set(\"progress\", [0, 100]);\n      ideaInfo.save().then(function (ideaInfo) {\n        // Execute any logic that should take place after the object is saved.\n        _this5.resetForm();\n\n        alert('Su IDEA fue guardada exitosamente.');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        proponent: '',\n        department: '',\n        category: '',\n        ideaDescription: '',\n        date: new Date(),\n        file: '',\n        remainingCharacters: 250,\n        descriptionValid: ''\n      });\n    }\n  }, {\n    key: \"change\",\n    value: function change(event) {\n      // this.setState({category: event.target.value});\n      this.setState({\n        department: event.target.value\n      }); // console.log(event.target.value);\n    }\n  }, {\n    key: \"setCategory\",\n    value: function setCategory(categoryName) {\n      this.setState({\n        category: categoryName\n      });\n      this.handleCategoryChange(categoryName); // console.log(categoryName);\n    }\n  }, {\n    key: \"setFilter\",\n    value: function setFilter(filterName) {\n      // console.log(filterName);\n      // this.setState({sectionTitle: (filterName === \"innovacion\")?\"INNOVACION\":\"RESOLUCION DE PROBLEMAS\"});\n      this.handleFilterChange(filterName);\n    }\n  }, {\n    key: \"clickedPrint\",\n    value: function clickedPrint() {\n      console.log('HOLA');\n    }\n  }, {\n    key: \"setDate\",\n    value: function setDate(ideaDate) {\n      this.setState({\n        date: ideaDate\n      }); // console.log(ideaDate);\n    }\n  }, {\n    key: \"filterQuestionAnswerChange\",\n    value: function filterQuestionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.filterQAnswers[idx].answer = event.target.value; // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"questionAnswerChange\",\n    value: function questionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.answers[idx].answer = event.target.value; // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n  }, {\n    key: \"setIdeaDescription\",\n    value: function setIdeaDescription(event) {\n      var description = event.target.value;\n      var maxCharacters = 250;\n      var charCount = maxCharacters - description.length;\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false;\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true;\n      } else {\n        isValid = null;\n      } // console.log(isValid);\n\n\n      this.setState({\n        descriptionValid: isValid,\n        ideaDescription: description,\n        remainingCharacters: charCount\n      }); // console.log(description);\n    }\n  }, {\n    key: \"selectFile\",\n    value: function selectFile(file) {// console.log(file);\n    }\n  }, {\n    key: \"addAnswer\",\n    value: function addAnswer(filteredQuestions) {\n      var _this6 = this;\n\n      filteredQuestions.map(function (item, idx) {\n        return (// console.log(item.get(\"question\"))\n          _this6.setState(function (prevState) {\n            return {\n              answers: [].concat(_toConsumableArray(prevState.answers), [{\n                question: item.get(\"question\"),\n                answer: \"\",\n                required: item.get(\"required\")\n              }])\n            };\n          })\n        );\n      }); // console.log(this.);\n    }\n  }, {\n    key: \"addFilterAnswer\",\n    value: function addFilterAnswer(filteredData) {\n      // console.log('Add Filter ANswer' );\n      var newItems = [];\n      filteredData.forEach(function (item, idx) {\n        newItems.push({\n          question: item.get(\"question\"),\n          answer: ''\n        });\n      });\n      this.setState({\n        filterQAnswers: newItems\n      }, function () {// console.log(this.state.filterQAnswers);\n      });\n    }\n  }, {\n    key: \"submitEvaluation\",\n    value: function submitEvaluation() {\n      var _this7 = this;\n\n      var _this$state3 = this.state,\n          progress = _this$state3.progress,\n          ideaDescription = _this$state3.ideaDescription,\n          userName = _this$state3.userName;\n      var idea = this.props.idea; // IDEA Properties\n\n      if (progress.length > 0) {\n        idea.set(\"progress\", progress);\n      }\n\n      if (idea.get(\"status\") == 'Idea Devuelta - Mas Informacion') {\n        idea.set(\"needsEvaluation\", true);\n      }\n\n      if (ideaDescription.length > 0) {\n        var comments = idea.get(\"comments\");\n        var myProgress = progress;\n        comments.push({\n          \"comment\": ideaDescription,\n          \"date\": new Date(),\n          \"user\": userName,\n          \"progress\": myProgress\n        });\n        idea.set(\"comments\", comments);\n        idea.set(\"completed\", false);\n      }\n\n      idea.set(\"edited\", true);\n      Parse.Object.saveAll([idea], {\n        useMasterKey: true\n      }).then(function (ideaInfo) {\n        // Execute any logic that should take place after the object is saved.\n        // \n        if (progress[0] == 100) {\n          alert('Su IDEA ha sido actualizada. ¡Gracias!', _this7.showCompletedIdeaForm());\n        } else {\n          alert('Su IDEA ha sido actualizada. ¡Gracias!', window.location.reload());\n        }\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n  }, {\n    key: \"addToQueue\",\n    value: function addToQueue() {\n      // const { progress, ideaDescription, userName } = this.state;\n      var idea = this.props.idea; // IDEA Properties\n\n      idea.set(\"status\", \"En Espera\");\n      idea.save().then(function (ideaInfo) {\n        // Execute any logic that should take place after the object is saved.\n        // \n        // if (progress[0] == 100) {\n        //   alert('Su IDEA ha sido actualizada. ¡Gracias!', this.showCompletedIdeaForm());\n        // } else {\n        //   alert('Su IDEA ha sido actualizada. ¡Gracias!', window.location.reload());\n        // }\n        alert('Su IDEA ha sido actualizada. ¡Gracias!', window.location.reload());\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n  }, {\n    key: \"progressBtnPress\",\n    value: function progressBtnPress(e) {\n      e.preventDefault();\n      var value = e.target.value;\n\n      if (value == 25) {\n        this.setState({\n          progress: [25, 75],\n          firstActive: true,\n          secondActive: false,\n          thirdActive: false,\n          fourthActive: false\n        });\n      } else if (value == 50) {\n        this.setState({\n          progress: [50, 50],\n          firstActive: false,\n          secondActive: true,\n          thirdActive: false,\n          fourthActive: false\n        });\n      } else if (value == 75) {\n        this.setState({\n          progress: [75, 25],\n          firstActive: false,\n          secondActive: false,\n          thirdActive: true,\n          fourthActive: false\n        });\n      } else if (value == 100) {\n        this.setState({\n          progress: [100, 0],\n          firstActive: false,\n          secondActive: false,\n          thirdActive: false,\n          fourthActive: true\n        });\n      }\n    }\n  }, {\n    key: \"getDate\",\n    value: function getDate(date) {\n      // console.log(date);\n      return moment(date).format('MMMM Do YYYY, h:mm:ss a');\n    }\n  }, {\n    key: \"showCompletedIdeaForm\",\n    value: function showCompletedIdeaForm() {\n      this.setState({\n        showCompleted: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this8 = this;\n\n      var _this$state4 = this.state,\n          visible = _this$state4.visible,\n          filterVisible = _this$state4.filterVisible,\n          hideNextButton = _this$state4.hideNextButton,\n          ideaDescription = _this$state4.ideaDescription,\n          userName = _this$state4.userName,\n          firstActive = _this$state4.firstActive,\n          secondActive = _this$state4.secondActive,\n          thirdActive = _this$state4.thirdActive,\n          fourthActive = _this$state4.fourthActive,\n          progress = _this$state4.progress,\n          commentTitle = _this$state4.commentTitle,\n          submitBtnTitle = _this$state4.submitBtnTitle,\n          showCompleted = _this$state4.showCompleted;\n      var idea = this.props.idea;\n      var formVisibilityState = visible ? 'block' : 'none';\n      var filterVisibilityState = filterVisible ? 'block' : 'none';\n      var nextButtonVisibilityState = !hideNextButton ? 'inline' : 'none';\n      var canEdit = userName == idea.get(\"responsibleName\") ? true : false;\n      var ideaProgress = idea.get(\"progress\")[0];\n      var comments = idea.get(\"comments\");\n      var edited = idea.get(\"edited\");\n      var hasComments = false;\n      var canBeUpdated = false;\n\n      if (progress[0] > 25 && progress[0] > ideaProgress) {\n        console.log('POSSIBLE');\n        canBeUpdated = true;\n      } else if (progress[0] > 25 && ideaProgress == 100) {\n        canBeUpdated = true;\n      } else {\n        if (edited == false) {\n          canBeUpdated = true;\n        } else {\n          canBeUpdated = false;\n        }\n      }\n\n      var finalPermission = canEdit && canBeUpdated;\n      var holdOrCancelled = idea.get(\"status\") == \"No Perseguido\" || idea.get(\"status\") == \"Idea en Espera\";\n      var t = this.props.t;\n      return !showCompleted ? /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"edit-user-details mb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        className: \"p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 669,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        className: \"py-4\",\n        onSubmit: this.onSubmit,\n        noValidate: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 672,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(FormSectionTitle, {\n        title: t(\"IDEA_MANAGE_OVERVIEW\"),\n        description: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 676,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: formVisibilityState\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        className: \"mx-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        lg: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 684,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 686,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_PROPONENT\")), /*#__PURE__*/React.createElement(FormInput, {\n        id: \"firstName\",\n        value: idea.get(\"proponentName\"),\n        onChange: function onChange() {},\n        required: true,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 688,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"lastName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 31\n        }\n      }, t(\"IDEA_MANAGE_SUBMITTED\")), /*#__PURE__*/React.createElement(InputGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 700,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n        type: \"append\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 701,\n          columnNumber: 35\n        }\n      }, /*#__PURE__*/React.createElement(InputGroupText, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"material-icons\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 703,\n          columnNumber: 39\n        }\n      }, \"\\uE916\"))), /*#__PURE__*/React.createElement(DatePicker, {\n        placeholderText: idea.get(\"date\"),\n        dropdownMode: \"select\",\n        className: \"text-center\",\n        readOnly: \"true\",\n        onChange: this.setDate,\n        selected: idea.get(\"date\"),\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 35\n        }\n      }))), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"userLocation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_DEPARTMENT\")), /*#__PURE__*/React.createElement(FormInput, {\n        id: \"firstName\",\n        value: idea.get(\"department\"),\n        onChange: function onChange() {},\n        required: true,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 720,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 729,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"userLocation\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 730,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_CATEGORY\")), /*#__PURE__*/React.createElement(FormInput, {\n        id: \"firstName\",\n        value: idea.get(\"category\"),\n        onChange: function onChange() {},\n        required: true,\n        disabled: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 731,\n          columnNumber: 33\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 741,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_ASSIGNED\")), /*#__PURE__*/React.createElement(Alert, {\n        theme: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 742,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 35\n        }\n      }, idea.get(\"responsibleName\")))), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 747,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 748,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_COACH\")), /*#__PURE__*/React.createElement(Alert, {\n        theme: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 35\n        }\n      }, idea.get(\"coachName\") ? idea.get(\"coachName\") : \"No Coach\"))), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 755,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_STATUS\")), /*#__PURE__*/React.createElement(Alert, {\n        theme: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 756,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 35\n        }\n      }, idea.get(\"status\")))), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 761,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 762,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_PROGRESS\")), /*#__PURE__*/React.createElement(Alert, {\n        theme: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 35\n        }\n      }, idea.get(\"progress\")[0] + '%')))))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(FormSectionTitle, {\n        title: t(\"IDEA_MANAGE_ADD_PROGRESS\"),\n        description: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 773,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        className: \"mx-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 777,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 779,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        md: \"12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 781,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 782,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: !firstActive ? true : false,\n        block: true,\n        value: \"25\",\n        onClick: this.progressBtnPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 783,\n          columnNumber: 33\n        }\n      }, \"25%\"), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 784,\n          columnNumber: 33\n        }\n      }, t('IDEA_EVALUATED_ASSIGNED'))), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 786,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: !secondActive ? true : false,\n        block: true,\n        value: \"50\",\n        onClick: this.progressBtnPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 787,\n          columnNumber: 31\n        }\n      }, \"50%\"), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 31\n        }\n      }, t('IDEA_EXECUTION_STARTED'))), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: !thirdActive ? true : false,\n        block: true,\n        value: \"75\",\n        onClick: this.progressBtnPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 791,\n          columnNumber: 31\n        }\n      }, \"75%\"), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 792,\n          columnNumber: 31\n        }\n      }, t('IDEA_IMPLEMENTED'))), /*#__PURE__*/React.createElement(Col, {\n        md: \"3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 31\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        outline: !fourthActive ? true : false,\n        block: true,\n        value: \"100\",\n        onClick: this.progressBtnPress,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 795,\n          columnNumber: 31\n        }\n      }, \"100%\"), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"firstName\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 31\n        }\n      }, t('IDEA_IMPLEMENTED_BENEFITS')))))), ideaProgress < progress[0] ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 25\n        }\n      }) : /*#__PURE__*/React.createElement(FormSectionTitle, {\n        title: t('COMMENTS_IDEA'),\n        description: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 807,\n          columnNumber: 26\n        }\n      }), comments.map(function (comment, idx) {\n        return comments[idx].progress[0] == progress[0] && /*#__PURE__*/React.createElement(Row, {\n          form: true,\n          className: \"mx-4\",\n          hidden: ideaProgress < progress[0],\n          __self: _this8,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Col, {\n          md: \"12\",\n          className: \"form-group\",\n          __self: _this8,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 27\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          className: \"text-muted d-block mb-2\",\n          __self: _this8,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 31\n          }\n        }, comments[idx].user, \" | \", _this8.getDate(comments[idx].date)), /*#__PURE__*/React.createElement(\"span\", {\n          __self: _this8,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 819,\n            columnNumber: 31\n          }\n        }, comments[idx].comment)));\n      }), finalPermission && /*#__PURE__*/React.createElement(FormSectionTitle, {\n        display: !finalPermission,\n        title: t('WRITE_NEW_COMMENT'),\n        description: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 824,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        className: \"mx-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 829,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 831,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(FormTextarea, {\n        hidden: !finalPermission,\n        style: {\n          minHeight: \"100px\"\n        },\n        id: \"userBio\",\n        placeholder: t('WRITE_NEW_COMMENT_DESCRIPTION'),\n        value: ideaDescription,\n        onChange: this.setIdeaDescription,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 832,\n          columnNumber: 29\n        }\n      }))), finalPermission && /*#__PURE__*/React.createElement(FormSectionTitle, {\n        hidden: !finalPermission,\n        title: t('SUBMIT_IDEA_UploadArchive'),\n        description: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 843,\n          columnNumber: 45\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        className: \"mx-4\",\n        hidden: !finalPermission,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 849,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 27\n        }\n      }, /*#__PURE__*/React.createElement(CustomFileUpload, {\n        onFileSelect: this.selectFile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 852,\n          columnNumber: 29\n        }\n      })))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          display: filterVisibilityState\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 858,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(IdeaFilterSelect, {\n        setFilter: function setFilter(e) {\n          _this8.setFilter(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 859,\n          columnNumber: 27\n        }\n      })))), /*#__PURE__*/React.createElement(CardFooter, {\n        className: \"border-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 865,\n          columnNumber: 21\n        }\n      }, !holdOrCancelled && /*#__PURE__*/React.createElement(ButtonGroup, {\n        size: \"sm\",\n        className: \"ml-auto d-table mr-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        disabled: !finalPermission,\n        theme: \"warning\",\n        onClick: this.addToQueue,\n        style: {\n          display: nextButtonVisibilityState\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 27\n        }\n      }, t(\"IDEA_MANAGE_BTN_HOLD\")), /*#__PURE__*/React.createElement(Button, {\n        disabled: !finalPermission,\n        theme: \"accent\",\n        onClick: this.submitEvaluation,\n        style: {\n          display: nextButtonVisibilityState\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 870,\n          columnNumber: 27\n        }\n      }, t(\"IDEA_MANAGE_BTN_UPDATE\"))))) : /*#__PURE__*/React.createElement(CompletedIdeaForm, {\n        idea: idea,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 19\n        }\n      });\n    }\n  }]);\n\n  return ManageIdeaForm;\n}(React.Component);\n\nexport default withTranslation()(ManageIdeaForm);","map":{"version":3,"sources":["/Users/angelvazquez/Desktop/murmuration-demo/src/components/common/ManageIdeaForm.js"],"names":["React","Container","Row","Col","Button","ButtonGroup","Card","CardBody","CardFooter","DatePicker","Fade","Form","FormInput","FormSelect","FormRadio","FormTextarea","InputGroup","InputGroupAddon","InputGroupText","FormFeedback","Badge","Alert","Parse","FormSectionTitle","CustomFileUpload","CategorySelect","IdeaFilterSelect","all","EvaluationSelect","ExecutionSelect","moment","CompletedIdeaForm","useTranslation","initReactI18next","withTranslation","remCharStyle","color","ManageIdeaForm","props","onSubmit","e","preventDefault","alert","t","state","data","ideaQuestions","answers","category","department","date","categoryQuestions","filterQuestions","selectedFilterQ","filterQAnswers","categoryQAnswers","ideaDescription","String","file","buttonNext","descriptionValid","remainingCharacters","visible","filterVisible","filterQuestionsVisible","ideaQuestionsVisible","hideNextButton","userName","sectionTitle","formButtonTitle","ideaNumber","firstActive","secondActive","thirdActive","fourthActive","progress","commentTitle","submitBtnTitle","showCompleted","change","bind","setCategory","setDate","setIdeaDescription","selectFile","showNext","addAnswer","saveIdea","progressBtnPress","submitEvaluation","addToQueue","showCompletedIdeaForm","currUser","User","current","showCorrectScreen","getUserName","getDate","setPercentage","idea","percentage","get","setState","console","log","Date","user","query","Query","equalTo","id","find","results","firstName","lastName","fullName","isInvalid","forEach","item","idx","required","answer","isShowingForm","isShowingFilter","isShowingFilterQuestions","isShowingQuestions","buttonState","allAnswered","resetIdeaForm","window","location","reload","className","ItemClass","Object","extend","then","error","newFilter","newCategory","filteredData","filter","addFilterAnswer","selectedCategory","Idea","ideaInfo","currentUser","userId","set","save","resetForm","message","proponent","event","target","value","categoryName","handleCategoryChange","filterName","handleFilterChange","ideaDate","description","maxCharacters","charCount","length","isValid","filteredQuestions","map","prevState","question","newItems","push","comments","myProgress","saveAll","useMasterKey","format","formVisibilityState","filterVisibilityState","nextButtonVisibilityState","canEdit","ideaProgress","edited","hasComments","canBeUpdated","finalPermission","holdOrCancelled","display","comment","minHeight","setFilter","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Button,\n  ButtonGroup,\n  Card,\n  CardBody,\n  CardFooter,\n  DatePicker,\n  Fade,\n  Form,\n  FormInput,\n  FormSelect,\n  FormRadio,\n  FormTextarea,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText, \n  FormFeedback,\n  Badge,\n  Alert\n} from \"shards-react\";\nimport Parse from 'parse';\n\nimport FormSectionTitle from \"../edit-user-profile/FormSectionTitle\";\nimport CustomFileUpload from \"../components-overview/CustomFileUpload\";\nimport CategorySelect from \"./CategorySelect\"\nimport IdeaFilterSelect from \"./IdeaFilterSelect\";\nimport { all } from \"q\";\nimport EvaluationSelect from \"./EvaluationSelect\";\nimport ExecutionSelect from \"./ExecutionSelect\";\nimport moment from 'moment';\nimport CompletedIdeaForm from \"./CompletedIdeaForm\";\n\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\n\nconst remCharStyle = {\n  color: 'green'\n};\n\nclass ManageIdeaForm extends React.Component {\n    constructor(props) {\n        super(props);\n        const {t} = this.props\n        this.state = {\n          data:[],\n          ideaQuestions: [],\n          answers:[],\n          category:null,\n          department:null,\n          date: '',\n          categoryQuestions: [],\n          filterQuestions: [],\n          selectedFilterQ: [],\n          filterQAnswers: [],\n          categoryQAnswers: [],\n          ideaDescription: String,\n          file:null, \n          buttonNext:true,\n          descriptionValid:'',\n          remainingCharacters: 250,\n          visible: true,\n          filterVisible: false,\n          filterQuestionsVisible: false, \n          ideaQuestionsVisible: false,\n          hideNextButton: false,\n          userName: 'User Name',\n          sectionTitle:'',\n          formButtonTitle: 'Continuar',\n          ideaNumber: '#00008',\n          firstActive: false,\n          secondActive: false,\n          thirdActive: false,\n          fourthActive: false,\n          progress: [25,75],\n          commentTitle: t('COMMENTS_IDEA'),\n          submitBtnTitle: \"Actualizar IDEA\", \n          showCompleted: false,\n        }\n\n        this.change = this.change.bind(this);\n        this.setCategory = this.setCategory.bind(this);\n        this.setDate = this.setDate.bind(this);\n        this.setIdeaDescription = this.setIdeaDescription.bind(this);\n        this.selectFile = this.selectFile.bind(this);\n        this.showNext = this.showNext.bind(this);\n        this.addAnswer = this.addAnswer.bind(this);\n        this.saveIdea = this.saveIdea.bind(this);\n        this.showNext = this.showNext.bind(this);\n        this.progressBtnPress = this.progressBtnPress.bind(this);\n        this.submitEvaluation = this.submitEvaluation.bind(this);\n        this.addToQueue = this.addToQueue.bind(this);\n        this.showCompletedIdeaForm = this.showCompletedIdeaForm.bind(this);\n    }\n\n    componentDidMount() {\n      let currUser = Parse.User.current();\n      this.showCorrectScreen();\n      this.getUserName(currUser);\n      this.getDate();\n      this.setPercentage();\n    }\n\n    showCorrectScreen() {\n      const idea = this.props.idea;\n      const percentage = idea.get(\"progress\")[0];\n      if (percentage == 100) {\n        this.setState({showCompleted: true});\n      } else {\n        this.setState({showCompleted: false});\n      }\n    }\n\n    setPercentage() {\n      const idea = this.props.idea;\n      const percentage = idea.get(\"progress\")[0];\n      console.log(percentage);\n      switch(percentage) {\n        case 25:\n          // code block\n          console.log('CASE IS 25');\n          this.setState({firstActive: true,\n            secondActive: false,\n            thirdActive: false,\n            fourthActive: false,});\n          break;\n        case 50:\n          // code block\n          console.log('CASE IS 50');\n          this.setState({firstActive: false,\n            secondActive: true,\n            thirdActive: false,\n            fourthActive: false,});\n          break;\n        case 75:\n          // code block\n          console.log('CASE IS 75');\n          this.setState({firstActive: false,\n            secondActive: false,\n            thirdActive: true,\n            fourthActive: false,});\n          break;\n        case 100:\n          // code block\n          console.log('CASE IS 100');\n          this.setState({firstActive: false,\n            secondActive: false,\n            thirdActive: false,\n            fourthActive: true,});\n          break;\n        default:\n          // code block\n          this.setState({firstActive: false,\n            secondActive: false,\n            thirdActive: false,\n            fourthActive: false,});\n          break;\n      }\n      console.log(this.state.firstActive);\n    }\n\n    getDate() {\n      this.setState({\n        date: new Date()\n      });\n    }\n\n    async getUserName(user) {\n      var query = new Parse.Query(Parse.User);\n      query.equalTo(\"objectId\", user.id);\n      const results = await query.find();\n      const firstName = results[0].get('firstName');\n      const lastName = results[0].get('lastName');\n      const fullName = firstName + ' ' + lastName;\n      this.setState({\n        userName: fullName\n      });\n    }\n\n    handleSubmit() {\n      const { formButtonTitle } = this.state;\n      \n      if (formButtonTitle == \"Continuar\") {\n        this.showNext();\n      } else {\n        var isInvalid = false\n        this.state.answers.forEach((item,idx) => {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas requeridas.\");\n        } else {\n        alert(\"Su IDEA ha sido sometida.\");\n      }\n    }\n  }\n\n    showNext() {\n      const isShowingForm = this.state.visible;\n      const isShowingFilter = this.state.filterVisible;\n      const isShowingFilterQuestions = this.state.filterQuestionsVisible;\n      const isShowingQuestions = this.state.ideaQuestionsVisible;\n\n      if (isShowingForm && !isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n\n        const { category, department, descriptionValid } = this.state;\n\n        if (!category || !department || !descriptionValid) {\n          alert(\"Por favor seleccione una categoria, un departamento y asegurese de que la descripcion de la idea sea valida.\");\n        } else {\n          this.setState({\n            visible: !isShowingForm,\n            filterVisible: !isShowingFilter,\n            buttonState: false,\n            hideNextButton: true,\n          });\n        }\n      } else if (!isShowingForm && isShowingFilter && !isShowingFilterQuestions && !isShowingQuestions) {\n        this.setState({\n          hideNextButton: false,\n          filterVisible: !isShowingFilter,\n          filterQuestionsVisible: !isShowingFilterQuestions,\n          buttonState: false,\n        });\n      } else if (!isShowingForm && !isShowingFilter && isShowingFilterQuestions && !isShowingQuestions) {\n        var allAnswered = false;\n        // console.log(this.state.filterQAnswers);\n        // console.log(this.state.filterQAnswers);\n        var isInvalid = false\n        this.state.filterQAnswers.forEach((item,idx) => {\n          // console.log(item)\n          if (!item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Por favor conteste todas las preguntas.\");\n        } else {\n          this.setState({\n            filterQuestionsVisible: !isShowingFilterQuestions,\n            ideaQuestionsVisible: !isShowingQuestions,\n            buttonState: false,\n            formButtonTitle: 'Someter',\n          });\n        }\n      } else if (!isShowingForm && !isShowingFilter && !isShowingFilterQuestions && isShowingQuestions) {\n        // console.log(this.state.answers);\n        var isInvalid = false\n        this.state.answers.forEach((item,idx) => {\n          // console.log(item)\n          if (item.required && !item.answer) {\n            isInvalid = true\n          }\n        });\n\n        if (isInvalid) {\n          alert(\"Please answer all required questions\");\n        } else {\n          alert('¡Congrats! Thanks for submitting your idea.', \n          this.resetIdeaForm());\n        }\n      }\n      // console.log(isShowingForm);\n      // console.log(isShowingFilter);\n      // console.log(isShowingFilterQuestions);\n      // console.log(isShowingFilterQuestions);\n      // console.log('\\n');\n    }\n\n    resetIdeaForm() {\n      window.location.reload();\n    }\n\n    fetchNewData() {\n      const className = \"IdeaDepartment\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n\n      query.find()\n      .then((results) => {\n          this.setState({\n              data: results\n          });\n          // console.log(results);\n      }, (error) => {\n          this.setState({\n              data: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    fetchQuestions() {\n      const className = \"IdeaQuestion\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n\n      query.find()\n      .then((results) => {\n        // console.log(results);\n          this.setState({\n              ideaQuestions: results\n          });\n      }, (error) => {\n          this.setState({\n              data: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    fetchFilterQuestions() {\n      const className = \"FilterQuestion\";\n\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find()\n      .then((results) => {\n        // console.log(results);\n          this.setState({\n              filterQuestions: results\n          });\n      }, (error) => {\n          this.setState({\n              filterQuestions: []\n          });\n        // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n\n    handleFilterChange(newFilter) {\n      const newCategory = newFilter;\n      const { filterQuestions, selectedFilterQ } = this.state;\n      // console.log('FILTERED QUESTIONS');\n      // console.log(filterQuestions);\n      \n      var filteredData;\n      if (newCategory !== 'Todas') {\n        filteredData = filterQuestions.filter(item => item.get(\"filter\") === newCategory);\n      }  else {\n        filteredData = filterQuestions;\n      }\n      \n      this.setState({\n        selectedFilterQ: filteredData\n      }, this.addFilterAnswer(filteredData));\n      // console.log(filteredData);\n      this.showNext();\n    }\n\n    handleCategoryChange(selectedCategory) {\n      const newCategory = selectedCategory;\n      const { ideaQuestions } = this.state;\n\n      var filteredData = ideaQuestions.filter(item => item.get(\"category\") === newCategory );\n            \n      this.setState({\n        categoryQuestions: filteredData\n      }, this.addAnswer(filteredData));\n    }\n\n    onSubmit = e => {\n      e.preventDefault();\n      alert('Form submitted');\n    };\n\n    saveIdea() {\n      // Simple syntax to create a new subclass of Parse.Object.\n      var Idea = Parse.Object.extend(\"Idea\");\n      // Create a new instance of that class.\n      var ideaInfo = new Idea();\n\n      const currentUser = Parse.User.current();\n      const userId = currentUser.get(\"username\");\n    \n      // IDEA Properties\n      ideaInfo.set(\"proponent\", userId);\n      ideaInfo.set(\"department\",this.state.department);\n      ideaInfo.set(\"category\", this.state.category);\n      ideaInfo.set(\"date\", this.state.date);\n      ideaInfo.set(\"description\", this.state.ideaDescription);\n      ideaInfo.set(\"file\", this.state.file);\n      ideaInfo.set(\"status\", \"saved\");\n      ideaInfo.set(\"progress\", [0,100]);\n      \n      ideaInfo.save()\n      .then((ideaInfo) => {\n        // Execute any logic that should take place after the object is saved.\n        this.resetForm();\n        alert('Su IDEA fue guardada exitosamente.');\n      }, (error) => {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n\n    resetForm() {\n      this.setState({proponent: '', department: '', category: '', ideaDescription:'', date: new Date(),file: '', remainingCharacters: 250, descriptionValid:''});\n    }\n\n    change(event) {\n      // this.setState({category: event.target.value});\n      this.setState({department: event.target.value});\n      // console.log(event.target.value);\n    }\n\n    setCategory(categoryName) {\n      this.setState({\n        category: categoryName\n      })\n\n      this.handleCategoryChange(categoryName)\n      // console.log(categoryName);\n    }\n\n    setFilter(filterName) {\n      // console.log(filterName);\n      // this.setState({sectionTitle: (filterName === \"innovacion\")?\"INNOVACION\":\"RESOLUCION DE PROBLEMAS\"});\n      this.handleFilterChange(filterName);\n    }\n\n    clickedPrint() {\n      console.log('HOLA');\n    }\n\n    setDate(ideaDate) {\n      this.setState({\n        date: ideaDate\n      })\n      // console.log(ideaDate);\n    }\n\n    filterQuestionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.filterQAnswers[idx].answer = event.target.value;\n      // console.log(this.state.filterQAnswers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    questionAnswerChange(event, idx) {\n      // console.log(event.target.value);\n      // console.log(idx);\n      // const newObj = {'question':this.state.filterQuestions[idx], 'answer': event.target.value }\n      this.state.answers[idx].answer = event.target.value;\n      // console.log(this.state.answers);\n      // const newArray = this.state.filterQAnswers\n      // this.setState({filterQAnswers: newArray}, console.log(this.state.filterQAnswers));\n      // this.setState({department: event.target.value});\n      // console.log(this.state.answers[idx].answer);\n    }\n\n    setIdeaDescription(event) {\n      const description = event.target.value;\n      const maxCharacters = 250;\n      const charCount = maxCharacters - description.length\n      var isValid = null;\n\n      if (charCount < 0 && description.length > 0) {\n        isValid = false\n      } else if (charCount > 0 && description.length > 0) {\n        isValid = true\n      } else {\n        isValid = null\n      }\n\n      // console.log(isValid);\n      this.setState({\n        descriptionValid: isValid,\n        ideaDescription: description,\n        remainingCharacters: charCount\n      })\n      // console.log(description);\n    }\n\n    selectFile(file) {\n      // console.log(file);\n    }\n\n    addAnswer(filteredQuestions) {\n      filteredQuestions.map((item, idx) => (\n        // console.log(item.get(\"question\"))\n        this.setState((prevState) => ({\n          answers: [...prevState.answers, {question:item.get(\"question\"), answer:\"\", required: item.get(\"required\")}],\n        }))\n      ))\n      // console.log(this.);\n    }\n\n    addFilterAnswer(filteredData) {\n      // console.log('Add Filter ANswer' );\n    \n      var newItems = [];\n      filteredData.forEach((item, idx) => {\n        newItems.push({question:item.get(\"question\"), answer:''});\n      })\n\n      this.setState({ filterQAnswers: newItems}, () => {\n          // console.log(this.state.filterQAnswers);\n        });\n    }\n\n    submitEvaluation() {\n      const { progress, ideaDescription, userName } = this.state;\n      const { idea } = this.props;\n    \n      // IDEA Properties\n      if (progress.length > 0) {\n        idea.set(\"progress\", progress);\n      }\n\n      if (idea.get(\"status\") == 'Idea Devuelta - Mas Informacion') {\n        idea.set(\"needsEvaluation\", true);\n      }\n\n      if (ideaDescription.length > 0) {\n          var comments = idea.get(\"comments\");\n          var myProgress = progress;\n          comments.push({\"comment\": ideaDescription, \"date\": new Date(), \"user\": userName, \"progress\": myProgress});\n          idea.set(\"comments\", comments);\n          idea.set(\"completed\", false);\n      }\n      idea.set(\"edited\", true);\n    \n      Parse.Object.saveAll([idea], {useMasterKey: true})\n      .then((ideaInfo) => {\n        // Execute any logic that should take place after the object is saved.\n        // \n        if (progress[0] == 100) {\n          alert('Su IDEA ha sido actualizada. ¡Gracias!', this.showCompletedIdeaForm());\n        } else {\n          alert('Su IDEA ha sido actualizada. ¡Gracias!', window.location.reload());\n        }\n      }, (error) => {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n\n    addToQueue() {\n      // const { progress, ideaDescription, userName } = this.state;\n      const { idea } = this.props;\n    \n      // IDEA Properties\n      idea.set(\"status\", \"En Espera\");\n      \n      \n      idea.save()\n      .then((ideaInfo) => {\n        // Execute any logic that should take place after the object is saved.\n        // \n        // if (progress[0] == 100) {\n        //   alert('Su IDEA ha sido actualizada. ¡Gracias!', this.showCompletedIdeaForm());\n        // } else {\n        //   alert('Su IDEA ha sido actualizada. ¡Gracias!', window.location.reload());\n        // }\n        alert('Su IDEA ha sido actualizada. ¡Gracias!', window.location.reload());\n      }, (error) => {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Failed to create new object, with error code: ' + error.message);\n      });\n    }\n\n    progressBtnPress(e) {\n      e.preventDefault();\n      const value = e.target.value;\n      if (value==25) {\n        this.setState({\n          progress:[25,75],\n          firstActive: true,\n          secondActive: false,\n          thirdActive: false,\n          fourthActive: false,\n        });\n      } else if (value==50) {\n        this.setState({\n          progress:[50,50],\n          firstActive: false,\n          secondActive: true,\n          thirdActive: false,\n          fourthActive: false,\n        });\n      } else if (value==75) {\n        this.setState({\n          progress:[75,25],\n          firstActive: false,\n          secondActive: false,\n          thirdActive: true,\n          fourthActive: false,\n        });\n      } else if (value==100) {\n        this.setState({\n          progress:[100,0],\n          firstActive: false,\n          secondActive: false,\n          thirdActive: false,\n          fourthActive: true,\n        });\n      }\n    }\n\n    getDate(date) {\n      // console.log(date);\n      return moment(date).format('MMMM Do YYYY, h:mm:ss a');\n    }\n\n    showCompletedIdeaForm() {\n      this.setState({showCompleted: true});\n    }\n\n    render() {\n        const {visible, filterVisible, hideNextButton, ideaDescription, userName, \n          firstActive, secondActive, thirdActive, fourthActive, progress, commentTitle, submitBtnTitle, showCompleted } = this.state\n        const {idea} = this.props;\n        const formVisibilityState = visible? 'block' : 'none';\n        const filterVisibilityState = filterVisible? 'block' : 'none';\n        const nextButtonVisibilityState = !hideNextButton? 'inline' : 'none';\n\n        const canEdit = ((userName == idea.get(\"responsibleName\"))?true:false);\n\n        const ideaProgress = idea.get(\"progress\")[0]\n        const comments = idea.get(\"comments\");\n        const edited = idea.get(\"edited\");\n        var hasComments = false;\n\n        var canBeUpdated = false;\n        if (progress[0] > 25 && progress[0] > ideaProgress) {\n          console.log('POSSIBLE');\n          canBeUpdated = true;\n        } else if (progress[0] > 25 && ideaProgress == 100){\n          canBeUpdated = true;\n        } else {\n          if (edited == false) {\n            canBeUpdated = true\n          } else {\n            canBeUpdated = false\n          }\n        }\n\n        const finalPermission = canEdit && canBeUpdated;\n\n        const holdOrCancelled = idea.get(\"status\") == \"No Perseguido\" || idea.get(\"status\") == \"Idea en Espera\"\n        const {t} = this.props\n    \n        return(\n                !showCompleted?\n                  <Card small className=\"edit-user-details mb-4\">\n                    {/* <ProfileBackgroundPhoto /> */}\n    \n                    <CardBody className=\"p-0\">\n    \n                      {/* Form Section Title :: General */}\n                      <Form className=\"py-4\"\n                      onSubmit={this.onSubmit}\n                      noValidate\n                      >\n                        <FormSectionTitle\n                          title={t(\"IDEA_MANAGE_OVERVIEW\")}\n                          description=\"\"\n                        />\n                        {/* VISIBILITY */}\n                        <div style={{display: formVisibilityState}}>\n                        <Row form className=\"mx-4\">\n                          <Col lg=\"12\">\n                            <Row form>\n                              {/* Proponent */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t(\"IDEA_MANAGE_PROPONENT\")}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={idea.get(\"proponentName\")}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                              </Col>\n    \n                              {/* Date */}\n                              <Col md=\"3\" className=\"form-group\">\n                              <label htmlFor=\"lastName\">{t(\"IDEA_MANAGE_SUBMITTED\")}</label>\n                              <InputGroup>\n                                  <InputGroupAddon type=\"append\">\n                                    <InputGroupText>\n                                      <i className=\"material-icons\">&#xE916;</i>\n                                    </InputGroupText>\n                                  </InputGroupAddon>\n                                  <DatePicker\n                                    placeholderText={idea.get(\"date\")}\n                                    dropdownMode=\"select\"\n                                    className=\"text-center\"\n                                    readOnly = \"true\"\n                                    onChange={this.setDate} \n                                    selected={idea.get(\"date\")}\n                                    required\n                                  />\n                                </InputGroup>\n                              </Col>\n                              {/* Department */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"userLocation\">{t(\"IDEA_MANAGE_DEPARTMENT\")}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={idea.get(\"department\")}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                              </Col>\n                              {/* Department */}\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"userLocation\">{t(\"IDEA_MANAGE_CATEGORY\")}</label>\n                                <FormInput\n                                  id=\"firstName\"\n                                  value={idea.get(\"category\")}\n                                  onChange={() => {}}\n                                  required\n                                  disabled\n                                />\n                              </Col>\n\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t(\"IDEA_MANAGE_ASSIGNED\")}</label>\n                                <Alert theme=\"primary\">\n                                  <strong>{idea.get(\"responsibleName\")}</strong>\n                                </Alert>\n                              </Col>\n\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t(\"IDEA_MANAGE_COACH\")}</label>\n                                <Alert theme=\"primary\">\n                                  <strong>{idea.get(\"coachName\")?idea.get(\"coachName\"):\"No Coach\"}</strong>\n                                </Alert>\n                              </Col>\n\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t(\"IDEA_MANAGE_STATUS\")}</label>\n                                <Alert theme=\"primary\">\n                                  <strong>{idea.get(\"status\")}</strong>\n                                </Alert>\n                              </Col>\n\n                              <Col md=\"3\" className=\"form-group\">\n                                <label htmlFor=\"firstName\">{t(\"IDEA_MANAGE_PROGRESS\")}</label>\n                                <Alert theme=\"primary\">\n                                  <strong>{idea.get(\"progress\")[0] + '%'}</strong>\n                                </Alert>\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n    \n                        <br/>\n\n                        <FormSectionTitle\n                          title={t(\"IDEA_MANAGE_ADD_PROGRESS\")}\n                          description=\"\"\n                        />\n                        <Row form className=\"mx-4\">\n                        {/* Categoria */}\n                          <Col md=\"12\" className=\"form-group\">\n                            {/* <EvaluationSelect setCategory={(selection) => console.log(selection)}/> */}\n                            <Row md=\"12\">\n                              <Col md=\"3\">\n                                <Button outline={!firstActive?true:false}  block value='25' onClick={this.progressBtnPress}>25%</Button>\n                                <label htmlFor=\"firstName\">{t('IDEA_EVALUATED_ASSIGNED')}</label>\n                              </Col>\n                              <Col md=\"3\">\n                              <Button outline={!secondActive?true:false} block value='50' onClick={this.progressBtnPress}>50%</Button>\n                              <label htmlFor=\"firstName\">{t('IDEA_EXECUTION_STARTED')}</label>\n                              </Col>\n                              <Col md=\"3\">\n                              <Button outline={!thirdActive?true:false} block value='75' onClick={this.progressBtnPress}>75%</Button>\n                              <label htmlFor=\"firstName\">{t('IDEA_IMPLEMENTED')}</label>\n                              </Col>\n                              <Col md=\"3\">\n                              <Button outline={!fourthActive?true:false} block value='100'onClick={this.progressBtnPress}>100%</Button>\n                              <label htmlFor=\"firstName\">{t('IDEA_IMPLEMENTED_BENEFITS')}</label>\n                              </Col>\n                            </Row>\n                          </Col>\n                        </Row>\n                        {/* <FormSectionTitle\n                          title=\"Comentarios\"\n                          description=\"\"\n                        /> */}\n                        {ideaProgress < progress[0]?\n                        <div></div>\n                        :<FormSectionTitle\n                        title={t('COMMENTS_IDEA')}\n                        description=\"\"\n                      />}\n                        {comments.map((comment, idx) =>\n                        comments[idx].progress[0] == progress[0] && \n                        <Row form className=\"mx-4\" hidden={ideaProgress < progress[0]}>\n                          {/* Idea Description */}\n                          <Col md=\"12\" className=\"form-group\">\n                              <strong className=\"text-muted d-block mb-2\">\n                                {comments[idx].user} | {this.getDate(comments[idx].date)}\n                              </strong>\n                              <span>{comments[idx].comment}</span>\n                          </Col>\n                        </Row>\n                        )}\n\n                        {finalPermission && <FormSectionTitle\n                          display={!finalPermission}\n                          title={t('WRITE_NEW_COMMENT')}\n                          description=\"\"\n                        />}\n                        <Row form className=\"mx-4\">\n                          {/* Idea Description */}\n                          <Col md=\"12\" className=\"form-group\">\n                            <FormTextarea\n                              hidden={!finalPermission}\n                              style={{ minHeight: \"100px\" }}\n                              id=\"userBio\"\n                              placeholder={t('WRITE_NEW_COMMENT_DESCRIPTION')}\n                              value={ideaDescription}\n                              onChange={this.setIdeaDescription}\n                            />\n                          </Col>\n                        </Row>\n\n                        {finalPermission && <FormSectionTitle\n                          hidden={!finalPermission}\n                          title={t('SUBMIT_IDEA_UploadArchive')}\n                          description=\"\"\n                        />}\n                        \n                        <Row form className=\"mx-4\" hidden={!finalPermission}>\n                          {/* Idea Description */}\n                          <Col className=\"form-group\">\n                            <CustomFileUpload onFileSelect={this.selectFile}/>\n                          </Col>\n                        </Row>\n                        </div>\n                          \n                        {/* Select IDEA Filter Visibility State */}\n                        <div style={{display: filterVisibilityState}}>\n                          <IdeaFilterSelect setFilter={(e) => {this.setFilter(e)}}/>\n                        </div>\n\n                        {/* Select IDEA Filter Visibility State */}\n                        </Form>\n                    </CardBody>\n                    <CardFooter className=\"border-top\">\n                    { !holdOrCancelled &&\n                      <ButtonGroup size=\"sm\" className=\"ml-auto d-table mr-3\">\n                        {/* <Button theme=\"light\" onClick={this.saveIdea}>Guardar</Button> */}\n                          <Button disabled={!finalPermission} theme=\"warning\" onClick={this.addToQueue} style={{display: nextButtonVisibilityState}}>{t(\"IDEA_MANAGE_BTN_HOLD\")}</Button>\n                          <Button disabled={!finalPermission} theme=\"accent\" onClick={this.submitEvaluation} style={{display: nextButtonVisibilityState}}>{t(\"IDEA_MANAGE_BTN_UPDATE\")}</Button>\n                      </ButtonGroup>\n                      }\n                    </CardFooter>\n                  </Card>\n                  :\n                  <CompletedIdeaForm idea={idea}></CompletedIdeaForm>\n          );\n    }\n}\n\n\n\n\nexport default withTranslation()(ManageIdeaForm);\n"]},"metadata":{},"sourceType":"module"}