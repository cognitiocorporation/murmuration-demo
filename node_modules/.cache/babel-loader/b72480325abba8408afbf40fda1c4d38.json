{"ast":null,"code":"import _classCallCheck from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/angelvazquez/Desktop/murmuration-demo/src/components/components-overview/CreateCommiteeForm.js\";\nimport React from \"react\";\nimport { ListGroup, ListGroupItem, Row, Col, Form, FormInput, FormGroup, FormCheckbox, FormTextarea, FormRadio, Card, CardHeader, CardBody, FormSelect, Button } from \"shards-react\";\nimport Parse from 'parse';\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nimport Select from 'react-select';\n\nvar CreateCommiteeForm = /*#__PURE__*/function (_React$Component) {\n  _inherits(CreateCommiteeForm, _React$Component);\n\n  function CreateCommiteeForm(props) {\n    var _this;\n\n    _classCallCheck(this, CreateCommiteeForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateCommiteeForm).call(this, props));\n    _this.state = {\n      data: [],\n      departments: [],\n      members: [],\n      selectedRes: null,\n      required: false,\n      questionText: '',\n      committees: [{\n        \"name\": \"\",\n        \"email\": \"\"\n      }],\n      category: 'Todas',\n      evaluationType: '',\n      value: '',\n      options: [],\n      selectedMembers: []\n    };\n    return _this;\n  }\n\n  _createClass(CreateCommiteeForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchNewData();\n      this.fetchDepartments();\n      this.fetchCategoryData();\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData() {\n      var _this2 = this;\n\n      var className = \"IdeaCategory\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        console.log('RESULTS: ' + results);\n\n        _this2.setState({\n          data: results\n        });\n      }, function (error) {\n        _this2.setState({\n          data: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchDepartments\",\n    value: function fetchDepartments() {\n      var _this3 = this;\n\n      var className = \"IdeaDepartment\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.find().then(function (results) {\n        console.log('RESULTS: ' + results);\n\n        _this3.setState({\n          departments: results\n        });\n      }, function (error) {\n        _this3.setState({\n          departments: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchCategoryData\",\n    value: function fetchCategoryData() {\n      var _this4 = this;\n\n      var className = \"User\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.limit(1000);\n      query.ascending(\"firstName\").find().then(function (results) {\n        var options = [];\n        {\n          results.map(function (result, idx) {\n            return options.push({\n              \"value\": result,\n              \"label\": _this4.getFullName(result)\n            });\n          });\n        }\n\n        _this4.setState({\n          options: options\n        }); // this.props.setResponsible(results[0], -1);\n\n      }, function (error) {\n        _this4.setState({\n          options: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"getFullName\",\n    value: function getFullName(result) {\n      if (result) {\n        return result.get(\"firstName\") + ' ' + result.get(\"lastName\");\n      }\n    }\n  }, {\n    key: \"handleCategoryChange\",\n    value: function handleCategoryChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        evaluationType: 'category',\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleDepartmentChange\",\n    value: function handleDepartmentChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        evaluationType: 'department',\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleManagementChange\",\n    value: function handleManagementChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        evaluationType: 'manage',\n        value: event.target.value\n      });\n    }\n  }, {\n    key: \"handleRequiredChange\",\n    value: function handleRequiredChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        required: !this.state.required\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"handleQuestionTextChange\",\n    value: function handleQuestionTextChange(event) {\n      console.log(event.target.value);\n      this.setState({\n        questionText: event.target.value\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"handleMemberTextChange\",\n    value: function handleMemberTextChange(idx, event) {\n      var committees = this.state.committees;\n      var value = event.target.value;\n      var newCommittees = committees.slice();\n      newCommittees[idx].name = value;\n      this.setState({\n        committees: newCommittees\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"handleMemberEmailTextChange\",\n    value: function handleMemberEmailTextChange(idx, event) {\n      var committees = this.state.committees;\n      var value = event.target.value;\n      var newCommittees = committees.slice();\n      newCommittees[idx].email = value;\n      this.setState({\n        committees: newCommittees\n      }); // const newCommittees = committees.slice()\n      // newCommittees[idx].email = value\n      // this.setState({committees: newCommittees});\n    }\n  }, {\n    key: \"addMembers\",\n    value: function addMembers(members) {\n      // const { committees } = this.state;\n      // const oldComms = commitees; \n      // oldComms.push({\"name\":\" \", \"email\": \" \" });\n      console.log(members); //   this.setState(prevState => ({\n      //     committees: prevState.committees.concat({\"name\":\" \", \"email\": \" \" })\n      // }));\n\n      this.setState({\n        selectedMembers: members\n      }); // this.setState({value: this.props.value});\n    }\n  }, {\n    key: \"resetForm\",\n    value: function resetForm() {\n      this.setState({\n        required: false,\n        questionText: '',\n        category: 'Todas'\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this5 = this;\n\n      var _this$state = this.state,\n          committees = _this$state.committees,\n          value = _this$state.value,\n          evaluationType = _this$state.evaluationType,\n          questionText = _this$state.questionText,\n          selectedMembers = _this$state.selectedMembers;\n      var className = \"EvaluationCommittee\";\n      var PropertyItem = Parse.Object.extend(className);\n      var newItem = new PropertyItem();\n      var parseObjs = [];\n\n      if (evaluationType == '' || value == '' || '') {\n        alert('Por favor asegurese de escoger el respectivo metodo de evaluacion.');\n      } else {\n        newItem.set(\"members\", selectedMembers);\n        newItem.set(\"evaluationType\", evaluationType);\n        newItem.set(\"value\", value);\n        newItem.set(\"name\", questionText);\n        newItem.set(\"canDelete\", true);\n        Parse.Object.saveAll([newItem], {\n          useMasterKey: true\n        }).then(function (item) {\n          // Execute any logic that should take place after the object is saved.\n          if (evaluationType == 'manage') {\n            selectedMembers.forEach(function (obj) {\n              var member = obj.value;\n\n              if (member.get(\"role\") != 'super_user') {\n                var type = _this5.getType(value);\n\n                if (value == 'PMO') {\n                  member.set(\"pmo\", true);\n                }\n\n                member.set(\"role\", type);\n                parseObjs.push(member);\n              }\n            });\n          } else {\n            selectedMembers.forEach(function (obj) {\n              var member = obj.value;\n\n              if (member.get(\"role\") != 'super_user') {\n                var evaluationCriteria = member.get(\"evaluationCriteria\");\n                evaluationCriteria.push(value);\n                member.set(\"role\", 'evaluation');\n                member.set(\"evaluationCriteria\", evaluationCriteria);\n                parseObjs.push(member);\n              }\n            });\n          }\n\n          Parse.Object.saveAll(parseObjs, {\n            useMasterKey: true\n          }).then(function () {\n            _this5.resetForm();\n\n            alert('¡La operacion fue exitosa!');\n          });\n        }, function (error) {\n          console.log(error); // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n    }\n  }, {\n    key: \"getType\",\n    value: function getType(value) {\n      switch (value) {\n        case 'Evaluación':\n          // code block\n          return 'evaluation';\n\n        case 'Verificación':\n          // code block\n          return 'verification';\n\n        case 'Reconocimiento':\n          // code block\n          return 'recognition';\n\n        case 'PMO':\n          // code block\n          return 'evaluation';\n\n        default: // code block\n\n      }\n    }\n  }, {\n    key: \"changeResponsibilityType\",\n    value: function changeResponsibilityType(responsibility) {\n      this.setState({\n        selectedRes: responsibility\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this6 = this;\n\n      var _this$state2 = this.state,\n          required = _this$state2.required,\n          questionText = _this$state2.questionText,\n          category = _this$state2.category,\n          data = _this$state2.data,\n          committees = _this$state2.committees,\n          options = _this$state2.options,\n          selectedMembers = _this$state2.selectedMembers;\n      var t = this.props.t;\n      return /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }\n      }, t('EVAL_COMMITTEE_NEW'))), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        flush: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"p-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputAddress2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }\n      }, t('EVAL_COMMITTEE')), /*#__PURE__*/React.createElement(FormInput, {\n        value: questionText,\n        onChange: this.handleQuestionTextChange.bind(this),\n        id: \"feInputAddress2\",\n        placeholder: t('EVAL_COMMITTEE_PLACEHOLDER'),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputAddress2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 19\n        }\n      }, t('EVAL_COMMITTEE_MEMBER')), /*#__PURE__*/React.createElement(Select, {\n        value: selectedMembers,\n        onChange: this.addMembers.bind(this),\n        isMulti: true,\n        options: options,\n        placeholder: 'Seleccione Empleados',\n        clearable: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 17\n        }\n      }, \"\\xA0\", /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        style: {\n          zIndex: 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }\n      }, t('EVAL_COMMITTEE_TYPE_TITLE')), /*#__PURE__*/React.createElement(FormRadio, {\n        inline: true,\n        name: \"sport\",\n        checked: this.state.selectedRes === \"department\",\n        onChange: function onChange() {\n          _this6.changeResponsibilityType(\"department\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }\n      }, t('EVAL_COMMITTEE_AREA')), /*#__PURE__*/React.createElement(FormRadio, {\n        inline: true,\n        name: \"responsibility\",\n        checked: this.state.selectedRes === \"category\",\n        onChange: function onChange() {\n          _this6.changeResponsibilityType(\"category\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }\n      }, t('EVAL_COMMITTEE_CLASSIFICATION')), /*#__PURE__*/React.createElement(FormRadio, {\n        inline: true,\n        name: \"manage\",\n        checked: this.state.selectedRes === \"manage\",\n        onChange: function onChange() {\n          _this6.changeResponsibilityType(\"manage\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }\n      }, t('EVAL_COMMITTEE_MANAGE')))), this.state.selectedRes == 'category' ? /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 23\n        }\n      }, t('EVAL_COMMITTEE_CATEGORY')), /*#__PURE__*/React.createElement(FormSelect, {\n        id: \"feInputState\",\n        onChange: this.handleCategoryChange.bind(this),\n        value: this.state.value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 25\n        }\n      }, \"Todas\"), this.state.data.map(function (item, idx) {\n        return (\n          /*#__PURE__*/\n          // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n          //   {item.get(\"itemName\")}\n          // </FormCheckbox>\n          React.createElement(\"option\", {\n            key: idx,\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 31\n            }\n          }, item.get(\"itemName\")) //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n\n        );\n      })))) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 26\n        }\n      }), this.state.selectedRes == 'department' ? /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 23\n        }\n      }, t('EVAL_COMMITTEE_DEPARTMENT')), /*#__PURE__*/React.createElement(FormSelect, {\n        id: \"feInputState\",\n        onChange: this.handleDepartmentChange.bind(this),\n        value: this.state.value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 25\n        }\n      }, \"Todos\"), this.state.departments.map(function (item, idx) {\n        return (\n          /*#__PURE__*/\n          // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n          //   {item.get(\"itemName\")}\n          // </FormCheckbox>\n          React.createElement(\"option\", {\n            key: idx,\n            __self: _this6,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 31\n            }\n          }, item.get(\"itemName\")) //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n\n        );\n      })))) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 26\n        }\n      }), this.state.selectedRes == 'manage' ? /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 23\n        }\n      }, t('EVAL_COMMITTEE_DEPARTMENT')), /*#__PURE__*/React.createElement(FormSelect, {\n        id: \"feInputState\",\n        onChange: this.handleManagementChange.bind(this),\n        value: this.state.value,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 25\n        }\n      }, \"Verificaci\\xF3n\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 25\n        }\n      }, \"Reconocimiento\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 25\n        }\n      }, \"PMO\")))) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 26\n        }\n      }), \"\\xA0\", /*#__PURE__*/React.createElement(Button, {\n        onClick: function onClick(e) {\n          return _this6.handleSubmit(e);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 25\n        }\n      }, t('EVAL_COMMITTEE_CREATE_COMMITTEE')))))))));\n    }\n  }]);\n\n  return CreateCommiteeForm;\n}(React.Component);\n\nexport default withTranslation()(CreateCommiteeForm);","map":{"version":3,"sources":["/Users/angelvazquez/Desktop/murmuration-demo/src/components/components-overview/CreateCommiteeForm.js"],"names":["React","ListGroup","ListGroupItem","Row","Col","Form","FormInput","FormGroup","FormCheckbox","FormTextarea","FormRadio","Card","CardHeader","CardBody","FormSelect","Button","Parse","useTranslation","initReactI18next","withTranslation","Select","CreateCommiteeForm","props","state","data","departments","members","selectedRes","required","questionText","committees","category","evaluationType","value","options","selectedMembers","fetchNewData","fetchDepartments","fetchCategoryData","className","ItemClass","Object","extend","query","Query","find","then","results","console","log","setState","error","limit","ascending","map","result","idx","push","getFullName","get","event","target","newCommittees","slice","name","email","PropertyItem","newItem","parseObjs","alert","set","saveAll","useMasterKey","item","forEach","obj","member","type","getType","evaluationCriteria","resetForm","message","responsibility","t","handleQuestionTextChange","bind","addMembers","zIndex","changeResponsibilityType","handleCategoryChange","handleDepartmentChange","handleManagementChange","e","handleSubmit","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {\n  ListGroup,\n  ListGroupItem,\n  Row,\n  Col,\n  Form,\n  FormInput,\n  FormGroup,\n  FormCheckbox,\n  FormTextarea,\n  FormRadio,\n  Card,\n  CardHeader,\n  CardBody,\n  FormSelect,\n  Button\n} from \"shards-react\";\nimport Parse from 'parse';\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nimport Select from 'react-select';\n\nclass CreateCommiteeForm extends React.Component {\n\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: [],\n      departments: [],\n      members: [],\n      selectedRes: null,\n      required: false,\n      questionText: '',\n      committees: [{\"name\":\"\", \"email\": \"\" }],\n      category: 'Todas', \n      evaluationType: '',\n      value: '',\n      options: [],\n      selectedMembers: []\n    }\n  }\n\n  componentDidMount() {\n    this.fetchNewData();\n    this.fetchDepartments();\n    this.fetchCategoryData();\n  }\n\n  fetchNewData() {\n    const className = \"IdeaCategory\";\n\n    var ItemClass = Parse.Object.extend(className);\n    var query = new Parse.Query(ItemClass);\n\n    query.find()\n    .then((results) => {\n      console.log('RESULTS: ' + results);\n        this.setState({\n            data: results\n        });\n    }, (error) => {\n        this.setState({\n            data: []\n        });\n      // The object was not retrieved successfully.\n      // error is a Parse.Error with an error code and message.\n    });\n  }\n\n  fetchDepartments() {\n    const className = \"IdeaDepartment\";\n\n    var ItemClass = Parse.Object.extend(className);\n    var query = new Parse.Query(ItemClass);\n\n    query.find()\n    .then((results) => {\n      console.log('RESULTS: ' + results);\n        this.setState({\n            departments: results\n        });\n    }, (error) => {\n        this.setState({\n            departments: []\n        });\n      // The object was not retrieved successfully.\n      // error is a Parse.Error with an error code and message.\n    });\n  }\n\n  fetchCategoryData() {\n    const className = \"User\";\n\n    var ItemClass = Parse.Object.extend(className);\n    var query = new Parse.Query(ItemClass);\n    query.limit(1000)\n    query.ascending(\"firstName\").find()\n    .then((results) => {\n        const options = []\n        {\n            results.map((result, idx) => options.push({\"value\":result, \"label\":this.getFullName(result)}))\n        }\n        \n        this.setState({\n            options: options\n        });\n        // this.props.setResponsible(results[0], -1);\n    }, (error) => {\n        this.setState({\n            options: []\n        });\n      // The object was not retrieved successfully.\n      // error is a Parse.Error with an error code and message.\n    });\n  }\n\n  getFullName(result) {\n    if (result) {\n        return result.get(\"firstName\") + ' ' + result.get(\"lastName\");\n    }\n  }\n\n  handleCategoryChange(event) {\n    console.log(event.target.value);\n    this.setState({evaluationType: 'category', value: event.target.value});\n  }\n\n  handleDepartmentChange(event) {\n    console.log(event.target.value);\n    this.setState({evaluationType: 'department', value: event.target.value});\n  }\n\n  handleManagementChange(event) {\n    console.log(event.target.value);\n    this.setState({evaluationType: 'manage', value: event.target.value});\n  }\n\n  handleRequiredChange(event) {\n    console.log(event.target.value);\n    this.setState({required: !this.state.required});\n    // this.setState({value: this.props.value});\n  }\n\n  handleQuestionTextChange(event) {\n    console.log(event.target.value);\n    this.setState({questionText: event.target.value});\n    // this.setState({value: this.props.value});\n  }\n\n  handleMemberTextChange(idx, event) {\n    const {committees} = this.state;\n    const value = event.target.value;\n    const newCommittees = committees.slice()\n    newCommittees[idx].name = value\n    this.setState({committees: newCommittees});\n    // this.setState({value: this.props.value});\n  }\n\n  handleMemberEmailTextChange(idx, event) {\n    const {committees} = this.state;\n    const value = event.target.value;\n    const newCommittees = committees.slice()\n    newCommittees[idx].email= value\n    this.setState({committees: newCommittees});\n    // const newCommittees = committees.slice()\n    // newCommittees[idx].email = value\n    // this.setState({committees: newCommittees});\n  }\n\n  addMembers(members) {\n    // const { committees } = this.state;\n    // const oldComms = commitees; \n    // oldComms.push({\"name\":\" \", \"email\": \" \" });\n    console.log(members)\n  //   this.setState(prevState => ({\n  //     committees: prevState.committees.concat({\"name\":\" \", \"email\": \" \" })\n  // }));\n    this.setState({selectedMembers: members});\n    // this.setState({value: this.props.value});\n  }\n\n\n  resetForm() {\n    this.setState({\n      required: false,\n      questionText: '',\n      category: 'Todas',\n    });\n  }\n\n  handleSubmit(event) {\n    const {committees, value, evaluationType, questionText, selectedMembers} = this.state;\n\n    const className = \"EvaluationCommittee\";\n    const PropertyItem = Parse.Object.extend(className);\n    const newItem= new PropertyItem();\n    var parseObjs = []\n\n    if (evaluationType == '' || value == '' || '') {\n      alert('Por favor asegurese de escoger el respectivo metodo de evaluacion.');\n    } else {\n      newItem.set(\"members\", selectedMembers);\n      newItem.set(\"evaluationType\", evaluationType);\n      newItem.set(\"value\", value);\n      newItem.set(\"name\", questionText);\n      newItem.set(\"canDelete\", true);\n      Parse.Object.saveAll([newItem], {useMasterKey: true})\n      .then((item) => {\n      // Execute any logic that should take place after the object is saved.\n        if (evaluationType == 'manage') {\n            selectedMembers.forEach((obj) => {\n              const member = obj.value\n              if (member.get(\"role\") != 'super_user') {\n                const type = this.getType(value)\n\n                if (value == 'PMO') {\n                  member.set(\"pmo\", true);\n                }\n\n                member.set(\"role\", type);\n                parseObjs.push(member);\n              }\n              \n          });\n        } else {\n          selectedMembers.forEach((obj) => {\n            const member = obj.value\n            if (member.get(\"role\") != 'super_user') {\n\n              var evaluationCriteria = member.get(\"evaluationCriteria\")\n              evaluationCriteria.push(value)\n              member.set(\"role\", 'evaluation');\n              member.set(\"evaluationCriteria\", evaluationCriteria);\n              parseObjs.push(member);\n            }\n          });\n        }\n        Parse.Object.saveAll(parseObjs, {useMasterKey: true}).then(() => {\n          this.resetForm()\n          alert('¡La operacion fue exitosa!');\n        });\n        }, (error) => {\n          console.log(error)\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n    }\n  }\n\n  getType(value) {\n    switch(value) {\n      case 'Evaluación':\n        // code block\n        return 'evaluation'\n      case 'Verificación':\n        // code block\n        return 'verification'\n      case 'Reconocimiento':\n        // code block\n        return 'recognition'\n      case 'PMO':\n        // code block\n        return 'evaluation'\n      default:\n        // code block\n    }\n  }\n\n  changeResponsibilityType(responsibility) {\n    this.setState({\n      selectedRes: responsibility\n    });\n  }\n\n  render() {\n    const { required, questionText, category, data, committees, options, selectedMembers } = this.state;\n    const {t} = this.props\n    \n    return(\n      <Card small className=\"mb-3\">\n        <CardHeader className=\"border-bottom\">\n          <h6 className=\"m-0\">{t('EVAL_COMMITTEE_NEW')}</h6> \n        </CardHeader>\n        <CardBody className=\"p-0\">\n          <ListGroup flush>\n          <ListGroupItem className=\"p-3\">\n            <Row>\n              <Col>\n                <Form>\n                  <FormGroup>\n                    <label htmlFor=\"feInputAddress2\">{t('EVAL_COMMITTEE')}</label>\n                    <FormInput value={questionText} onChange={this.handleQuestionTextChange.bind(this)}\n                      id=\"feInputAddress2\"\n                      placeholder={t('EVAL_COMMITTEE_PLACEHOLDER')}\n                    />\n                  </FormGroup>\n                  \n                  <label htmlFor=\"feInputAddress2\">{t('EVAL_COMMITTEE_MEMBER')}</label>\n                  <Select\n                      value={selectedMembers}\n                      onChange={this.addMembers.bind(this)}\n                      isMulti\n                      options={options}\n                      placeholder={'Seleccione Empleados'}\n                      clearable={false}\n                  />\n\n                  {/* <Button onClick={e => this.addMembers()}>{t('EVAL_COMMITTEE_MEMBER_BTN')}</Button> */}\n                <Row>\n                    &nbsp;\n                    <Col md=\"12\" style={{zIndex: 0}}>\n                    <p className=\"mb-2\">{t('EVAL_COMMITTEE_TYPE_TITLE')}</p>\n          <FormRadio\n            inline\n            name=\"sport\"\n            checked={this.state.selectedRes === \"department\"}\n            onChange={() => {\n              this.changeResponsibilityType(\"department\");\n            }}\n          >\n            {t('EVAL_COMMITTEE_AREA')}\n          </FormRadio>\n          <FormRadio\n            inline\n            name=\"responsibility\"\n            checked={this.state.selectedRes === \"category\"}\n            onChange={() => {\n              this.changeResponsibilityType(\"category\");\n            }}\n          >\n            {t('EVAL_COMMITTEE_CLASSIFICATION')}\n          </FormRadio>\n          <FormRadio\n            inline\n            name=\"manage\"\n            checked={this.state.selectedRes === \"manage\"}\n            onChange={() => {\n              this.changeResponsibilityType(\"manage\");\n            }}\n          >\n            {t('EVAL_COMMITTEE_MANAGE')}\n          </FormRadio>\n          \n                    </Col>\n                    \n                </Row>\n                {this.state.selectedRes=='category'?\n                  <Row form>\n                    <Col md=\"12\" className=\"form-group\">\n                      <label htmlFor=\"feInputState\">{t('EVAL_COMMITTEE_CATEGORY')}</label>\n                      <FormSelect id=\"feInputState\" onChange={this.handleCategoryChange.bind(this)} value={this.state.value}>\n                        <option>Todas</option>\n                        { this.state.data.map((item, idx) => (\n                              // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                              //   {item.get(\"itemName\")}\n                              // </FormCheckbox>\n                              <option key={idx}>{item.get(\"itemName\")}</option>\n                          //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n                          ))}\n                      </FormSelect>\n                    </Col>\n                  </Row>:<div></div>}\n                  {this.state.selectedRes=='department'?\n                  <Row form>\n                    <Col md=\"12\" className=\"form-group\">\n                      <label htmlFor=\"feInputState\">{t('EVAL_COMMITTEE_DEPARTMENT')}</label>\n                      <FormSelect id=\"feInputState\" onChange={this.handleDepartmentChange.bind(this)} value={this.state.value}>\n                        <option>Todos</option>\n                        { this.state.departments.map((item, idx) => (\n                              // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                              //   {item.get(\"itemName\")}\n                              // </FormCheckbox>\n                              <option key={idx}>{item.get(\"itemName\")}</option>\n                          //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n                          ))}\n                      </FormSelect>\n                    </Col>\n                  </Row>:<div></div>}\n                  {this.state.selectedRes=='manage'?\n                  <Row form>\n                    <Col md=\"12\" className=\"form-group\">\n                      <label htmlFor=\"feInputState\">{t('EVAL_COMMITTEE_DEPARTMENT')}</label>\n                      <FormSelect id=\"feInputState\" onChange={this.handleManagementChange.bind(this)} value={this.state.value}>\n                        <option>Verificación</option>\n                        <option>Reconocimiento</option>\n                        <option>PMO</option>\n                      </FormSelect>\n                    </Col>\n                  </Row>:<div></div>}\n                  &nbsp;\n                        <Button onClick={e => this.handleSubmit(e)}>{t('EVAL_COMMITTEE_CREATE_COMMITTEE')}</Button>\n                </Form>\n              </Col>\n            </Row>\n          </ListGroupItem>\n        </ListGroup>\n      </CardBody>\n    </Card>\n    )\n  }\n}\n\nexport default withTranslation()(CreateCommiteeForm);\n"]},"metadata":{},"sourceType":"module"}