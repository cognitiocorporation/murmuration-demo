{"ast":null,"code":"import _classCallCheck from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/usr/local/lib/node_modules/react-scripts/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/ecommerce/LatestOrders.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Badge, Card, CardHeader, CardBody, CardFooter, Container, Row, Col, FormSelect, ButtonGroup, Button, InputGroup, InputGroupAddon, InputGroupText, FormInput, Form } from \"shards-react\";\nimport Chart from \"../../utils/chart\";\nimport colors from \"../../utils/colors\";\nimport SingleProgressChart from \"../analytics/GoalsOverview/SingleProgressChart\";\nimport Parse from 'parse';\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar storageLanguage = localStorage.getItem('language');\n\nvar LatestOrders = /*#__PURE__*/function (_React$Component) {\n  _inherits(LatestOrders, _React$Component);\n\n  var _super = _createSuper(LatestOrders);\n\n  function LatestOrders(props) {\n    var _this;\n\n    _classCallCheck(this, LatestOrders);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      ideas: [],\n      title: ''\n    };\n    return _this;\n  }\n\n  _createClass(LatestOrders, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchIdeas();\n    }\n  }, {\n    key: \"fetchIdeas\",\n    value: function fetchIdeas() {\n      var _this2 = this;\n\n      var className = \"Idea\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      var assignedIdeaQuery = new Parse.Query(ItemClass);\n      var currentUser = Parse.User.current();\n      var userId = currentUser.get(\"username\");\n      query.equalTo(\"proponent\", userId); // query\n\n      assignedIdeaQuery.equalTo(\"responsible\", currentUser);\n      var mainQuery = Parse.Query.or(query, assignedIdeaQuery);\n      mainQuery.descending(\"updatedAt\");\n      mainQuery.find().then(function (results) {\n        _this2.setState({\n          ideas: results\n        });\n      }, function (error) {\n        alert('Hubo un error en la busca. Favor de tratar luego.'); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n      });\n    }\n  }, {\n    key: \"showModal\",\n    value: function showModal(item) {\n      console.log(item);\n      this.props.onEvalBtnPress(item);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          ideas = _this$state.ideas,\n          title = _this$state.title;\n      var t = this.props.t;\n      return /*#__PURE__*/_jsxDEV(Card, {\n        small: true,\n        className: \"lo-stats h-100\",\n        children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n          className: \"border-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"m-0\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"block-handle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n          className: \"p-0\",\n          children: /*#__PURE__*/_jsxDEV(Container, {\n            fluid: true,\n            className: \"px-0\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"table mb-0\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"py-2 bg-light text-semibold border-bottom\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-left\",\n                    children: t(\"IDEA_MANAGE_NUM\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: t(\"IDEA_MANAGE_TITLE\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: t(\"IDEA_MANAGE_CAT\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 96,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: t(\"IDEA_MANAGE_PROG\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-center\",\n                    children: t(\"IDEA_MANAGE_STATUS\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"text-right\",\n                    children: t(\"IDEA_UPDATE_VIEW\")\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 19\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: ideas.map(function (item, idx) {\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"lo-stats__total text-center\",\n                      children: item.get(\"num\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 105,\n                      columnNumber: 21\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"lo-stats__items text-center\",\n                      children: item.get(\"title\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 108,\n                      columnNumber: 21\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"lo-stats__total text-center text-success\",\n                      children: item.get(\"category\")\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 109,\n                      columnNumber: 21\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      children: /*#__PURE__*/_jsxDEV(SingleProgressChart, {\n                        idea: getProgressChart(item.get(\"progress\"))\n                      }, idx, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 112,\n                        columnNumber: 25\n                      }, _this3)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 112,\n                      columnNumber: 21\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"lo-stats__status\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"d-table mx-auto\",\n                        children: /*#__PURE__*/_jsxDEV(Badge, {\n                          pill: true,\n                          theme: getBadgeType(item.get(\"status\")),\n                          children: item.get(\"status\")\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 115,\n                          columnNumber: 25\n                        }, _this3)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 114,\n                        columnNumber: 23\n                      }, _this3)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 113,\n                      columnNumber: 21\n                    }, _this3), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"lo-stats__actions \",\n                      children: /*#__PURE__*/_jsxDEV(ButtonGroup, {\n                        className: \"d-table ml-auto\",\n                        children: /*#__PURE__*/_jsxDEV(Button, {\n                          size: \"sm\",\n                          theme: \"white\",\n                          onClick: function onClick() {\n                            return _this3.showModal(item);\n                          },\n                          children: /*#__PURE__*/_jsxDEV(\"i\", {\n                            className: \"material-icons\",\n                            children: \"visibility\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 123,\n                            columnNumber: 27\n                          }, _this3)\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 122,\n                          columnNumber: 25\n                        }, _this3)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 23\n                      }, _this3)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 120,\n                      columnNumber: 21\n                    }, _this3)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 19\n                  }, _this3);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(CardFooter, {\n          className: \"border-top\",\n          children: /*#__PURE__*/_jsxDEV(Row, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return LatestOrders;\n}(React.Component); // const LatestOrders = ({ title, latestOrdersData }) => (\n//   <Card small className=\"lo-stats h-100\">\n//     <CardHeader className=\"border-bottom\">\n//       <h6 className=\"m-0\">{title}</h6>\n//       <div className=\"block-handle\" />\n//       {/* INSERT SEARCH HERE */}\n//     </CardHeader>\n//     <CardBody className=\"p-0\">\n//       <Container fluid className=\"px-0\">\n//         <table className=\"table mb-0\">\n//           <thead className=\"py-2 bg-light text-semibold border-bottom\">\n//             <tr>\n//               <th>Num. de Idea</th>\n//               <th className=\"text-center\">Nombre del Proceso</th>\n//               <th className=\"text-center\">Proponente</th>\n//               <th className=\"text-center\">Progreso</th>\n//               <th className=\"text-center\">Status</th>\n//               <th className=\"text-right\">Acciones</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {latestOrdersData.map((item, idx) => (\n//               <tr key={idx}>\n//                 <td className=\"lo-stats__order-details\">\n//                   {item.id}\n//                 </td>\n//                 <td className=\"lo-stats__total text-center text-success\">\n//                   {item.total}\n//                 </td>\n//                 <td className=\"lo-stats__items text-center\">{item.items}</td>\n//                 <td><SingleProgressChart key={idx} idea={item}/></td>\n//                 <td className=\"lo-stats__status\">\n//                   <div className=\"d-table mx-auto\">\n//                     <Badge pill theme={getBadgeType(item.status)}>\n//                       {item.status}\n//                     </Badge>\n//                   </div>\n//                 </td>\n//                 <td className=\"lo-stats__actions\">\n//                   <ButtonGroup className=\"d-table ml-auto\">\n//                     <Button size=\"sm\" theme=\"white\">\n//                       View\n//                     </Button>\n//                   </ButtonGroup>\n//                 </td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       </Container>\n//     </CardBody>\n//     <CardFooter className=\"border-top\">\n//       <Row>\n//         {/* Time Span */}\n//         <Col>\n//           <FormSelect\n//             size=\"sm\"\n//             value=\"last-week\"\n//             style={{ maxWidth: \"130px\" }}\n//             onChange={() => {}}\n//           >\n//             <option value=\"last-week\">Last Week</option>\n//             <option value=\"today\">Today</option>\n//             <option value=\"last-month\">Last Month</option>\n//             <option value=\"last-year\">Last Year</option>\n//           </FormSelect>\n//         </Col>\n//         {/* View Full Report */}\n//         <Col className=\"text-right view-report\">\n//           {/* eslint-disable-next-line */}\n//           <a href=\"#\">View full report &rarr;</a>\n//         </Col>\n//       </Row>\n//     </CardFooter>\n//   </Card>\n// );\n\n/**\n * Returns the badge type for a specific\n */\n\n\nfunction getBadgeType(itemStatus) {\n  var statusMap = {\n    Complete: \"success\",\n    Saved: \"warning\",\n    Canceled: \"danger\"\n  };\n  return statusMap[itemStatus];\n}\n\nfunction getProgressChart(itemProgress) {\n  var progressString = itemProgress[0] + \"%\";\n  var progressChart = {\n    data: {\n      conversionRate: progressString,\n      datasets: [{\n        hoverBorderColor: \"#fff\",\n        data: itemProgress,\n        backgroundColor: [colors.primary.toRGBA(0.9), colors.athensGray.toRGBA(0.8)]\n      }],\n      labels: [\"Label 1\", \"Label 2\"]\n    }\n  };\n  return progressChart;\n} // function \n// LatestOrders.propTypes = {\n//   /**\n//    * The component's title.\n//    */\n//   title: PropTypes.string,\n//   /**\n//    * The latest orders data.\n//    */\n//   latestOrdersData: PropTypes.array\n// };\n// LatestOrders.defaultProps = {\n//   title: \"Lista de IDEA\",\n//   latestOrdersData: [\n//     {\n//       id: \"#000001\",\n//       date: \"3/15/2019 9:30AM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Manufactura\", \n//       conversionRate: \"75%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [75, 25],\n//             backgroundColor: [\n//               colors.primary.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     },\n//     {\n//       id: \"#000002\",\n//       date: \"3/21/2019 10:00AM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Produccion\",\n//       conversionRate: \"50%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [50, 50],\n//             backgroundColor: [\n//               colors.warning.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     },\n//     {\n//       id: \"#000003\",\n//       date: \"3/22/2019 5:00PM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Calidad\",\n//       conversionRate: \"50%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [50, 50],\n//             backgroundColor: [\n//               colors.warning.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     },\n//     {\n//       id: \"#000004\",\n//       date: \"5/28/2019 2:00PM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Seguridad\",\n//       conversionRate: \"25%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [25, 75],\n//             backgroundColor: [\n//               colors.salmon.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     }\n//   ]\n// };\n\n\nexport default withTranslation()(LatestOrders);","map":{"version":3,"sources":["/Users/angelvazquez/Dropbox/My Mac (Angels-MacBook-Pro-4.local)/Documents/Projects/Murmuration - 10:04:2021/src/components/ecommerce/LatestOrders.js"],"names":["React","PropTypes","Badge","Card","CardHeader","CardBody","CardFooter","Container","Row","Col","FormSelect","ButtonGroup","Button","InputGroup","InputGroupAddon","InputGroupText","FormInput","Form","Chart","colors","SingleProgressChart","Parse","useTranslation","initReactI18next","withTranslation","storageLanguage","localStorage","getItem","LatestOrders","props","state","ideas","title","fetchIdeas","className","ItemClass","Object","extend","query","Query","assignedIdeaQuery","currentUser","User","current","userId","get","equalTo","mainQuery","or","descending","find","then","results","setState","error","alert","item","console","log","onEvalBtnPress","t","map","idx","getProgressChart","getBadgeType","showModal","Component","itemStatus","statusMap","Complete","Saved","Canceled","itemProgress","progressString","progressChart","data","conversionRate","datasets","hoverBorderColor","backgroundColor","primary","toRGBA","athensGray","labels"],"mappings":"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ACA;AACA;;AAEA;AACA;AACA;;;AACA,SAASF,YAAT,CAAsBG,UAAtB,EAAkC;AAChC,MAAMC,SAAS,GAAG;AAChBC,IAAAA,QAAQ,EAAE,SADM;AAEhBC,IAAAA,KAAK,EAAE,SAFS;AAGhBC,IAAAA,QAAQ,EAAE;AAHM,GAAlB;AAMA,SAAOH,SAAS,CAACD,UAAD,CAAhB;AACD;;AAED,SAASJ,gBAAT,CAA0BS,YAA1B,EAAwC;AACtC,MAAMC,cAAc,GAAGD,YAAY,CAAC,CAAD,CAAZ,GAAkB,GAAzC;AACA,MAAME,aAAa,GAAG;AACpBC,IAAAA,IAAI,EAAE;AACJC,MAAAA,cAAc,EAAEH,cADZ;AAEJI,MAAAA,QAAQ,EAAE,CACR;AACEC,QAAAA,gBAAgB,EAAE,MADpB;AAEEH,QAAAA,IAAI,EAAEH,YAFR;AAGEO,QAAAA,eAAe,EAAE,CACf5D,MAAM,CAAC6D,OAAP,CAAeC,MAAf,CAAsB,GAAtB,CADe,EAEf9D,MAAM,CAAC+D,UAAP,CAAkBD,MAAlB,CAAyB,GAAzB,CAFe;AAHnB,OADQ,CAFN;AAYJE,MAAAA,MAAM,EAAE,CAAC,SAAD,EAAY,SAAZ;AAZJ;AADc,GAAtB;AAiBA,SAAOT,aAAP;AACD,C,CAED;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAelD,eAAe,GAAGI,YAAH,CAA9B","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {\n  Badge,\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Container,\n  Row,\n  Col,\n  FormSelect,\n  ButtonGroup,\n  Button,\n  InputGroup,\n  InputGroupAddon, \n  InputGroupText, \n  FormInput,\n  Form,\n} from \"shards-react\";\nimport Chart from \"../../utils/chart\";\nimport colors from \"../../utils/colors\";\nimport SingleProgressChart from \"../analytics/GoalsOverview/SingleProgressChart\";\nimport Parse from 'parse';\n\nimport { useTranslation, initReactI18next, withTranslation } from \"react-i18next\";\nconst storageLanguage = localStorage.getItem('language');\n\nclass LatestOrders extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      ideas:[],\n      title:''\n    }\n  }\n\n  componentDidMount() {\n    this.fetchIdeas();\n  }\n\n  fetchIdeas() {\n    const className = \"Idea\";\n\n    var ItemClass = Parse.Object.extend(className);\n    var query = new Parse.Query(ItemClass);\n    var assignedIdeaQuery =  new Parse.Query(ItemClass);\n\n    const currentUser = Parse.User.current();\n    const userId = currentUser.get(\"username\");\n\n    query.equalTo(\"proponent\", userId);\n    // query\n    assignedIdeaQuery.equalTo(\"responsible\", currentUser);\n\n    var mainQuery = Parse.Query.or(query, assignedIdeaQuery);\n\n    mainQuery.descending(\"updatedAt\");\n\n    mainQuery.find()\n    .then((results) => {\n        this.setState({\n            ideas: results\n        });\n    }, (error) => {\n      alert('Hubo un error en la busca. Favor de tratar luego.');\n      // The object was not retrieved successfully.\n      // error is a Parse.Error with an error code and message.\n    });\n  }\n\n  showModal(item) {\n    console.log(item);\n    this.props.onEvalBtnPress(item);\n  }\n\n  render() {\n    const {ideas, title} = this.state;\n    const { t } = this.props;\n    return(\n      <Card small className=\"lo-stats h-100\">\n        <CardHeader className=\"border-bottom\">\n          <h6 className=\"m-0\">{title}</h6>\n          <div className=\"block-handle\" />\n          {/* INSERT SEARCH HERE */}\n        </CardHeader>\n\n        <CardBody className=\"p-0\">\n          <Container fluid className=\"px-0\">\n            <table className=\"table mb-0\">\n              <thead className=\"py-2 bg-light text-semibold border-bottom\">\n                <tr>\n                  <th className=\"text-left\">{t(\"IDEA_MANAGE_NUM\")}</th>\n                  <th className=\"text-center\">{t(\"IDEA_MANAGE_TITLE\")}</th>\n                  <th className=\"text-center\">{t(\"IDEA_MANAGE_CAT\")}</th>\n                  <th className=\"text-center\">{t(\"IDEA_MANAGE_PROG\")}</th>\n                  <th className=\"text-center\">{t(\"IDEA_MANAGE_STATUS\")}</th>\n                  <th className=\"text-right\">{t(\"IDEA_UPDATE_VIEW\")}</th>\n                </tr>\n              </thead>\n              <tbody>\n                {ideas.map((item, idx) => (\n                  <tr key={idx}>\n                    <td className=\"lo-stats__total text-center\">\n                      {item.get(\"num\")}\n                    </td>\n                    <td className=\"lo-stats__items text-center\">{item.get(\"title\")}</td>\n                    <td className=\"lo-stats__total text-center text-success\">\n                    {item.get(\"category\")}\n                    </td>\n                    <td><SingleProgressChart key={idx} idea={getProgressChart(item.get(\"progress\"))}/></td>\n                    <td className=\"lo-stats__status\">\n                      <div className=\"d-table mx-auto\">\n                        <Badge pill theme={getBadgeType(item.get(\"status\"))}>\n                          {item.get(\"status\")}\n                        </Badge>\n                      </div>\n                    </td>\n                    <td className=\"lo-stats__actions \">\n                      <ButtonGroup className=\"d-table ml-auto\">\n                        <Button size=\"sm\" theme=\"white\" onClick={() => this.showModal(item)}>\n                          <i className=\"material-icons\">visibility</i>\n                        </Button>\n                      </ButtonGroup>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </Container>\n        </CardBody>\n\n        <CardFooter className=\"border-top\">\n          <Row>\n            {/* Time Span */}\n            {/* <Col>\n              <FormSelect\n                size=\"sm\"\n                value=\"last-week\"\n                style={{ maxWidth: \"130px\" }}\n                onChange={() => {}}\n              >\n                <option value=\"last-week\">Last Week</option>\n                <option value=\"today\">Today</option>\n                <option value=\"last-month\">Last Month</option>\n                <option value=\"last-year\">Last Year</option>\n              </FormSelect>\n            </Col> */}\n\n            {/* View Full Report */}\n            {/* <Col className=\"text-right view-report\">\n              \n              <a href=\"#\">View full report &rarr;</a>\n            </Col> */}\n          </Row>\n        </CardFooter>\n      </Card>\n    )\n  }\n}\n\n// const LatestOrders = ({ title, latestOrdersData }) => (\n  \n//   <Card small className=\"lo-stats h-100\">\n//     <CardHeader className=\"border-bottom\">\n//       <h6 className=\"m-0\">{title}</h6>\n//       <div className=\"block-handle\" />\n//       {/* INSERT SEARCH HERE */}\n//     </CardHeader>\n\n//     <CardBody className=\"p-0\">\n//       <Container fluid className=\"px-0\">\n//         <table className=\"table mb-0\">\n//           <thead className=\"py-2 bg-light text-semibold border-bottom\">\n//             <tr>\n//               <th>Num. de Idea</th>\n//               <th className=\"text-center\">Nombre del Proceso</th>\n//               <th className=\"text-center\">Proponente</th>\n//               <th className=\"text-center\">Progreso</th>\n//               <th className=\"text-center\">Status</th>\n//               <th className=\"text-right\">Acciones</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {latestOrdersData.map((item, idx) => (\n//               <tr key={idx}>\n//                 <td className=\"lo-stats__order-details\">\n//                   {item.id}\n//                 </td>\n//                 <td className=\"lo-stats__total text-center text-success\">\n//                   {item.total}\n//                 </td>\n//                 <td className=\"lo-stats__items text-center\">{item.items}</td>\n//                 <td><SingleProgressChart key={idx} idea={item}/></td>\n//                 <td className=\"lo-stats__status\">\n//                   <div className=\"d-table mx-auto\">\n//                     <Badge pill theme={getBadgeType(item.status)}>\n//                       {item.status}\n//                     </Badge>\n//                   </div>\n//                 </td>\n//                 <td className=\"lo-stats__actions\">\n//                   <ButtonGroup className=\"d-table ml-auto\">\n//                     <Button size=\"sm\" theme=\"white\">\n//                       View\n//                     </Button>\n//                   </ButtonGroup>\n//                 </td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       </Container>\n//     </CardBody>\n\n//     <CardFooter className=\"border-top\">\n//       <Row>\n//         {/* Time Span */}\n//         <Col>\n//           <FormSelect\n//             size=\"sm\"\n//             value=\"last-week\"\n//             style={{ maxWidth: \"130px\" }}\n//             onChange={() => {}}\n//           >\n//             <option value=\"last-week\">Last Week</option>\n//             <option value=\"today\">Today</option>\n//             <option value=\"last-month\">Last Month</option>\n//             <option value=\"last-year\">Last Year</option>\n//           </FormSelect>\n//         </Col>\n\n//         {/* View Full Report */}\n//         <Col className=\"text-right view-report\">\n//           {/* eslint-disable-next-line */}\n//           <a href=\"#\">View full report &rarr;</a>\n//         </Col>\n//       </Row>\n//     </CardFooter>\n//   </Card>\n// );\n\n/**\n * Returns the badge type for a specific\n */\nfunction getBadgeType(itemStatus) {\n  const statusMap = {\n    Complete: \"success\",\n    Saved: \"warning\",\n    Canceled: \"danger\"\n  };\n\n  return statusMap[itemStatus];\n}\n\nfunction getProgressChart(itemProgress) {\n  const progressString = itemProgress[0] + \"%\";\n  const progressChart = {\n    data: {\n      conversionRate: progressString,\n      datasets: [\n        {\n          hoverBorderColor: \"#fff\",\n          data: itemProgress,\n          backgroundColor: [\n            colors.primary.toRGBA(0.9),\n            colors.athensGray.toRGBA(0.8)\n          ]\n        }\n      ],\n      labels: [\"Label 1\", \"Label 2\"]\n    }\n  };\n\n  return progressChart;\n}\n\n// function \n\n// LatestOrders.propTypes = {\n//   /**\n//    * The component's title.\n//    */\n//   title: PropTypes.string,\n\n//   /**\n//    * The latest orders data.\n//    */\n//   latestOrdersData: PropTypes.array\n// };\n\n// LatestOrders.defaultProps = {\n//   title: \"Lista de IDEA\",\n//   latestOrdersData: [\n//     {\n//       id: \"#000001\",\n//       date: \"3/15/2019 9:30AM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Manufactura\", \n//       conversionRate: \"75%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [75, 25],\n//             backgroundColor: [\n//               colors.primary.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     },\n//     {\n//       id: \"#000002\",\n//       date: \"3/21/2019 10:00AM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Produccion\",\n//       conversionRate: \"50%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [50, 50],\n//             backgroundColor: [\n//               colors.warning.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     },\n//     {\n//       id: \"#000003\",\n//       date: \"3/22/2019 5:00PM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Calidad\",\n//       conversionRate: \"50%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [50, 50],\n//             backgroundColor: [\n//               colors.warning.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     },\n//     {\n//       id: \"#000004\",\n//       date: \"5/28/2019 2:00PM\",\n//       status: \"Just do It\",\n//       items: \"Sierra Brooks\",\n//       total: \"Seguridad\",\n//       conversionRate: \"25%\",\n//       data: {\n//         datasets: [\n//           {\n//             hoverBorderColor: \"#fff\",\n//             data: [25, 75],\n//             backgroundColor: [\n//               colors.salmon.toRGBA(0.9),\n//               colors.athensGray.toRGBA(0.8)\n//             ]\n//           }\n//         ],\n//         labels: [\"Label 1\", \"Label 2\"]\n//       }\n//     }\n//   ]\n// };\n\nexport default withTranslation()(LatestOrders);\n"]},"metadata":{},"sourceType":"module"}