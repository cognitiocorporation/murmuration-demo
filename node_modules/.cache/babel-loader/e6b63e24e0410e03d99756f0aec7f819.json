{"ast":null,"code":"import _classCallCheck from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/angelvazquez/Desktop/murmuration-demo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/angelvazquez/Desktop/murmuration-demo/src/components/administration/IdeaFilterManager.js\";\nimport React, { Component } from \"react\";\nimport { Card, CardHeader, CardBody, ListGroup, ListGroupItem, Button, InputGroup, InputGroupAddon, InputGroupText, FormCheckbox, FormTextarea, FormSelect, Container, Col, Row, Form, FormGroup, FormInput } from \"shards-react\";\nimport Parse from 'parse';\nimport { withTranslation } from 'react-i18next';\n\nvar IdeaFilterManager = /*#__PURE__*/function (_Component) {\n  _inherits(IdeaFilterManager, _Component);\n\n  function IdeaFilterManager(props) {\n    var _this;\n\n    _classCallCheck(this, IdeaFilterManager);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(IdeaFilterManager).call(this, props));\n    _this.state = {\n      /* initial state */\n      data: [],\n      statusData: [],\n      newItem: '',\n      searchString: '',\n      category: '',\n      status: '',\n      ideaType: '',\n      ideaQuestions: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleToggle = _this.handleToggle.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(IdeaFilterManager, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        newItem: event.target.value\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchNewData(\"IdeaCategory\");\n      this.fetchNewData(\"IdeaStatus\");\n      this.fetchQuestions();\n    }\n  }, {\n    key: \"fetchQuestions\",\n    value: function fetchQuestions() {\n      var _this2 = this;\n\n      var className = \"IdeaQuestion\";\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n      query.equalTo(\"field\", false);\n      query.find().then(function (results) {\n        // console.log(results);\n        _this2.setState({\n          ideaQuestions: results\n        });\n      }, function (error) {\n        _this2.setState({\n          ideaQuestions: []\n        }); // The object was not retrieved successfully.\n        // error is a Parse.Error with an error code and message.\n\n      });\n    }\n  }, {\n    key: \"fetchNewData\",\n    value: function fetchNewData(myClassName) {\n      var _this3 = this;\n\n      var className = myClassName;\n      var ItemClass = Parse.Object.extend(className);\n      var query = new Parse.Query(ItemClass);\n\n      if (myClassName == \"IdeaCategory\") {\n        query.find().then(function (results) {\n          console.log('RESULTS: ' + results);\n\n          _this3.setState({\n            data: results\n          });\n        }, function (error) {\n          _this3.setState({\n            data: []\n          }); // The object was not retrieved successfully.\n          // error is a Parse.Error with an error code and message.\n\n        });\n      } else {\n        query.find().then(function (results) {\n          console.log('RESULTS: ' + results);\n\n          _this3.setState({\n            statusData: results\n          });\n        }, function (error) {\n          _this3.setState({\n            statusData: []\n          }); // The object was not retrieved successfully.\n          // error is a Parse.Error with an error code and message.\n\n        });\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this4 = this;\n\n      var className = this.props.className;\n      var PropertyItem = Parse.Object.extend(className);\n      var newItem = new PropertyItem();\n      newItem.set(\"itemName\", this.state.newItem);\n\n      if (className == \"IdeaCategory\") {\n        newItem.set(\"show\", false);\n      }\n\n      newItem.save().then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this4.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"handleToggle\",\n    value: function handleToggle(item) {\n      var _this5 = this;\n\n      var className = this.props.className;\n      console.log('clicked');\n\n      if (className == \"IdeaCategory\" || className == \"IdeaDepartment\") {\n        console.log(item);\n        var isShowing = item.get(\"show\");\n        item.set(\"show\", !isShowing);\n        item.save().then(function (item) {\n          // Now let's update it with some new data. In this case, only cheatMode and score\n          // will get sent to the cloud. playerName hasn't changed.\n          _this5.fetchNewData();\n        });\n      }\n    }\n  }, {\n    key: \"deleteItem\",\n    value: function deleteItem(item) {\n      var _this6 = this;\n\n      item.destroy({}).then(function (item) {\n        // Execute any logic that should take place after the object is saved.\n        _this6.fetchNewData();\n\n        alert('¡La operacion fue exitosa!');\n      }, function (error) {\n        // Execute any logic that should take place if the save fails.\n        // error is a Parse.Error with an error code and message.\n        alert('Hubo un error en la operacion: ' + error.message);\n      });\n    }\n  }, {\n    key: \"handleSearchTextChange\",\n    value: function handleSearchTextChange() {}\n  }, {\n    key: \"handleCategoryChange\",\n    value: function handleCategoryChange(event) {\n      console.log(event.target.value);\n      var newCat = event.target.value;\n      this.props.onCategoryChange(newCat);\n      this.setState({\n        category: newCat\n      });\n    }\n  }, {\n    key: \"handleStatusChange\",\n    value: function handleStatusChange(event) {\n      console.log(event.target.value);\n      var newStat = event.target.value == 'Sometidas' ? 'SOMETIDA' : event.target.value;\n      this.props.onStatusChange(newStat);\n      this.setState({\n        status: newStat\n      });\n    }\n  }, {\n    key: \"handleTypeChange\",\n    value: function handleTypeChange(event) {\n      console.log(event.target.value);\n      var newType = event.target.value == 'Todas' ? 'Todas' : event.target.value;\n      this.props.onTypeChange(newType.toLowerCase());\n      this.setState({\n        ideaType: newType\n      });\n    }\n  }, {\n    key: \"handleQuestionChange\",\n    value: function handleQuestionChange(event) {\n      // console.log(event.target.value);\n      var newType = event.target.value == 'Todas' ? 'Todas' : event.target.value;\n      this.props.onQuestionChange(newType); // this.setState({\n      //   ideaType: newType\n      // });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var _this$state = this.state,\n          searchString = _this$state.searchString,\n          category = _this$state.category,\n          status = _this$state.status,\n          ideaType = _this$state.ideaType,\n          ideaQuestions = _this$state.ideaQuestions;\n      var t = this.props.t;\n      var storageLanguage = localStorage.getItem('language');\n      return /*#__PURE__*/React.createElement(Card, {\n        small: true,\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(CardHeader, {\n        className: \"border-bottom\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"m-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 17\n        }\n      }, t(\"IDEA_MANAGE_FILTERS\"))), /*#__PURE__*/React.createElement(CardBody, {\n        className: \"p-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        flush: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        className: \"p-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_CATS\")), /*#__PURE__*/React.createElement(FormSelect, {\n        id: \"feInputState\",\n        onChange: this.handleCategoryChange.bind(this),\n        value: category,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 37\n        }\n      }, \"All\"), this.state.data.map(function (item, idx) {\n        return (\n          /*#__PURE__*/\n          // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n          //   {item.get(\"itemName\")}\n          // </FormCheckbox>\n          React.createElement(\"option\", {\n            value: item.get(\"itemNameTrans\")[\"es\"],\n            key: idx,\n            __self: _this7,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 41\n            }\n          }, item.get(\"itemNameTrans\")[storageLanguage]) //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n\n        );\n      })))))), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        form: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        md: \"12\",\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 33\n        }\n      }, t(\"IDEA_MANAGE_STATUS\")), /*#__PURE__*/React.createElement(FormSelect, {\n        id: \"feInputState\",\n        onChange: this.handleStatusChange.bind(this),\n        value: status,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 37\n        }\n      }, t('FILTER_ALL')), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 37\n        }\n      }, t('FILTER_SUBMITTED')), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 37\n        }\n      }, t('FILTER_DONE'))))))), /*#__PURE__*/React.createElement(Col, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"feInputState\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 25\n        }\n      }, t(\"IDEA_MANAGE_TYPES\")), /*#__PURE__*/React.createElement(FormSelect, {\n        id: \"feInputState\",\n        onChange: this.handleTypeChange.bind(this),\n        value: ideaType,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 37\n        }\n      }, t('FILTER_ALL')), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 37\n        }\n      }, t('FILTER_INNOVATION')), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 37\n        }\n      }, t('FILTER_PROBLEM_F'))))))))));\n    }\n  }]);\n\n  return IdeaFilterManager;\n}(Component); // PropertyManager.defaultProps = {\n//   title: \"Categorias\"\n// };\n\n\nexport default withTranslation()(IdeaFilterManager);","map":{"version":3,"sources":["/Users/angelvazquez/Desktop/murmuration-demo/src/components/administration/IdeaFilterManager.js"],"names":["React","Component","Card","CardHeader","CardBody","ListGroup","ListGroupItem","Button","InputGroup","InputGroupAddon","InputGroupText","FormCheckbox","FormTextarea","FormSelect","Container","Col","Row","Form","FormGroup","FormInput","Parse","withTranslation","IdeaFilterManager","props","state","data","statusData","newItem","searchString","category","status","ideaType","ideaQuestions","handleChange","bind","handleSubmit","handleToggle","event","setState","target","value","fetchNewData","fetchQuestions","className","ItemClass","Object","extend","query","Query","equalTo","find","then","results","error","myClassName","console","log","PropertyItem","set","save","item","alert","message","isShowing","get","destroy","newCat","onCategoryChange","newStat","onStatusChange","newType","onTypeChange","toLowerCase","onQuestionChange","t","storageLanguage","localStorage","getItem","handleCategoryChange","map","idx","handleStatusChange","handleTypeChange"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  ListGroup,\n  ListGroupItem,\n  Button,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  FormCheckbox,\n  FormTextarea,\n  FormSelect,\n  Container,\n  Col,\n  Row,\n  Form, \n  FormGroup,\n\n  FormInput\n} from \"shards-react\";\nimport Parse from 'parse';\nimport { withTranslation } from 'react-i18next';\n\n\nclass IdeaFilterManager extends Component {\n    \n    constructor(props) {\n        super(props);\n\n        this.state = { \n            /* initial state */ \n            data:[],\n            statusData:[],\n            newItem:'',\n            searchString:'',\n            category:'',\n            status:'',\n            ideaType: '',\n            ideaQuestions:[]\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleToggle = this.handleToggle.bind(this);\n      }\n\n      handleChange(event) {\n        this.setState({newItem: event.target.value});\n      }\n\n      componentDidMount() {\n        this.fetchNewData(\"IdeaCategory\");\n        this.fetchNewData(\"IdeaStatus\");\n        this.fetchQuestions();\n      }\n\n      fetchQuestions() {\n        const className = \"IdeaQuestion\";\n  \n        var ItemClass = Parse.Object.extend(className);\n        var query = new Parse.Query(ItemClass);\n        query.equalTo(\"field\", false);\n        query.find()\n        .then((results) => {\n          // console.log(results);\n            this.setState({\n                ideaQuestions: results\n            });\n        }, (error) => {\n            this.setState({\n                ideaQuestions: []\n            });\n          // The object was not retrieved successfully.\n          // error is a Parse.Error with an error code and message.\n        });\n      }\n\n      fetchNewData(myClassName) {\n        const className = myClassName;\n\n        var ItemClass = Parse.Object.extend(className);\n        var query = new Parse.Query(ItemClass);\n\n        if (myClassName == \"IdeaCategory\") {\n            query.find()\n            .then((results) => {\n            console.log('RESULTS: ' + results);\n                this.setState({\n                    data: results\n                });\n            }, (error) => {\n                this.setState({\n                    data: []\n                });\n            // The object was not retrieved successfully.\n            // error is a Parse.Error with an error code and message.\n            });\n        } else {\n            query.find()\n            .then((results) => {\n            console.log('RESULTS: ' + results);\n                this.setState({\n                    statusData: results\n                });\n            }, (error) => {\n                this.setState({\n                    statusData: []\n                });\n            // The object was not retrieved successfully.\n            // error is a Parse.Error with an error code and message.\n            });\n        }\n      }\n\n      handleSubmit(event) {\n        const className = this.props.className;\n        const PropertyItem = Parse.Object.extend(className);\n        const newItem= new PropertyItem();\n        \n        newItem.set(\"itemName\", this.state.newItem);\n\n        if (className == \"IdeaCategory\") {\n          newItem.set(\"show\", false);\n        }\n        \n        newItem.save()\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n\n      handleToggle(item) {\n        const className = this.props.className;\n        console.log('clicked');\n        if (className == \"IdeaCategory\" || className == \"IdeaDepartment\") {\n          console.log(item);\n          const isShowing = item.get(\"show\");\n          item.set(\"show\", !isShowing);\n          item.save().then((item) => {\n            // Now let's update it with some new data. In this case, only cheatMode and score\n            // will get sent to the cloud. playerName hasn't changed.\n            this.fetchNewData();\n          });\n        } \n      }\n\n      deleteItem(item) {\n        item.destroy({})\n        .then((item) => {\n        // Execute any logic that should take place after the object is saved.\n          this.fetchNewData();\n          alert('¡La operacion fue exitosa!');\n        }, (error) => {\n          // Execute any logic that should take place if the save fails.\n          // error is a Parse.Error with an error code and message.\n          alert('Hubo un error en la operacion: ' + error.message);\n        });\n      }\n\n      handleSearchTextChange() {\n          \n      }\n      \n\n      handleCategoryChange(event) {\n          console.log(event.target.value);\n          const newCat = event.target.value;\n          this.props.onCategoryChange(newCat);\n          this.setState({\n            category: newCat\n        });\n      }\n\n      handleStatusChange(event) {\n        console.log(event.target.value);\n\n        var newStat = event.target.value == 'Sometidas'?'SOMETIDA':event.target.value;\n\n        this.props.onStatusChange(newStat);\n        this.setState({\n          status: newStat\n      });\n    }\n\n    handleTypeChange(event) {\n      console.log(event.target.value);\n\n      var newType = event.target.value == 'Todas'?'Todas':event.target.value;\n\n      this.props.onTypeChange(newType.toLowerCase());\n      this.setState({\n        ideaType: newType\n    });\n    }\n\n    handleQuestionChange(event) {\n      // console.log(event.target.value);\n\n      var newType = event.target.value == 'Todas'?'Todas':event.target.value;\n\n      this.props.onQuestionChange(newType);\n      // this.setState({\n      //   ideaType: newType\n      // });\n    }\n\n\n      render() {\n          const { searchString, category, status, ideaType, ideaQuestions } = this.state;\n          const { t } = this.props;\n          const storageLanguage = localStorage.getItem('language');\n          return(\n            <Card small className=\"mb-3\">\n                <CardHeader className=\"border-bottom\">\n                <h6 className=\"m-0\">{t(\"IDEA_MANAGE_FILTERS\")}</h6>\n                </CardHeader>\n                <CardBody className=\"p-0\">\n                <ListGroup flush>\n                <ListGroupItem className=\"p-3\">\n                    <Row>\n                    <Col>\n                        <Form>\n                        <Row form>\n                                <Col md=\"12\" className=\"form-group\">\n                                <label htmlFor=\"feInputState\">{t(\"IDEA_MANAGE_CATS\")}</label>\n                                <FormSelect id=\"feInputState\" onChange={this.handleCategoryChange.bind(this)} value={category}>\n                                    <option>All</option>\n                                    { this.state.data.map((item, idx) => (\n                                        // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                                        //   {item.get(\"itemName\")}\n                                        // </FormCheckbox>\n                                        <option value={item.get(\"itemNameTrans\")[\"es\"]} key={idx}>{item.get(\"itemNameTrans\")[storageLanguage]}</option>\n                                    //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n                                    ))}\n                                </FormSelect>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </Col>\n                    <Col>\n                        <Form>\n                        <Row form>\n                                <Col md=\"12\" className=\"form-group\">\n                                <label htmlFor=\"feInputState\">{t(\"IDEA_MANAGE_STATUS\")}</label>\n                                <FormSelect id=\"feInputState\" onChange={this.handleStatusChange.bind(this)} value={status}>\n                                    <option>{t('FILTER_ALL')}</option>\n                                    <option>{t('FILTER_SUBMITTED')}</option>\n                                    <option>{t('FILTER_DONE')}</option>\n                                </FormSelect>\n                                </Col>\n                            </Row>\n                        </Form>\n                    </Col>\n                    <Col>\n                        <Form>\n                        <label htmlFor=\"feInputState\">{t(\"IDEA_MANAGE_TYPES\")}</label>\n                        <FormSelect id=\"feInputState\" onChange={this.handleTypeChange.bind(this)} value={ideaType}>\n                                    <option>{t('FILTER_ALL')}</option>\n                                    <option>{t('FILTER_INNOVATION')}</option>\n                                    <option>{t('FILTER_PROBLEM_F')}</option>\n                                </FormSelect>\n                        </Form>\n                    </Col>\n                    {/* <Col>\n                        <Form>\n                        <label htmlFor=\"feInputState\">{t(\"IDEA_MANAGE_QUESTIONS\")}</label>\n                        <FormSelect id=\"feInputState\" onChange={this.handleQuestionChange.bind(this)} value={ideaType}>\n                                    <option>{t('FILTER_ALL')}</option>\n                                    { ideaQuestions.map((item, idx) => (\n                                        // <FormCheckbox onChange={e => this.handleToggle(item)} className=\"mb-1\" checked={item.get(\"show\")} key={idx}> \n                                        //   {item.get(\"itemName\")}\n                                        // </FormCheckbox>\n                                        <option value={item.get(\"questionTrans\")[\"es\"]} key={idx}>{item.get(\"questionTrans\")[storageLanguage]}</option>\n                                    //   <IndividualPropertyItem itemName={item.get(\"itemName\")} itemID={item.get(\"objectId\")} objectClass={this.className}/>\n                                    ))}\n                                </FormSelect>\n                        </Form>\n                    </Col> */}\n                    </Row>\n                </ListGroupItem>\n                </ListGroup>\n            </CardBody>\n            </Card>\n            \n            );\n      }\n}\n\n\n// PropertyManager.defaultProps = {\n//   title: \"Categorias\"\n// };\n\nexport default withTranslation()(IdeaFilterManager);\n"]},"metadata":{},"sourceType":"module"}